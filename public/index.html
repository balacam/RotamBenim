<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotam Benim - Basit Login Test</title>
    
    <!-- Tabler CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler.min.css">
    
    <!-- Awesomplete CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.5/awesomplete.min.css" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tabler Autocomplete JS -->
    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/js/tabler.min.js"></script>
    
    <!-- Awesomplete JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.5/awesomplete.min.js"></script>
    
    <style>
        :root {
            --card-opacity: 0.50;
        }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .bg-overlay {
            position: fixed;
            z-index: 0;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            opacity: 0.5;
            background-size: cover;
            background-position: center;
            transition: opacity 0.5s;
        }
        
        .login-container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .login-card {
            background: rgba(255,255,255,var(--card-opacity)) !important;
            border-radius: 16px;
            padding: 32px;
            max-width: 1200px;
            width: 100%;
            text-align: center;
        }
        
        .login-logo {
            font-size: 2rem;
            font-weight: 700;
            color: #206bc4;
            margin-bottom: 10px;
        }
        
        .login-subtitle {
            color: #626976;
            margin-bottom: 30px;
        }
        
        .google-btn {
            background: #4285f4;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            margin-bottom: 20px;
        }
        
        .google-btn:hover {
            background: #3367d6;
            transform: translateY(-2px);
        }
        
        .google-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .user-info {
            background: transparent !important;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
        }
        
        .status-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .status-success {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status-info {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .logout-btn:hover {
            background: #c82333;
        }
        
        .table-responsive {
            width: 100%;
            overflow-x: auto;
            margin-top: 30px;
        }
        .table {
            width: 100%;
            min-width: 900px;
            font-size: 14px;
            background: white;
            border-radius: 8px;
            border-collapse: separate;
            border-spacing: 0;
        }
        .table th, .table td {
            padding: 16px 14px;
            white-space: nowrap;
            vertical-align: top;
            min-height: 32px;
            line-height: 1.6;
            text-align: left;
        }
        .table td:last-child {
            text-align: center;
        }
        .table th {
            background: #f1f3f9;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        .table tr:nth-child(even) {
            background: #f8f9fa;
        }
        .table td {
            max-width: 180px;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .table td.description {
            max-width: 350px;
            white-space: normal;
            word-break: break-word;
        }
        .country-group-row {
            background: rgba(255,255,255,var(--card-opacity)) !important;
            font-weight: bold;
            font-size: 16px;
            text-align: left;
        }
        #filters { 
            position: relative;
        }
        #suggestions {
            position: absolute;
            left: 0;
            top: 100%;
            width: 350px;
            z-index: 9999;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 6px;
            min-height: 0;
        }
        .awesomplete {
            z-index: 99999 !important;
            position: relative;
        }
        .awesomplete > ul {
            z-index: 99999 !important;
            position: absolute;
        }
        .login-card, #filters {
            overflow: visible !important;
        }
        .table td.name {
            white-space: normal !important;
            word-break: break-word;
        }
    </style>
</head>
<body>
    <div class="bg-overlay" style="position:fixed;z-index:0;top:0;left:0;width:100vw;height:100vh;pointer-events:none;opacity:0.35;background-size:cover;background-position:center;transition:opacity 0.5s;"></div>
    <div class="login-container">
        <div class="login-card">
            <div class="login-logo">ğŸŒ Rotam Benim</div>
            
            <!-- Language Selection (before login) -->
            <div style="margin-bottom: 20px; text-align: center;">
                <label for="preLoginLanguage" style="display: block; margin-bottom: 8px; color: #626976; font-size: 14px;">Dil / Language:</label>
                <select id="preLoginLanguage" style="min-width: 120px; padding: 8px 12px; border-radius: 6px; border: 1px solid #ccc; background: white; font-size: 14px;">
                    <option value="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</option>
                    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                </select>
            </div>
            
            <!-- Login Button -->
            <button id="googleSignInBtn" class="google-btn">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                <span id="loginButtonText">Google ile GiriÅŸ Yap</span>
            </button>
            
            <!-- User Info (hidden by default) -->
            <div id="userInfo" class="user-info" style="display: none;">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <img id="userAvatar" class="user-avatar" src="" alt="User Avatar">
                    <div>
                        <div id="userName" style="font-weight: 600; font-size: 16px;"></div>
                        <div id="userEmail" style="color: #626976; font-size: 14px;"></div>
                    </div>
                </div>
                <button id="logoutBtn" class="logout-btn">Ã‡Ä±kÄ±ÅŸ Yap</button>
            </div>
            
            <!-- Status Messages -->
            <div id="statusMessage"></div>
            
            <!-- Filtreler -->
            <div id="filters" style="display: flex; gap: 16px; justify-content: flex-start; align-items: center; margin-bottom: 18px; margin-top: 18px; position: relative;">
              <select id="countryFilter" style="min-width: 140px; padding: 6px 10px; border-radius: 6px; border: 1px solid #ccc;"></select>
              <label for="visitedFilter">Ziyaret:</label>
              <select id="visitedFilter" style="min-width: 120px; padding: 6px 10px; border-radius: 6px; border: 1px solid #ccc;">
                <option value="all">TÃ¼mÃ¼</option>
                <option value="visited">Gezildi</option>
                <option value="notvisited" selected>Gezilmedi</option>
              </select>
              <input id="searchBox" class="form-control awesomplete" type="text" placeholder="Yeni yer adÄ±..." style="min-width: 180px; padding: 6px 10px; border-radius: 6px; border: 1px solid #ccc;" autocomplete="off" />
              <button id="addPlaceBtn" style="padding: 6px 18px; border-radius: 6px; border: none; background: #206bc4; color: white; font-weight: 500; cursor: pointer;">Ekle</button>
              
              <input id="locationSuggestionBox" type="text" placeholder="Åehir veya Ã¼lke adÄ±..." style="min-width: 180px; padding: 6px 10px; border-radius: 6px; border: 1px solid #ccc; margin-left: 15px;" autocomplete="off" list="locationSuggestions" />
              <datalist id="locationSuggestions">
                <!-- Dinamik Ã¶neriler buraya eklenecek -->
              </datalist>
              <button id="addLocationBtn" style="padding: 6px 18px; border-radius: 6px; border: none; background: #28a745; color: white; font-weight: 500; cursor: pointer;">Turistik Yerleri Ekle</button>
            </div>
            
            <!-- Gezilecek Yerler Tablosu -->
            <div id="placesTableWrapper" class="table-responsive">
              <div id="placesTableContainer" style="margin-top: 0; display: none;">
                <div style="margin-bottom: 15px; text-align: center;">
                  <button id="createRouteBtn" style="padding: 8px 20px; border-radius: 6px; border: none; background: #28a745; color: white; font-weight: 500; cursor: pointer; font-size: 14px;">ğŸ—ºï¸ SeÃ§ili Yerler Ä°Ã§in Rota OluÅŸtur</button>
                </div>
                <table id="placesTable" class="table table-sm">
                  <thead>
                    <tr>
                      <th>Yer AdÄ±</th>
                      <th>Åehir</th>
                      <th>Kategori</th>
                      <th>AÃ§Ä±klama</th>
                      <th>Ziyaret Edildi mi?</th>
                      <th>Rota Ä°Ã§in SeÃ§</th>
                      <th>Google Maps</th>
                      <th>Sil</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- SatÄ±rlar buraya eklenecek -->
                  </tbody>
                </table>
              </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Firebase imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";
        import { getFirestore, collection, getDocs, addDoc, query, where } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB6bIJOkooeRSKWtb09zdNmMIjHDbXCzYA",
            authDomain: "rotambenim.firebaseapp.com",
            projectId: "rotambenim",
            storageBucket: "rotambenim.firebasestorage.app",
            messagingSenderId: "374285362920",
            appId: "1:374285362920:web:b4058cf4a93e7337168b5d",
            measurementId: "G-0QVZ4LDYPJ"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const analytics = getAnalytics(app);
        const db = getFirestore(app);

        // DOM elements
        const googleSignInBtn = document.getElementById('googleSignInBtn');
        const userInfo = document.getElementById('userInfo');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const userEmail = document.getElementById('userEmail');
        const logoutBtn = document.getElementById('logoutBtn');
        const statusMessage = document.getElementById('statusMessage');
        const placesTableContainer = document.getElementById('placesTableContainer');
        const placesTableBody = document.querySelector('#placesTable tbody');
        const addPlaceBtn = document.getElementById('addPlaceBtn');
        const searchBox = document.getElementById('searchBox');
        const languageFilter = document.getElementById('languageFilter');
        const preLoginLanguage = document.getElementById('preLoginLanguage');
        const loginButtonText = document.getElementById('loginButtonText');
        let suggestionResults = [];
        const GEONAMES_USERNAME = "b.alacam";
        
        // Dil ayarlarÄ±
        let currentLanguage = 'tr';

        // Ãœlke isimleri mapping (tr/en)
        const countryNames = {
          'turkey': { tr: 'TÃœRKÄ°YE', en: 'TURKEY' },
          'germany': { tr: 'ALMANYA', en: 'GERMANY' },
          'france': { tr: 'FRANSA', en: 'FRANCE' },
          'italy': { tr: 'Ä°TALYA', en: 'ITALY' },
          'spain': { tr: 'Ä°SPANYA', en: 'SPAIN' },
          'greece': { tr: 'YUNANÄ°STAN', en: 'GREECE' },
          'netherlands': { tr: 'HOLLANDA', en: 'NETHERLANDS' },
          'belgium': { tr: 'BELÃ‡Ä°KA', en: 'BELGIUM' },
          'austria': { tr: 'AVUSTURYA', en: 'AUSTRIA' },
          'switzerland': { tr: 'Ä°SVÄ°Ã‡RE', en: 'SWITZERLAND' },
          'portugal': { tr: 'PORTEKÄ°Z', en: 'PORTUGAL' },
          'czech republic': { tr: 'Ã‡EK CUMHURÄ°YETÄ°', en: 'CZECH REPUBLIC' },
          'poland': { tr: 'POLONYA', en: 'POLAND' },
          'romania': { tr: 'ROMANYA', en: 'ROMANIA' },
          'bulgaria': { tr: 'BULGARÄ°STAN', en: 'BULGARIA' },
          'latvia': { tr: 'LETONYA', en: 'LATVIA' },
          'lithuania': { tr: 'LÄ°TVANYA', en: 'LITHUANIA' },
          'estonia': { tr: 'ESTONYA', en: 'ESTONIA' },
          'hungary': { tr: 'MACARÄ°STAN', en: 'HUNGARY' },
          'slovakia': { tr: 'SLOVAKYA', en: 'SLOVAKIA' },
          'slovenia': { tr: 'SLOVENYA', en: 'SLOVENIA' },
          'croatia': { tr: 'HIRVATÄ°STAN', en: 'CROATIA' },
          'serbia': { tr: 'SIRBÄ°STAN', en: 'SERBIA' },
          'ukraine': { tr: 'UKRAYNA', en: 'UKRAINE' },
          'norway': { tr: 'NORVEÃ‡', en: 'NORWAY' },
          'sweden': { tr: 'Ä°SVEÃ‡', en: 'SWEDEN' },
          'finland': { tr: 'FÄ°NLANDÄ°YA', en: 'FINLAND' },
          'south korea': { tr: 'GÃœNEY KORE', en: 'SOUTH KOREA' },
          'japan': { tr: 'JAPONYA', en: 'JAPAN' },
          'china': { tr: 'Ã‡Ä°N', en: 'CHINA' },
          'usa': { tr: 'AMERÄ°KA', en: 'USA' },
          'uk': { tr: 'BÄ°RLEÅÄ°K KRALLIK', en: 'UK' },
          // DiÄŸer Ã¼lkeler eklenebilir
        };
        const currentLang = 'tr'; // Ä°leride 'en' yapÄ±labilir

        // Show status message
        function showStatus(message, type = 'info') {
            const statusDiv = document.getElementById('statusMessage');
            if (!statusDiv) return;
            
            // Mesaj tipine gÃ¶re stil belirle
            let bgColor, textColor;
            switch(type) {
                case 'success':
                    bgColor = '#d4edda';
                    textColor = '#155724';
                    break;
                case 'error':
                    bgColor = '#f8d7da';
                    textColor = '#721c24';
                    break;
                case 'info':
                default:
                    bgColor = '#d1ecf1';
                    textColor = '#0c5460';
                    break;
            }
            
            statusDiv.innerHTML = `
                <div style="
                    background-color: ${bgColor};
                    color: ${textColor};
                    padding: 10px 15px;
                    border-radius: 5px;
                    margin: 10px 0;
                    border: 1px solid ${textColor}20;
                    font-size: 14px;
                ">
                    ${message}
                </div>
            `;
            
            // 5 saniye sonra mesajÄ± temizle
            setTimeout(() => {
                if (statusDiv) {
                    statusDiv.innerHTML = '';
                }
            }, 5000);
        }

        // Handle Google Sign In
        async function handleGoogleSignIn() {
            try {
                googleSignInBtn.disabled = true;
                showStatus('Google ile giriÅŸ yapÄ±lÄ±yor...', 'info');
                
                const provider = new GoogleAuthProvider();
                const result = await signInWithPopup(auth, provider);
                
                console.log('GiriÅŸ baÅŸarÄ±lÄ±:', result.user);
                showStatus('GiriÅŸ baÅŸarÄ±lÄ±!', 'success');
                
            } catch (error) {
                console.error('GiriÅŸ hatasÄ±:', error);
                
                let errorMessage = 'GiriÅŸ yapÄ±lÄ±rken bir hata oluÅŸtu.';
                if (error.code === 'auth/popup-closed-by-user') {
                    errorMessage = 'GiriÅŸ iptal edildi.';
                } else if (error.code === 'auth/network-request-failed') {
                    errorMessage = 'AÄŸ hatasÄ±. Ä°nternet baÄŸlantÄ±nÄ±zÄ± kontrol edin.';
                } else if (error.code === 'auth/unauthorized-domain') {
                    errorMessage = 'Bu domain iÃ§in giriÅŸ yetkisi yok. Firebase Console\'da domain\'i ekleyin.';
                }
                
                showStatus(errorMessage, 'error');
                googleSignInBtn.disabled = false;
            }
        }

        /**
         * GÃ¼venli Ã§Ä±kÄ±ÅŸ iÅŸlemi - GeliÅŸmiÅŸ hata yÃ¶netimi ile
         * KullanÄ±cÄ± verilerini temizler ve detaylÄ± hata mesajlarÄ± saÄŸlar
         */
        async function handleSignOut() {
            try {
                // Ã‡Ä±kÄ±ÅŸ iÅŸlemi baÅŸladÄ±ÄŸÄ±nÄ± gÃ¶ster
                showStatus('Ã‡Ä±kÄ±ÅŸ yapÄ±lÄ±yor...', 'info');
                
                // Firebase Auth Ã§Ä±kÄ±ÅŸ iÅŸlemi
                await signOut(auth);
                
                // Cache'i temizle
                if (typeof domCache !== 'undefined' && domCache && typeof domCache.clear === 'function') {
                    domCache.clear();
                }
                
                // Background manager'Ä± temizle
                if (window.enhancedBackgroundManager && typeof window.enhancedBackgroundManager.cleanup === 'function') {
                    window.enhancedBackgroundManager.cleanup();
                }
                
                // Local storage'dan geÃ§ici verileri temizle (gÃ¼venlik iÃ§in)
                try {
                    localStorage.removeItem('temp_user_data');
                    sessionStorage.clear();
                } catch (storageError) {
                    console.warn('Storage temizleme uyarÄ±sÄ±:', storageError);
                }
                
                console.log('Ã‡Ä±kÄ±ÅŸ iÅŸlemi baÅŸarÄ±yla tamamlandÄ±');
                showStatus('BaÅŸarÄ±yla Ã§Ä±kÄ±ÅŸ yapÄ±ldÄ±.', 'success');
                
            } catch (error) {
                console.error('Ã‡Ä±kÄ±ÅŸ iÅŸlemi hatasÄ±:', error);
                
                // Hata tÃ¼rÃ¼ne gÃ¶re kullanÄ±cÄ± dostu mesajlar
                let userMessage = 'Ã‡Ä±kÄ±ÅŸ yapÄ±lÄ±rken bir hata oluÅŸtu.';
                
                if (error.code === 'auth/network-request-failed') {
                    userMessage = 'Ä°nternet baÄŸlantÄ±sÄ± sorunu. Ã‡Ä±kÄ±ÅŸ iÅŸlemi tamamlanamadÄ±.';
                } else if (error.code === 'auth/too-many-requests') {
                    userMessage = 'Ã‡ok fazla istek gÃ¶nderildi. LÃ¼tfen bir sÃ¼re bekleyin.';
                } else if (error.message && error.message.includes('timeout')) {
                    userMessage = 'Ä°ÅŸlem zaman aÅŸÄ±mÄ±na uÄŸradÄ±. LÃ¼tfen tekrar deneyin.';
                } else if (error.message) {
                    userMessage = `Ã‡Ä±kÄ±ÅŸ hatasÄ±: ${error.message}`;
                }
                
                showStatus(userMessage, 'error');
                
                // Kritik hata durumunda sayfayÄ± yenile
                if (error.code === 'auth/internal-error') {
                    setTimeout(() => {
                        if (confirm('Kritik bir hata oluÅŸtu. SayfayÄ± yenilemek ister misiniz?')) {
                            window.location.reload();
                        }
                    }, 2000);
                }
            }
        }

        // Update UI based on auth state
        function updateUI(user) {
            if (user) {
                // User is signed in
                googleSignInBtn.style.display = 'none';
                userInfo.style.display = 'block';
                
                userName.textContent = user.displayName || 'KullanÄ±cÄ±';
                userEmail.textContent = user.email || '';
                
                if (user.photoURL) {
                    userAvatar.src = user.photoURL;
                } else {
                    userAvatar.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiM2MjY5NzYiLz4KPHN2ZyB4PSIxMiIgeT0iMTIiIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAxMmMyLjIxIDAgNC0xLjc5IDQtNHMtMS43OS00LTQtNC00IDEuNzktNCA0IDEuNzkgNCA0IDR6bTAgMmMtMi42NyAwLTggMS4zNC04IDR2MmgxNnYtMmMwLTIuNjYtNS4zMy00LTgtNHoiLz4KPC9zdmc+Cjwvc3ZnPgo=';
                }
                
            } else {
                // User is signed out
                googleSignInBtn.style.display = 'flex';
                userInfo.style.display = 'none';
                googleSignInBtn.disabled = false;
            }
        }

        // Auth state listener
        onAuthStateChanged(auth, async (user) => {
            console.log('Auth state changed:', user ? 'User signed in' : 'User signed out');
            updateUI(user);
            
            if (user) {
                // TÃ¼m popÃ¼ler yerleri ve Ã¼lkeleri topla
                const allPopularPlaces = await getAllPopularPlaces();
                const allCountryCodes = await getAllPopularCountryCodes();
                // KullanÄ±cÄ±nÄ±n mevcut yerlerini Ã§ek
                const userPlacesRef = collection(db, `users/${user.uid}/places`);
                const snapshot = await getDocs(userPlacesRef);
                const existingPlaces = new Map();
                snapshot.forEach(doc => {
                    const d = doc.data();
                    const key = `${(d.country || '').toUpperCase()}|||${(d.name || '').trim()}`;
                    existingPlaces.set(key, { ...d, docId: doc.id });
                });
                // Eksik popÃ¼ler yerleri ekle
                let addedCount = 0;
                for (const p of allPopularPlaces) {
                    const country = (p.country_tr || p.country_en || '').toUpperCase();
                    const name = p.name_tr;
                    const key = `${country}|||${name}`;
                    if (!existingPlaces.has(key)) {
                        await addDoc(userPlacesRef, filterUndefinedFields({
                            name: p.name_tr,
                            city: p.city_tr,
                            country: p.country_tr ? p.country_tr.toUpperCase() : undefined,
                            category: p.category_tr,
                            description: p.description_tr,
                            visited: false,
                            name_en: p.name_en,
                            city_en: p.city_en,
                            country_en: p.country_en ? p.country_en.toUpperCase() : undefined,
                            category_en: p.category_en,
                            description_en: p.description_en
                        }));
                        addedCount++;
                    } else {
                        // AÃ§Ä±klama eksikse gÃ¼ncelle
                        const place = existingPlaces.get(key);
                        if (!place.description || place.description.trim() === '') {
                            const { doc, updateDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
                            const docRef = doc(db, `users/${user.uid}/places`, place.docId);
                            await updateDoc(docRef, filterUndefinedFields({
                                description: p.description_tr,
                                name_en: p.name_en,
                                city_en: p.city_en,
                                country_en: p.country_en ? p.country_en.toUpperCase() : undefined,
                                category_en: p.category_en,
                                description_en: p.description_en
                            }));
                        }
                    }
                }
                if (addedCount > 0) showStatus(`${addedCount} yeni popÃ¼ler yer otomatik eklendi!`, 'success');
                else showStatus('TÃ¼m popÃ¼ler yerler zaten mevcut.', 'info');
                // Ãœlke dropdown'Ä±nÄ± gÃ¼ncelle
                await updateCountryDropdown(user, allCountryCodes);
            }
            
            loadPlacesTable(user);
        });

        // Event listeners
        googleSignInBtn.addEventListener('click', handleGoogleSignIn);
        logoutBtn.addEventListener('click', handleSignOut);
        
        // Awesomplete ile Ã¶neri getir
        const awesomplete = new Awesomplete(searchBox, {
          minChars: 2,
          maxItems: 10,
          autoFirst: true,
          list: [],
          item: function(suggestion, input) {
            // AÃ§Ä±klama baÅŸlÄ±ÄŸÄ±n altÄ±nda deÄŸil, baÅŸlÄ±ÄŸÄ±n hemen Ã¼stÃ¼nde olacak ÅŸekilde dÃ¼zenle
            const html = `<div style='display:flex;flex-direction:column;'>
              <span style='font-size:12px;color:#888;margin-bottom:2px;'>${suggestion.description || ''}</span>
              <strong>${suggestion.label}</strong>
            </div>`;
            const li = document.createElement('li');
            li.innerHTML = html;
            return li;
          },
          replace: function(suggestion) {
            this.input.value = suggestion.label;
          }
        });
        let lastSuggestions = [];
        searchBox.addEventListener('input', async () => {
          const query = searchBox.value.trim();
          if (!query) {
            awesomplete.list = [];
            lastSuggestions = [];
            return;
          }
          // Wikipedia'dan Ã§ek
          let wikiResults = [];
  try {
            const url = `https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(query)}+tourism+attraction+place&format=json&origin=*`;
            const resp = await fetch(url);
            const data = await resp.json();
            if (data.query && data.query.search) {
              // SÄ±kÄ± filtre: sadece gezilecek yer anahtar kelimeleriyle filtrele
              const touristKeywords = [
                "city", "town", "village", "park", "mountain", "lake", "museum", "site", "ruins", "castle", "beach", "island", "national park", "tourist attraction", "region", "province", "district", "valley", "canyon", "bay", "forest", "archaeological", "ancient", "historic", "landmark", "monument", "temple", "cathedral", "mosque", "church", "palace", "bazaar", "market", "bridge", "tower", "garden", "zoo", "aquarium", "harbor", "square", "plaza", "waterfall", "thermal", "spa", "resort", "cave", "gorge", "cliff", "fortress", "citadel", "basilica", "synagogue", "pagoda", "shrine", "observatory", "amphitheater", "arena", "stadium", "theater", "opera", "gallery", "exhibition", "statue", "sculpture", "fountain", "lighthouse", "botanical", "safari", "viewpoint", "panorama", "vista", "lookout", "observation", "peak", "summit"
              ];
              
              // KiÅŸi isimlerini ve yazarlarÄ± filtrelemek iÃ§in negatif anahtar kelimeler
              const negativeKeywords = [
                "author", "writer", "novelist", "poet", "politician", "actor", "actress", "director", "producer", "singer", "musician", "composer", "artist", "painter", "sculptor", "philosopher", "scientist", "inventor", "entrepreneur", "businessman", "businesswoman", "athlete", "player", "born", "died", "biography"
              ];
              
              wikiResults = data.query.search.filter(item => {
                const text = (item.title + ' ' + item.snippet).toLowerCase();
                
                // Turistik yer anahtar kelimelerinden en az birini iÃ§ermeli
                const hasTouristKeyword = touristKeywords.some(kw => text.includes(kw));
                
                // Negatif anahtar kelimelerden hiÃ§birini iÃ§ermemeli
                const hasNegativeKeyword = negativeKeywords.some(kw => text.includes(kw));
                
                // Turistik yer anahtar kelimesi iÃ§ermeli VE negatif anahtar kelime iÃ§ermemeli
                return hasTouristKeyword && !hasNegativeKeyword;
              }).map(item => ({
                label: item.title,
                value: item.title,
                description: item.snippet.replace(/<[^>]+>/g, ''),
                source: 'wikipedia'
              }));
            }
          } catch {}
          // Geonames'den Ã§ek
          let geoResults = [];
          try {
            // Turistik yerler iÃ§in feature code filtresi ekle
            // A (Ã¼lke, eyalet, bÃ¶lge), P (ÅŸehir, kÃ¶y), L (parklar, alanlar), S (spot, bina, Ã§iftlik), T (daÄŸ, tepe, kaya), H (su kÃ¼tlesi), V (orman, heath)
            const featureCodes = 'A.ADM1,A.ADM2,A.ADM3,P.PPL,P.PPLA,P.PPLC,L.PRK,L.LCTY,S.BLDG,S.HSE,S.HTL,S.MNMT,S.MSTY,S.OPRA,S.SQR,T.MT,T.HLL,T.VLC,H.LK,H.STM,H.SPNG,H.WTRF,V.FRST';
            const geoUrl = `https://secure.geonames.org/searchJSON?q=${encodeURIComponent(query)}&featureCode=${featureCodes}&maxRows=10&username=${GEONAMES_USERNAME}`;
            const geoResp = await fetch(geoUrl);
            const geoData = await geoResp.json();
            if (geoData.geonames) {
              // KiÅŸi isimlerini filtrelemek iÃ§in negatif anahtar kelimeler
              const negativeKeywords = [
                "author", "writer", "novelist", "poet", "politician", "actor", "actress", "director", "producer", "singer", "musician", "composer", "artist", "painter", "sculptor", "philosopher", "scientist", "inventor", "entrepreneur", "businessman", "businesswoman", "athlete", "player"
              ];
              
              geoResults = geoData.geonames
                .filter(g => {
                  // KiÅŸi isimlerini filtrele
                  const text = (g.name + ' ' + (g.fcodeName || '')).toLowerCase();
                  return !negativeKeywords.some(kw => text.includes(kw));
                })
                .map(g => ({
                  label: g.name,
                  value: g.name,
                  description: `${g.countryName || ''} ${g.fcodeName || ''}`,
                  source: 'geonames'
                }));
            }
          } catch {}
          // PopÃ¼ler yerlerden arama yap
          let popularResults = [];
          try {
            const response = await fetch('/popular-places.json');
            const popularPlaces = await response.json();
            // Hem TÃ¼rkÃ§e hem Ä°ngilizce isimlerde arama yap
            popularResults = popularPlaces
              .filter(p => {
                const nameTr = (p.name_tr || '').toLowerCase();
                const nameEn = (p.name_en || '').toLowerCase();
                const cityTr = (p.city_tr || '').toLowerCase();
                const cityEn = (p.city_en || '').toLowerCase();
                const searchQuery = query.toLowerCase();
                
                return nameTr.includes(searchQuery) || 
                       nameEn.includes(searchQuery) || 
                       cityTr.includes(searchQuery) || 
                       cityEn.includes(searchQuery);
              })
              .map(p => ({
                label: p.name_tr,
                value: p.name_tr,
                description: `${p.city_tr || ''}, ${p.country_tr || ''} - ${p.category_tr || ''}`,
                source: 'popular',
                data: p // TÃ¼m veriyi sakla
              }));
          } catch {}
          
          // SonuÃ§larÄ± birleÅŸtir ve sÄ±rala (popÃ¼ler yerler Ã¶nce gelsin)
          const allResults = [...popularResults, ...wikiResults, ...geoResults].filter((v, i, a) =>
            a.findIndex(t => t.value === v.value) === i
          );
          awesomplete.list = allResults;
          lastSuggestions = allResults;
        });
        // SeÃ§im veya enter ile ekle
        searchBox.addEventListener('awesomplete-selectcomplete', async (e) => {
          const user = auth.currentUser;
          if (!user) {
            showStatus('GiriÅŸ yapmadan yer ekleyemezsiniz.', 'error');
            return;
          }
          const selectedLabel = searchBox.value.trim();
          const item = lastSuggestions.find(s => s.label === selectedLabel) || { value: selectedLabel, description: '', source: 'manual' };
          addPlaceBtn.disabled = true;
          try {
            // EÄŸer seÃ§ilen Ã¶ÄŸe popÃ¼ler yerlerden geldiyse, doÄŸrudan o veriyi kullan
            if (item.source === 'popular' && item.data) {
              const placeData = item.data;
              await addDoc(collection(db, `users/${user.uid}/places`), {
                name: placeData.name_tr || item.value,
                city: placeData.city_tr || '',
                country: (placeData.country_tr || '').toUpperCase(),
                category: placeData.category_tr || '',
                description: placeData.description_tr || item.description || '',
                visited: false,
                name_en: placeData.name_en || '',
                city_en: placeData.city_en || '',
                country_en: (placeData.country_en || '').toUpperCase(),
                category_en: placeData.category_en || '',
                description_en: placeData.description_en || ''
              });
            } else {
              // PopÃ¼ler yerler JSON'unda arama
              let placeData = null;
              try {
                const response = await fetch('/popular-places.json');
                const popularPlaces = await response.json();
                // Hem TÃ¼rkÃ§e hem Ä°ngilizce isme bak
                placeData = popularPlaces.find(p =>
                  p.name_tr?.toLowerCase() === selectedLabel.toLowerCase() ||
                  p.name_en?.toLowerCase() === selectedLabel.toLowerCase()
                );
              } catch {}
              
              // EÄŸer popÃ¼ler yerler JSON'unda varsa, tÃ¼m alanlarÄ± oradan doldur
              if (placeData) {
                await addDoc(collection(db, `users/${user.uid}/places`), {
                  name: placeData.name_tr || item.value,
                  city: placeData.city_tr || '',
                  country: (placeData.country_tr || '').toUpperCase(),
                  category: placeData.category_tr || '',
                  description: placeData.description_tr || item.description || '',
                  visited: false,
                  name_en: placeData.name_en || '',
                  city_en: placeData.city_en || '',
                  country_en: (placeData.country_en || '').toUpperCase(),
                  category_en: placeData.category_en || '',
                  description_en: placeData.description_en || ''
                });
              } else {
                // Yoksa, mevcut mantÄ±kla ekle ama Ã¼lkeyi seÃ§ili Ã¼lke yap
                await addDoc(collection(db, `users/${user.uid}/places`), {
                  name: item.value,
                  city: '',
                  country: (countryFilter.value || '').toUpperCase(),
                  category: '',
                  description: item.description || '',
                  visited: false
                });
              }
            }
            showStatus('Yeni yer eklendi!', 'success');
            searchBox.value = '';
            addPlaceBtn.disabled = false;
            loadPlacesTable(user);
          } catch (err) {
            showStatus('Yer eklenirken hata: ' + err.message, 'error');
            addPlaceBtn.disabled = false;
          }
        });

        // Initialize
        console.log('Firebase initialized successfully');
        showStatus('Uygulama hazÄ±r. GiriÅŸ yapabilirsiniz.', 'info');

        // PopÃ¼ler yerler JSON'Ä±nÄ± yÃ¼kle ve iÅŸle
        async function loadPopularPlaces() {
          try {
            const response = await fetch('/popular-places.json');
            const popularPlaces = await response.json();
            return popularPlaces;
          } catch (error) {
            console.error('PopÃ¼ler yerler yÃ¼klenemedi:', error);
            return [];
          }
        }

        // Yeni kullanÄ±cÄ± iÃ§in popÃ¼ler yerleri yÃ¼kle
        async function loadPopularPlacesForNewUser(user) {
          try {
            const popularPlaces = await loadPopularPlaces();
            const userPlacesRef = collection(db, `users/${user.uid}/places`);
            
            // KullanÄ±cÄ±nÄ±n mevcut yerlerini kontrol et
            const existingSnapshot = await getDocs(userPlacesRef);
            const existingPlaces = new Set();
            existingSnapshot.forEach(doc => {
              const data = doc.data();
              // Hem TÃ¼rkÃ§e hem Ä°ngilizce isimleri kontrol et
              existingPlaces.add(`${data.name}-${data.country}`);
              if (data.name_en) {
                existingPlaces.add(`${data.name_en}-${data.country_en || data.country}`);
              }
            });

            // PopÃ¼ler yerleri ekle (eÄŸer yoksa)
            let addedCount = 0;
            for (const place of popularPlaces) {
              const placeKeyTr = `${place.name_tr}-${place.country_tr.toUpperCase()}`;
              const placeKeyEn = `${place.name_en}-${place.country_en.toUpperCase()}`;
              
              if (!existingPlaces.has(placeKeyTr) && !existingPlaces.has(placeKeyEn)) {
                await addDoc(userPlacesRef, {
                  name: place.name_tr,
                  city: place.city_tr,
                  country: place.country_tr.toUpperCase(),
                  category: place.category_tr,
                  description: place.description_tr,
                  visited: false,
                  name_en: place.name_en,
                  city_en: place.city_en,
                  country_en: place.country_en.toUpperCase(),
                  category_en: place.category_en,
                  description_en: place.description_en
                });
                addedCount++;
              }
            }
            
            if (addedCount > 0) {
              showStatus(`${addedCount} popÃ¼ler yer eklendi!`, 'success');
            } else {
              showStatus('TÃ¼m popÃ¼ler yerler zaten mevcut.', 'info');
            }
          } catch (error) {
            console.error('PopÃ¼ler yerler yÃ¼klenirken hata:', error);
            showStatus('PopÃ¼ler yerler yÃ¼klenirken hata oluÅŸtu: ' + error.message, 'error');
          }
        }

        // Firestore'a undefined alan gÃ¶ndermeyi engelleyen yardÄ±mcÄ± fonksiyon
        function filterUndefinedFields(obj) {
          const result = {};
          for (const key in obj) {
            if (obj[key] !== undefined) {
              result[key] = obj[key];
            }
          }
          return result;
        }

        // Mevcut kullanÄ±cÄ± iÃ§in eksik aÃ§Ä±klamalarÄ± doldur
        async function fillMissingDescriptions(user) {
          try {
            const popularPlaces = await loadPopularPlaces();
            const userPlacesRef = collection(db, `users/${user.uid}/places`);
            const snapshot = await getDocs(userPlacesRef);
            
            let updatedCount = 0;
            const { doc, updateDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
            
            for (const docSnapshot of snapshot.docs) {
              const data = docSnapshot.data();
              // AÃ§Ä±klama eksikse popÃ¼ler yerlerden bul
              if (!data.description || data.description.trim() === '') {
                // Hem TÃ¼rkÃ§e hem Ä°ngilizce isimlerle eÅŸleÅŸtir
                let matchingPlace = popularPlaces.find(place => 
                  (place.name_tr === data.name && place.country_tr.toUpperCase() === data.country) ||
                  (place.name_en === data.name && place.country_en.toUpperCase() === data.country)
                );
                
                // EÄŸer bulunamazsa, sadece isimle eÅŸleÅŸtir
                if (!matchingPlace) {
                  matchingPlace = popularPlaces.find(place => 
                    place.name_tr === data.name || place.name_en === data.name
                  );
                }
                
                if (matchingPlace) {
                  const docRef = doc(db, `users/${user.uid}/places`, docSnapshot.id);
                  await updateDoc(docRef, {
                    description: matchingPlace.description_tr,
                    name_en: matchingPlace.name_en,
                    city_en: matchingPlace.city_en,
                    country_en: matchingPlace.country_en.toUpperCase(),
                    category_en: matchingPlace.category_en,
                    description_en: matchingPlace.description_en
                  });
                  updatedCount++;
                }
              }
            }
            
            if (updatedCount > 0) {
              showStatus(`${updatedCount} yerin aÃ§Ä±klamasÄ± gÃ¼ncellendi!`, 'success');
            } else {
              showStatus('GÃ¼ncellenecek aÃ§Ä±klama bulunamadÄ±.', 'info');
            }
          } catch (error) {
            console.error('AÃ§Ä±klamalar doldurulurken hata:', error);
            showStatus('AÃ§Ä±klamalar doldurulurken hata oluÅŸtu: ' + error.message, 'error');
          }
        }

        // Ãœlke kayÄ±tlarÄ±nÄ± birleÅŸtir ve eksik yerleri ekle
        async function mergeCountriesAndAddMissingPlaces(user) {
          try {
            const popularPlaces = await loadPopularPlaces();
            const userPlacesRef = collection(db, `users/${user.uid}/places`);
            const snapshot = await getDocs(userPlacesRef);
            const { doc, updateDoc, deleteDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');

            // TÃ¼m yerleri Ã¼lke+isim kombinasyonuna gÃ¶re grupla
            const placeMap = new Map();
            const toDelete = [];
            for (const docSnapshot of snapshot.docs) {
              const data = docSnapshot.data();
              const country = (data.country || '').toUpperCase();
              const name = (data.name || '').trim();
              const key = `${country}|||${name}`;
              if (!placeMap.has(key)) {
                placeMap.set(key, { ...data, docId: docSnapshot.id });
              } else {
                // AynÄ± Ã¼lke ve isimde birden fazla kayÄ±t varsa, sadece birini bÄ±rak
                toDelete.push(docSnapshot.id);
              }
            }

            // Silinecek tekrar eden kayÄ±tlarÄ± sil
            for (const docId of toDelete) {
              const docRef = doc(db, `users/${user.uid}/places`, docId);
              await deleteDoc(docRef);
            }

            // AÃ§Ä±klamalarÄ± gÃ¼ncelle ve eksik popÃ¼ler yerleri ekle
            let updatedCount = 0;
            let addedCount = 0;
            const existingKeys = new Set(placeMap.keys());
            // AÃ§Ä±klamalarÄ± gÃ¼ncelle
            for (const [key, place] of placeMap.entries()) {
              if (!place.description || place.description.trim() === '') {
                const [country, name] = key.split('|||');
                const matching = popularPlaces.find(p =>
                  (p.country_tr && p.country_tr.toUpperCase() === country && p.name_tr === name) ||
                  (p.country_en && p.country_en.toUpperCase() === country && p.name_en === name)
                );
                if (matching) {
                  const docRef = doc(db, `users/${user.uid}/places`, place.docId);
                  await updateDoc(docRef, filterUndefinedFields({
                    description: matching.description_tr,
                    name_en: matching.name_en,
                    city_en: matching.city_en,
                    country_en: matching.country_en ? matching.country_en.toUpperCase() : undefined,
                    category_en: matching.category_en,
                    description_en: matching.description_en
                  }));
                  updatedCount++;
                }
              }
            }
            // Eksik popÃ¼ler yerleri ekle
            for (const p of popularPlaces) {
              const country = (p.country_tr || p.country_en || '').toUpperCase();
              const name = p.name_tr;
              const key = `${country}|||${name}`;
              if (!existingKeys.has(key)) {
                await addDoc(userPlacesRef, filterUndefinedFields({
                  name: p.name_tr,
                  city: p.city_tr,
                  country: p.country_tr ? p.country_tr.toUpperCase() : undefined,
                  category: p.category_tr,
                  description: p.description_tr,
                  visited: false,
                  name_en: p.name_en,
                  city_en: p.city_en,
                  country_en: p.country_en ? p.country_en.toUpperCase() : undefined,
                  category_en: p.category_en,
                  description_en: p.description_en
                }));
                addedCount++;
              }
            }
            let msg = '';
            if (toDelete.length > 0) msg += `${toDelete.length} tekrar eden kayÄ±t silindi. `;
            if (updatedCount > 0) msg += `${updatedCount} aÃ§Ä±klama gÃ¼ncellendi. `;
            if (addedCount > 0) msg += `${addedCount} yeni yer eklendi.`;
            if (!msg) msg = 'Herhangi bir deÄŸiÅŸiklik yapÄ±lmadÄ±.';
            showStatus(msg, 'success');
          } catch (error) {
            console.error('Ãœlke birleÅŸtirme hatasÄ±:', error);
            showStatus('Ãœlke birleÅŸtirme hatasÄ±: ' + error.message, 'error');
          }
        }

        /**
         * KullanÄ±cÄ±nÄ±n yerlerini tablo formatÄ±nda yÃ¼kler ve gÃ¶rÃ¼ntÃ¼ler
         * @param {Object} user - Firebase Auth kullanÄ±cÄ± objesi
         */
        async function loadPlacesTable(user) {
          console.log('loadPlacesTable Ã§aÄŸrÄ±ldÄ±, user:', user);
          if (!user || !user.uid) {
            console.warn('GeÃ§ersiz kullanÄ±cÄ± objesi - kullanÄ±cÄ± giriÅŸ yapmamÄ±ÅŸ');
            const placesContainer = domCache.get('placesTableContainer');
            if (placesContainer) {
              placesContainer.style.display = 'none';
            }
            return;
          }
          console.log('KullanÄ±cÄ± geÃ§erli, yerler yÃ¼kleniyor...');

          try {
            // KullanÄ±cÄ±nÄ±n yerlerini yÃ¼kle
            const userPlacesList = await loadUserPlacesFromFirestore(user);
            
            // Tablo elementlerini cache'den al
            const placesTableBody = domCache.get('placesTableBody');
            if (!placesTableBody) {
              console.error('Yerler tablosu bulunamadÄ±');
              return;
            }

            // Ãœlke filtrelerini hazÄ±rla
            const uniqueCountries = extractUniqueCountries(userPlacesList);
            
            // Ãœlke combobox'Ä±nÄ± doldur
            const countryFilter = domCache.get('countryFilter');
            if (countryFilter && (countryFilter.options.length === 0 || countryFilter.options.length !== uniqueCountries.length)) {
              countryFilter.innerHTML = '';
              uniqueCountries.forEach(englishKey => {
                const opt = document.createElement('option');
                opt.value = englishKey;
                const trName = countryNames[englishKey]?.[currentLang] || englishKey;
                opt.textContent = toTurkishUpper(trName);
                countryFilter.appendChild(opt);
              });
              // VarsayÄ±lan Ã¼lke: ALMANYA
              if (!countryFilter.value) countryFilter.value = 'ALMANYA';
            }

            // FiltrelenmiÅŸ yerleri gÃ¶ster
            const filteredPlaces = applyTableFilters(userPlacesList);
            renderPlacesInTable(filteredPlaces, placesTableBody, user);
            
          } catch (error) {
            console.error('Yerler tablosu yÃ¼klenirken hata:', error);
            showStatus('Yerler yÃ¼klenirken bir hata oluÅŸtu', 'error');
          }
        }

        /**
         * KullanÄ±cÄ±nÄ±n yerlerini Firestore'dan yÃ¼kler
         * @param {Object} user - Firebase Auth kullanÄ±cÄ± objesi
         * @returns {Promise<Array>} KullanÄ±cÄ±nÄ±n yerlerinin listesi
         */
        async function loadUserPlacesFromFirestore(user) {
          console.log('Firestore\'dan yerler yÃ¼kleniyor, user.uid:', user.uid);
          const userPlacesCollection = collection(db, `users/${user.uid}/places`);
          const placesSnapshot = await getDocs(userPlacesCollection);
          console.log('Firestore snapshot alÄ±ndÄ±, docs sayÄ±sÄ±:', placesSnapshot.size);

          const userPlacesList = [];
          placesSnapshot.forEach(placeDoc => {
            const placeData = placeDoc.data();
            userPlacesList.push({
              ...placeData,
              _docId: placeDoc.id,
              // Veri doÄŸrulama ve varsayÄ±lan deÄŸerler
              name: placeData.name || 'Ä°simsiz Yer',
              city: placeData.city || '',
              country: placeData.country || 'Bilinmeyen Ãœlke',
              category: placeData.category || 'Genel',
              description: placeData.description || '',
              visited: Boolean(placeData.visited)
            });
          });

          console.log(`${userPlacesList.length} yer Firestore'dan yÃ¼klendi`);
          return userPlacesList;
        }

        /**
         * Yer listesinden benzersiz Ã¼lkeleri Ã§Ä±karÄ±r
         * @param {Array} places - Yer listesi
         * @returns {Array} Benzersiz Ã¼lkeler listesi
         */
        function extractUniqueCountries(places) {
          const countrySet = new Set();
          
          places.forEach(place => {
            if (place.country) {
              const normalizedCountryKey = getEnglishCountryKeySafe(place.country);
              countrySet.add(normalizedCountryKey);
            }
          });

          const uniqueCountries = Array.from(countrySet).sort();

          // TÃ¼rkÃ§e isme gÃ¶re sÄ±rala
          uniqueCountries.sort((a, b) => {
            const trA = toTurkishUpper(countryNames[a]?.[currentLang] || a);
            const trB = toTurkishUpper(countryNames[b]?.[currentLang] || b);
            return trA.localeCompare(trB, 'tr');
          });
          
          return uniqueCountries;
        }
        
        /**
         * Tablo filtrelerini uygular
         * @param {Array} places - Yerler listesi
         * @returns {Array} FiltrelenmiÅŸ yerler
         */
        function applyTableFilters(places) {
          const countryFilter = domCache.get('countryFilter');
          const visitedFilter = domCache.get('visitedFilter');
          
          if (!countryFilter || !visitedFilter) return places;
          
          // Filtreye gÃ¶re verileri sÃ¼z
          let filtered = [];
          const selectedCountry = countryFilter.value;
          const selectedVisited = visitedFilter.value;
          filtered = places.filter(p => getEnglishCountryKeySafe(p.country) === selectedCountry);
          if (selectedVisited === 'visited') filtered = filtered.filter(p => p.visited);
          else if (selectedVisited === 'notvisited') filtered = filtered.filter(p => !p.visited);
          
          return filtered;
        }

        /**
         * Yerleri tabloda gÃ¶sterir
         * @param {Array} places - GÃ¶sterilecek yerler
         * @param {HTMLElement} tableBody - Tablo body elementi
         * @param {Object} user - KullanÄ±cÄ± objesi
         */
        function renderPlacesInTable(places, tableBody, user) {
          if (!tableBody || !places) return;
          
          tableBody.innerHTML = '';
          
          const filtered = places.slice().sort((a, b) => (a.city || '').localeCompare(b.city || ''));
           filtered.forEach(data => {
            const row = document.createElement('tr');
            const categoryHtml = (data.category || '').replace(/\s*\/\s*/g, '<br>');
            const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent((data.name || '') + ' ' + (data.city || '') + ' ' + (data.country || ''))}`;
            row.innerHTML = `
              <td class="name">${data.name || ''}</td>
              <td>${data.city || ''}</td>
              <td>${categoryHtml}</td>
              <td class="description">${data.description || ''}</td>
              <td style="text-align:center;"><input type="checkbox" class="visited-checkbox" data-docid="${data._docId}" ${data.visited ? 'checked' : ''}></td>
              <td style="text-align:center;"><input type="checkbox" class="route-checkbox" data-name="${data.name || ''}" data-city="${data.city || ''}" data-country="${data.country || ''}"></td>
              <td style="text-align:center;"><a href="${googleMapsUrl}" target="_blank" style="background:#4285f4;color:white;border:none;padding:4px 8px;border-radius:5px;text-decoration:none;font-size:12px;">ğŸ—ºï¸ Maps</a></td>
              <td style="text-align:center;"><button class="delete-place-btn" data-docid="${data._docId}" style="background:#dc3545;color:white;border:none;padding:4px 10px;border-radius:5px;cursor:pointer;">Sil</button></td>
            `;
            placesTableBody.appendChild(row);
          });

          // Checkbox event listener
          document.querySelectorAll('.visited-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', async (e) => {
              const docId = e.target.getAttribute('data-docid');
              const checked = e.target.checked;
              try {
                const placeDocRef = collection(db, `users/${user.uid}/places`);
                // Firestore doc() ile referans oluÅŸtur
                const { doc, updateDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
                const ref = doc(db, `users/${user.uid}/places`, docId);
                await updateDoc(ref, { visited: checked });
              } catch (err) {
                alert('GÃ¼ncelleme hatasÄ±: ' + err.message);
                e.target.checked = !checked; // Hata olursa eski haline dÃ¶ndÃ¼r
              }
            });
          });

          // Silme butonu event listener
          document.querySelectorAll('.delete-place-btn').forEach(btn => {
            btn.addEventListener('click', async (e) => {
              const docId = e.target.getAttribute('data-docid');
              if (!confirm('Bu yeri silmek istediÄŸinize emin misiniz?')) return;
              try {
                const { doc, deleteDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
                const ref = doc(db, `users/${user.uid}/places`, docId);
                await deleteDoc(ref);
                showStatus('Yer silindi.', 'success');
                loadPlacesTable(user);
              } catch (err) {
                showStatus('Silme hatasÄ±: ' + err.message, 'error');
              }
            });
          });

          // Rota oluÅŸturma butonu event listener
          const createRouteBtn = document.getElementById('createRouteBtn');
          if (createRouteBtn) {
            createRouteBtn.addEventListener('click', () => {
              createGoogleMapsRoute();
            });
          }

          // Åehir/Ãœlke ekleme butonu event listener
          const addLocationBtn = document.getElementById('addLocationBtn');
          if (addLocationBtn) {
            addLocationBtn.addEventListener('click', () => {
              addTouristPlacesForLocation();
            });
          }
          
          // Åehir/Ãœlke Ã¶neri sistemi
          const locationSuggestionBox = document.getElementById('locationSuggestionBox');
          const locationSuggestions = document.getElementById('locationSuggestions');
          
          if (locationSuggestionBox && locationSuggestions) {
            locationSuggestionBox.addEventListener('input', function() {
              const inputValue = this.value.toLowerCase();
              
              if (inputValue.length < 2) {
                locationSuggestions.innerHTML = '';
                return;
              }
              // Ã–neri sistemi devamÄ±...
            });
          }
        }
        
        // Åehir/Ãœlke Ã¶neri sistemi devamÄ±
        function initLocationSuggestions() {
          const locationSuggestionBox = document.getElementById('locationSuggestionBox');
          const locationSuggestions = document.getElementById('locationSuggestions');
          
          if (locationSuggestionBox && locationSuggestions) {
            locationSuggestionBox.addEventListener('input', function() {
              const inputValue = this.value.toLowerCase();
              
              if (inputValue.length < 2) {
                locationSuggestions.innerHTML = '';
                return;
              }
              
              // Åehir ve Ã¼lke Ã¶nerileri listesi
              const suggestions = [
                // PopÃ¼ler ÅŸehirler
                'Aachen', 'Berlin', 'MÃ¼nchen', 'Hamburg', 'KÃ¶ln', 'Frankfurt', 'Stuttgart', 'DÃ¼sseldorf',
                'Paris', 'Lyon', 'Marseille', 'Toulouse', 'Nice', 'Bordeaux', 'Lille', 'Strasbourg',
                'Roma', 'Milano', 'Napoli', 'Torino', 'Venezia', 'Firenze', 'Bologna', 'Palermo',
                'Madrid', 'Barcelona', 'Valencia', 'Sevilla', 'Bilbao', 'MÃ¡laga', 'Zaragoza', 'Murcia',
                'London', 'Manchester', 'Birmingham', 'Liverpool', 'Leeds', 'Glasgow', 'Edinburgh', 'Bristol',
                'New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix', 'Philadelphia', 'San Antonio', 'San Diego',
                'Tokyo', 'Osaka', 'Kyoto', 'Yokohama', 'Nagoya', 'Sapporo', 'Fukuoka', 'Kobe',
                'Istanbul', 'Ankara', 'Ä°zmir', 'Bursa', 'Antalya', 'Adana', 'Konya', 'Gaziantep',
                // Ãœlkeler
                'Germany', 'France', 'Italy', 'Spain', 'United Kingdom', 'United States', 'Japan', 'Turkey',
                'Netherlands', 'Belgium', 'Switzerland', 'Austria', 'Portugal', 'Greece', 'Poland',
                'Czech Republic', 'Hungary', 'Romania', 'Bulgaria', 'Croatia', 'Slovakia', 'Slovenia',
                'Estonia', 'Latvia', 'Lithuania', 'Canada', 'Australia', 'South Korea', 'China', 'India',
                'Brazil', 'Russia', 'Mexico', 'Argentina'
              ];
              
              // Filtreleme
              const filteredSuggestions = suggestions.filter(suggestion => 
                suggestion.toLowerCase().includes(inputValue)
              ).slice(0, 10); // Ä°lk 10 Ã¶neriyi gÃ¶ster
              
              // Datalist'i gÃ¼ncelle
              locationSuggestions.innerHTML = '';
              filteredSuggestions.forEach(suggestion => {
                const option = document.createElement('option');
                option.value = suggestion;
                locationSuggestions.appendChild(option);
              });
            });
          }

          placesTableContainer.style.display = '';
        }

        // Åehir/Ãœlke iÃ§in turistik yerler ekleme fonksiyonu
         async function addTouristPlacesForLocation() {
           const locationInput = document.getElementById('locationSuggestionBox');
           const location = locationInput.value.trim();
           
           if (!location) {
             showStatus('LÃ¼tfen bir ÅŸehir veya Ã¼lke adÄ± girin!', 'error');
             return;
           }
           
           const user = auth.currentUser;
           if (!user) {
             showStatus('LÃ¼tfen Ã¶nce giriÅŸ yapÄ±n!', 'error');
             return;
           }
           
           try {
             showStatus(`${location} iÃ§in turistik yerler araÅŸtÄ±rÄ±lÄ±yor...`, 'info');
             
             // TÃ¼rkiye iÃ§in Ã¶zel durum - ÅŸehir isimleri Ã¶ner
             if (location.toLowerCase() === 'tÃ¼rkiye' || location.toLowerCase() === 'turkey') {
               showStatus('TÃ¼rkiye iÃ§in lÃ¼tfen ÅŸehir adÄ± girin (Ã¶rn: Ä°stanbul, Ankara, Ä°zmir, Antalya, Kapadokya). Ãœlke geneli iÃ§in Ã§ok fazla yer bulunur.', 'info');
               return;
             }
             
             // Ã–nce ÅŸehir kontrolÃ¼ yap - ÅŸehir haritasÄ±nda var mÄ±?
             const detectedCountry = detectCountryFromCity(location);
             if (detectedCountry) {
               // Bu bir ÅŸehir, ÅŸehir yerlerini ekle
               await addCityPlaces(user, location);
               locationInput.value = '';
               return;
             }
             
             // Åehir deÄŸilse, Ã¼lke kontrolÃ¼ yap
             const countryData = await checkIfCountryExists(location);
             if (countryData) {
               await addCountryPlaces(user, countryData, location);
               locationInput.value = '';
               return;
             }
             
             // Ne ÅŸehir ne de Ã¼lke olarak tanÄ±nmÄ±yorsa
             showStatus(`${location} ÅŸehir veya Ã¼lke olarak tanÄ±nmadÄ±. LÃ¼tfen geÃ§erli bir ÅŸehir veya Ã¼lke adÄ± girin.`, 'error');
             
           } catch (error) {
             console.error('Turistik yerler eklenirken hata:', error);
             showStatus('Turistik yerler eklenirken bir hata oluÅŸtu: ' + error.message, 'error');
           }
         }
         
         // Ãœlke kontrolÃ¼ - dinamik web araÅŸtÄ±rmasÄ± ile
         async function checkIfCountryExists(countryName) {
           const countryFiles = {
             'almanya': 'popular-germany.json', 'germany': 'popular-germany.json',
             'fransa': 'popular-france.json', 'france': 'popular-france.json',
             'italya': 'popular-italy.json', 'italy': 'popular-italy.json',
             'ispanya': 'popular-spain.json', 'spain': 'popular-spain.json',
             'hollanda': 'popular-netherlands.json', 'netherlands': 'popular-netherlands.json',
             'isviÃ§re': 'popular-switzerland.json', 'switzerland': 'popular-switzerland.json',
             'belÃ§ika': 'popular-belgium.json', 'belgium': 'popular-belgium.json',
             'avusturya': 'popular-austria.json', 'austria': 'popular-austria.json',
             'polonya': 'popular-poland.json', 'poland': 'popular-poland.json',
             'Ã§ek cumhuriyeti': 'popular-czech-republic.json', 'czech republic': 'popular-czech-republic.json',
             'macaristan': 'popular-hungary.json', 'hungary': 'popular-hungary.json',
             'romanya': 'popular-romania.json', 'romania': 'popular-romania.json',
             'yunanistan': 'popular-greece.json', 'greece': 'popular-greece.json',
             'portekiz': 'popular-portugal.json', 'portugal': 'popular-portugal.json',
             'hÄ±rvatistan': 'popular-croatia.json', 'croatia': 'popular-croatia.json',
             'slovenya': 'popular-slovenia.json', 'slovenia': 'popular-slovenia.json',
             'bulgaristan': 'popular-bulgaria.json', 'bulgaria': 'popular-bulgaria.json',
             'slovakya': 'popular-slovakia.json', 'slovakia': 'popular-slovakia.json',
             'estonya': 'popular-estonia.json', 'estonia': 'popular-estonia.json',
             'letonya': 'popular-latvia.json', 'latvia': 'popular-latvia.json',
             'litvanya': 'popular-lithuania.json', 'lithuania': 'popular-lithuania.json',
             'gÃ¼ney kore': 'popular-south-korea.json', 'south korea': 'popular-south-korea.json',
             'japonya': 'popular-japan.json', 'japan': 'popular-japan.json',
             'Ã§in': 'popular-china.json', 'china': 'popular-china.json'
           };
           
           const fileName = countryFiles[countryName.toLowerCase()];
           if (fileName) {
             try {
               const response = await fetch(`/json/${fileName}`);
               if (response.ok) {
                 const data = await response.json();
                 return { fileName, data };
               }
             } catch (error) {
               console.error('Ãœlke dosyasÄ± yÃ¼klenirken hata:', error);
             }
           }
           
           // EÄŸer mevcut dosyalarda yoksa, dinamik olarak web araÅŸtÄ±rmasÄ± yap
           return await generateCountryPlacesFromWeb(countryName);
         }
         
         // Web araÅŸtÄ±rmasÄ± ile Ã¼lke turistik yerlerini oluÅŸtur
         async function generateCountryPlacesFromWeb(countryName) {
           try {
             // KullanÄ±cÄ±ya bilgi ver
             showStatus(`${countryName} iÃ§in turistik yerler araÅŸtÄ±rÄ±lÄ±yor...`, 'info');
             
             // Foursquare API'den Ã¼lke iÃ§in turistik yerler Ã§ek
             const foursquarePlaces = await getFoursquarePlaces(countryName);
             
             if (foursquarePlaces && foursquarePlaces.length >= 10) {
               return {
                 fileName: `dynamic-${countryName.toLowerCase().replace(/\s+/g, '-')}.json`,
                 data: foursquarePlaces
               };
             } else {
               console.warn(`${countryName} iÃ§in yeterli turistik yer bulunamadÄ±:`, foursquarePlaces?.length || 0);
               return null;
             }
           } catch (error) {
             console.error(`${countryName} iÃ§in web araÅŸtÄ±rmasÄ± hatasÄ±:`, error);
             return null;
           }
         }
         
         // Ãœlke iÃ§in turistik yerler ara
         async function searchTouristPlacesForCountry(countryName) {
           // Ãœlke adÄ±nÄ± normalize et
           const normalizedCountry = normalizeCountryName(countryName);
           
           // Ãœlkeye Ã¶zel turistik yerler veritabanÄ±
           const countryAttractions = {
             'brezilya': [
               { name: 'Christ the Redeemer', city: 'Rio de Janeiro', category: 'AnÄ±t', description: 'Rio de Janeiro\'da bulunan dÃ¼nyaca Ã¼nlÃ¼ Ä°sa heykeli. Art Deco tarzÄ±nda inÅŸa edilen bu 30 metre yÃ¼ksekliÄŸindeki heykel, ÅŸehrin simgesi ve Brezilya\'nÄ±n en Ã¶nemli turistik yerlerinden biridir.' },
               { name: 'Sugarloaf DaÄŸÄ±', city: 'Rio de Janeiro', category: 'DoÄŸal GÃ¼zellik', description: 'Rio de Janeiro\'nÄ±n simgesel daÄŸÄ±. Teleferikle Ã§Ä±kÄ±lan bu 396 metre yÃ¼ksekliÄŸindeki daÄŸdan ÅŸehrin ve Copacabana plajÄ±nÄ±n muhteÅŸem manzarasÄ± izlenir.' },
               { name: 'Iguazu Åelaleleri', city: 'Foz do IguaÃ§u', category: 'DoÄŸal GÃ¼zellik', description: 'Arjantin sÄ±nÄ±rÄ±nda bulunan dÃ¼nyaca Ã¼nlÃ¼ ÅŸelaleler. 275 adet ÅŸelaleden oluÅŸan bu doÄŸa harikasÄ±, UNESCO DÃ¼nya MirasÄ± listesindedir.' },
               { name: 'Copacabana PlajÄ±', city: 'Rio de Janeiro', category: 'Plaj', description: 'DÃ¼nyanÄ±n en Ã¼nlÃ¼ plajlarÄ±ndan biri. 4 km uzunluÄŸundaki bu plaj, beyaz kumlarÄ± ve canlÄ± atmosferiyle Rio\'nun kalbidir.' },
               { name: 'Amazon YaÄŸmur OrmanlarÄ±', city: 'Manaus', category: 'DoÄŸal GÃ¼zellik', description: 'DÃ¼nyanÄ±n en bÃ¼yÃ¼k yaÄŸmur ormanÄ±. Binlerce bitki ve hayvan tÃ¼rÃ¼ne ev sahipliÄŸi yapan bu orman, dÃ¼nyanÄ±n akciÄŸerleri olarak bilinir.' },
               { name: 'Pantanal', city: 'CuiabÃ¡', category: 'DoÄŸal GÃ¼zellik', description: 'DÃ¼nyanÄ±n en bÃ¼yÃ¼k sulak alanÄ±. Jaguar, kaiman ve yÃ¼zlerce kuÅŸ tÃ¼rÃ¼nÃ¼n yaÅŸadÄ±ÄŸÄ± bu bÃ¶lge, doÄŸa severler iÃ§in cennet.' },
               { name: 'Salvador Tarihi Merkezi', city: 'Salvador', category: 'Tarihi BÃ¶lge', description: 'Kolonyal dÃ¶nem mimarisinin en gÃ¼zel Ã¶rneklerinin bulunduÄŸu tarihi merkez. Renkli evleri ve cobblestone sokaklarÄ± ile UNESCO DÃ¼nya MirasÄ±.' },
               { name: 'Fernando de Noronha', city: 'Fernando de Noronha', category: 'Ada', description: 'Brezilya\'nÄ±n cennet adasÄ±. Kristal berraklÄ±ÄŸÄ±ndaki sularÄ±, renkli mercan resifleri ve egzotik deniz yaÅŸamÄ± ile dalÄ±ÅŸ tutkunlarÄ±nÄ±n gÃ¶zdesi.' },
               { name: 'LenÃ§Ã³is Maranhenses', city: 'Barreirinhas', category: 'DoÄŸal GÃ¼zellik', description: 'Beyaz kum tepeleri ve turkuaz gÃ¶ller arasÄ±nda oluÅŸan sÃ¼rreal manzara. YaÄŸmur mevsiminde oluÅŸan bu doÄŸa harikasÄ±, dÃ¼nyanÄ±n en benzersiz yerlerinden biri.' },
               { name: 'Ouro Preto', city: 'Ouro Preto', category: 'Tarihi Åehir', description: 'AltÄ±n madenciliÄŸi dÃ¶neminden kalma barok mimarisi ile Ã¼nlÃ¼ tarihi ÅŸehir. TaÅŸ dÃ¶ÅŸeli sokaklarÄ± ve kolonyal kiliseler ile UNESCO DÃ¼nya MirasÄ±.' }
             ],
             'arjantin': [
               { name: 'Iguazu Åelaleleri', city: 'Puerto Iguazu', category: 'DoÄŸal GÃ¼zellik', description: 'Brezilya sÄ±nÄ±rÄ±nda bulunan muhteÅŸem ÅŸelaleler. 275 adet ÅŸelaleden oluÅŸan bu doÄŸa harikasÄ±, UNESCO DÃ¼nya MirasÄ± listesindedir.' },
               { name: 'Perito Moreno Buzulu', city: 'El Calafate', category: 'Buzul', description: 'Patagonia\'da bulunan aktif buzul. 250 kmÂ² alana sahip bu buzul, sÃ¼rekli hareket halinde olup buzul kÄ±rÄ±lmalarÄ± izlenebilir.' },
               { name: 'Buenos Aires Tango Mahallesi', city: 'Buenos Aires', category: 'KÃ¼ltÃ¼rel BÃ¶lge', description: 'Tango\'nun doÄŸduÄŸu renkli mahalle La Boca. Caminito sokaÄŸÄ±, renkli evleri ve sokak sanatÃ§Ä±larÄ± ile Ã¼nlÃ¼dÃ¼r.' },
               { name: 'Mendoza Åarap BÃ¶lgesi', city: 'Mendoza', category: 'Åarap BÃ¶lgesi', description: 'And DaÄŸlarÄ± eteklerinde bulunan dÃ¼nyaca Ã¼nlÃ¼ ÅŸarap bÃ¶lgesi. Malbec Ã¼zÃ¼mÃ¼ ile Ã¼nlÃ¼ bu bÃ¶lgede ÅŸarap tadÄ±mlarÄ± yapÄ±lÄ±r.' },
               { name: 'Ushuaia', city: 'Ushuaia', category: 'Åehir', description: 'DÃ¼nyanÄ±n en gÃ¼ney ÅŸehri. Tierra del Fuego\'da bulunan bu ÅŸehir, Antarktika turlarÄ±nÄ±n baÅŸlangÄ±Ã§ noktasÄ±dÄ±r.' },
               { name: 'Salta', city: 'Salta', category: 'Tarihi Åehir', description: 'Kolonyal mimarisi ile Ã¼nlÃ¼ gÃ¼zel ÅŸehir. And DaÄŸlarÄ±\'nÄ±n eteklerinde bulunan bu ÅŸehir, geleneksel Arjantin kÃ¼ltÃ¼rÃ¼nÃ¼n merkezi.' },
               { name: 'Bariloche', city: 'San Carlos de Bariloche', category: 'DoÄŸal GÃ¼zellik', description: 'GÃ¶ller bÃ¶lgesinde bulunan tatil ÅŸehri. Nahuel Huapi GÃ¶lÃ¼ kÄ±yÄ±sÄ±nda yer alan bu ÅŸehir, kayak ve doÄŸa sporlarÄ± iÃ§in Ã¼nlÃ¼.' },
               { name: 'PenÃ­nsula ValdÃ©s', city: 'Puerto Madryn', category: 'DoÄŸal GÃ¼zellik', description: 'Balina gÃ¶zlemi iÃ§in dÃ¼nyaca Ã¼nlÃ¼ yarÄ±mada. GÃ¼ney balinalarÄ±nÄ±n Ã¼reme alanÄ± olan bu bÃ¶lge, UNESCO DÃ¼nya MirasÄ±.' },
               { name: 'Quebrada de Humahuaca', city: 'Humahuaca', category: 'DoÄŸal GÃ¼zellik', description: 'Renkli kayalÄ±klarÄ± ile Ã¼nlÃ¼ vadi. And DaÄŸlarÄ±\'nda bulunan bu vadi, UNESCO DÃ¼nya MirasÄ± listesindedir.' },
               { name: 'El Chalten', city: 'El Chalten', category: 'DoÄŸal GÃ¼zellik', description: 'Fitz Roy DaÄŸÄ±\'nÄ±n eteklerinde bulunan trekking cenneti. Patagonia\'nÄ±n en gÃ¼zel manzaralarÄ±na sahip bu bÃ¶lge, daÄŸcÄ±larÄ±n gÃ¶zdesi.' }
             ],
             'meksika': [
               { name: 'Chichen Itza', city: 'Yucatan', category: 'Tarihi YapÄ±', description: 'Maya medeniyetinin en Ã¶nemli kalÄ±ntÄ±larÄ±ndan biri. El Castillo piramidi ile Ã¼nlÃ¼ bu antik ÅŸehir, UNESCO DÃ¼nya MirasÄ± ve DÃ¼nyanÄ±n Yedi HarikasÄ±\'ndan biri.' },
               { name: 'Teotihuacan', city: 'Mexico City', category: 'Tarihi YapÄ±', description: 'GÃ¼neÅŸ ve Ay piramitleri ile Ã¼nlÃ¼ antik ÅŸehir. MÃ– 100-650 yÄ±llarÄ± arasÄ±nda Mesoamerika\'nÄ±n en bÃ¼yÃ¼k ÅŸehri olan bu yer, UNESCO DÃ¼nya MirasÄ±.' },
               { name: 'Cancun', city: 'Cancun', category: 'Plaj', description: 'Karayip Denizi kÄ±yÄ±sÄ±nda bulunan tatil cenneti. Beyaz kumlu plajlarÄ±, turkuaz denizi ve Maya kalÄ±ntÄ±larÄ± ile Ã¼nlÃ¼.' },
               { name: 'Tulum', city: 'Tulum', category: 'Tarihi YapÄ±', description: 'Karayip kÄ±yÄ±sÄ±nda bulunan Maya kalÄ±ntÄ±larÄ±. Deniz manzaralÄ± konumu ile dÃ¼nyanÄ±n en gÃ¼zel antik ÅŸehirlerinden biri.' },
               { name: 'Palenque', city: 'Chiapas', category: 'Tarihi YapÄ±', description: 'YaÄŸmur ormanlarÄ± iÃ§inde bulunan Maya ÅŸehri. TapÄ±nak ve saraylarÄ± ile Maya mimarisinin en gÃ¼zel Ã¶rneklerini sunar.' },
               { name: 'Guanajuato', city: 'Guanajuato', category: 'Tarihi Åehir', description: 'Renkli evleri ve yeraltÄ± tÃ¼nelleri ile Ã¼nlÃ¼ kolonyal ÅŸehir. GÃ¼mÃ¼ÅŸ madenciliÄŸi dÃ¶neminden kalma mimarisi ile UNESCO DÃ¼nya MirasÄ±.' },
               { name: 'Oaxaca', city: 'Oaxaca', category: 'KÃ¼ltÃ¼rel Åehir', description: 'Geleneksel Meksika kÃ¼ltÃ¼rÃ¼nÃ¼n kalbi. El sanatlarÄ±, yerel mutfaÄŸÄ± ve kolonyal mimarisi ile Ã¼nlÃ¼ UNESCO DÃ¼nya MirasÄ± ÅŸehri.' },
               { name: 'Copper Canyon', city: 'Chihuahua', category: 'DoÄŸal GÃ¼zellik', description: 'Grand Canyon\'dan daha derin olan kanyon sistemi. Tarahumara yerlilerinin yaÅŸadÄ±ÄŸÄ± bu bÃ¶lge, tren yolculuÄŸu ile keÅŸfedilir.' },
               { name: 'Isla Mujeres', city: 'Quintana Roo', category: 'Ada', description: 'Cancun yakÄ±nlarÄ±nda bulunan kÃ¼Ã§Ã¼k ada. Kristal berraklÄ±ÄŸÄ±ndaki sularÄ± ve rahat atmosferi ile balayÄ± Ã§iftlerinin gÃ¶zdesi.' },
               { name: 'Puebla', city: 'Puebla', category: 'Tarihi Åehir', description: 'Barok mimarisi ve renkli Ã§inileri ile Ã¼nlÃ¼ kolonyal ÅŸehir. Mole poblano\'nun doÄŸduÄŸu yer olan bu ÅŸehir, UNESCO DÃ¼nya MirasÄ±.' }
             ]
           };
           
           // Ãœlke adÄ±nÄ± kontrol et ve eÅŸleÅŸtir
           const countryKey = Object.keys(countryAttractions).find(key => 
             key.toLowerCase() === normalizedCountry.toLowerCase() ||
             translateCountryName(key).toLowerCase() === normalizedCountry.toLowerCase()
           );
           
           if (countryKey) {
             return countryAttractions[countryKey].map(place => ({
               name: place.name,
               city: place.city,
               country: countryName,
               category: place.category,
               description: place.description,
               visited: false
             }));
           }
           
           // EÄŸer Ã¶zel veritabanÄ±nda yoksa, genel turistik yerler oluÅŸtur
           return generateGenericTouristPlaces(countryName);
         }
         
         // Ãœlke adÄ±nÄ± normalize et
         function normalizeCountryName(countryName) {
           const countryMap = {
             'brazil': 'brezilya', 'brasil': 'brezilya', 'brezilya': 'brezilya',
             'argentina': 'arjantin', 'arjantin': 'arjantin',
             'mexico': 'meksika', 'mÃ©xico': 'meksika', 'meksika': 'meksika',
             'united states': 'amerika', 'usa': 'amerika', 'amerika': 'amerika',
             'canada': 'kanada', 'kanada': 'kanada',
             'australia': 'avustralya', 'avustralya': 'avustralya',
             'india': 'hindistan', 'hindistan': 'hindistan',
             'russia': 'rusya', 'rusya': 'rusya'
           };
           
           return countryMap[countryName.toLowerCase()] || countryName;
         }
         
         // Ãœlke adÄ±nÄ± Ã§evir
         function translateCountryName(countryKey) {
           const translations = {
             'brezilya': 'brazil',
             'arjantin': 'argentina', 
             'meksika': 'mexico'
           };
           
           return translations[countryKey] || countryKey;
         }
         
         // Genel turistik yerler oluÅŸtur
         function generateGenericTouristPlaces(countryName) {
           const genericPlaces = [
             { name: `${countryName} Ulusal MÃ¼zesi`, category: 'MÃ¼ze', description: `${countryName}'nÄ±n en Ã¶nemli mÃ¼zesi. Ãœlkenin tarihi, kÃ¼ltÃ¼rÃ¼ ve sanatÄ± hakkÄ±nda kapsamlÄ± bilgi sunar.` },
             { name: `${countryName} Merkez MeydanÄ±`, category: 'Meydan', description: `${countryName}'nÄ±n kalbi olan ana meydan. Tarihi binalar ve Ã¶nemli anÄ±tlarla Ã§evrili.` },
             { name: `${countryName} SarayÄ±`, category: 'Saray', description: `${countryName}'nÄ±n tarihi sarayÄ±. Kraliyet mimarisi ve muhteÅŸem bahÃ§eleri ile Ã¼nlÃ¼.` },
             { name: `${countryName} Katedrali`, category: 'Dini YapÄ±', description: `${countryName}'nÄ±n en Ã¶nemli dini yapÄ±sÄ±. Gotik mimarisi ve tarihi Ã¶nemi ile dikkat Ã§eker.` },
             { name: `${countryName} Ulusal ParkÄ±`, category: 'DoÄŸal GÃ¼zellik', description: `${countryName}'nÄ±n en gÃ¼zel doÄŸal alanÄ±. Endemik bitki ve hayvan tÃ¼rleri barÄ±ndÄ±rÄ±r.` },
             { name: `${countryName} Sanat Galerisi`, category: 'Galeri', description: `${countryName}'nÄ±n en prestijli sanat galerisi. Yerel ve uluslararasÄ± sanat eserlerini sergiler.` },
             { name: `${countryName} Kalesi`, category: 'Kale', description: `${countryName}'nÄ±n tarihi kalesi. OrtaÃ§aÄŸ mimarisi ve savunma sistemleri ile Ã¼nlÃ¼.` },
             { name: `${countryName} Botanik BahÃ§esi`, category: 'BahÃ§e', description: `${countryName}'nÄ±n en bÃ¼yÃ¼k botanik bahÃ§esi. Binlerce bitki tÃ¼rÃ¼ ve huzurlu atmosfer.` },
             { name: `${countryName} Opera BinasÄ±`, category: 'KÃ¼ltÃ¼r Merkezi', description: `${countryName}'nÄ±n en prestijli opera binasÄ±. Klasik mimarisi ve mÃ¼kemmel akustiÄŸi ile Ã¼nlÃ¼.` },
             { name: `${countryName} Tarihi KÃ¶prÃ¼sÃ¼`, category: 'KÃ¶prÃ¼', description: `${countryName}'nÄ±n simgesel kÃ¶prÃ¼sÃ¼. MÃ¼hendislik harikasÄ± olan bu yapÄ±, ÅŸehrin Ã¶nemli geÃ§iÅŸ noktasÄ±.` },
             { name: `${countryName} PlajÄ±`, category: 'Plaj', description: `${countryName}'nÄ±n en gÃ¼zel plajÄ±. AltÄ±n sarÄ±sÄ± kumlarÄ± ve berrak denizi ile tatil cenneti.` },
             { name: `${countryName} DaÄŸÄ±`, category: 'DaÄŸ', description: `${countryName}'nÄ±n en yÃ¼ksek daÄŸÄ±. MuhteÅŸem manzarasÄ± ve trekking rotalarÄ± ile doÄŸa severlerinin gÃ¶zdesi.` }
           ];
           
           return genericPlaces.slice(0, 10); // Ä°lk 10 yeri dÃ¶ndÃ¼r
         }
         
         // Ãœlke yerlerini ekle (en az 10 yer kontrolÃ¼)
         async function addCountryPlaces(user, countryData, countryName) {
           // Dinamik olarak oluÅŸturulan veriler iÃ§in data array'ini kontrol et
           const places = Array.isArray(countryData.data) ? countryData.data : countryData.data.places || [];
           
           // Ãœlke iÃ§in en az 10 yer kontrolÃ¼
           if (places.length < 10) {
             alert(`${countryName} iÃ§in yeterli popÃ¼ler yer bulunamadÄ± (${places.length} yer mevcut, en az 10 gerekli). Yerler eklenmedi.`);
             return;
           }
           
           // Var olan Ã¼lke yerlerini kontrol et
           const existingCountryPlaces = await checkExistingCountryPlaces(user, countryName);
           if (existingCountryPlaces.length > 0) {
             alert(`${countryName} iÃ§in yerler zaten eklenmiÅŸtir. ${existingCountryPlaces.length} yer mevcut.`);
             return;
           }
           
           // Ä°lk 15 yeri al (veya mevcut sayÄ± kadar)
           const selectedPlaces = places.slice(0, Math.min(15, places.length));
           
           // KullanÄ±cÄ±ya iÅŸlem durumu bildir
           showStatus(`${countryName} iÃ§in ${selectedPlaces.length} turistik yer ekleniyor...`, 'info');
           
           let addedCount = 0;
           for (const place of selectedPlaces) {
             const placeData = {
               name: place.name || 'Unknown Place',
               city: place.city || 'Unknown City',
               country: place.country || countryName || 'Unknown Country',
               category: place.category || 'Turistik Yer',
               description: place.description || '',
               visited: false,
               createdAt: new Date()
             };
             
             // Her bir yerin daha Ã¶nce eklenip eklenmediÄŸini kontrol et
             const placeExists = await checkIfPlaceExists(user, placeData.name, placeData.city);
             if (!placeExists) {
               await addDoc(collection(db, 'users', user.uid, 'places'), placeData);
               addedCount++;
             }
           }
           
           if (addedCount > 0) {
             showStatus(`${countryName} iÃ§in ${addedCount} yeni turistik yer baÅŸarÄ±yla eklendi!`, 'success');
           } else {
             showStatus(`${countryName} iÃ§in tÃ¼m yerler zaten mevcut.`, 'info');
           }
           loadPlacesTable(user);
         }
         
         // Var olan ÅŸehir yerlerini kontrol et
         async function checkExistingPlaces(user, cityName) {
           const placesRef = collection(db, 'users', user.uid, 'places');
           const q = query(placesRef, where('city', '==', cityName));
           const querySnapshot = await getDocs(q);
           return querySnapshot.docs.map(doc => doc.data());
         }
         
         // Belirli bir yerin daha Ã¶nce eklenip eklenmediÄŸini kontrol et
         async function checkIfPlaceExists(user, placeName, cityName) {
           try {
             const placesRef = collection(db, 'users', user.uid, 'places');
             const q = query(placesRef, where('name', '==', placeName), where('city', '==', cityName));
             const querySnapshot = await getDocs(q);
             
             console.log(`Kontrol ediliyor: ${placeName} - ${cityName}, SonuÃ§: ${querySnapshot.size} adet`);
             
             return querySnapshot.size > 0;
           } catch (error) {
             console.error('Yer kontrolÃ¼ hatasÄ±:', error);
             return false;
           }
         }
         
         // Var olan Ã¼lke yerlerini kontrol et
         async function checkExistingCountryPlaces(user, countryName) {
           const placesRef = collection(db, 'users', user.uid, 'places');
           const q = query(placesRef, where('country', '==', countryName.toUpperCase()));
           const querySnapshot = await getDocs(q);
           return querySnapshot.docs.map(doc => doc.data());
         }
         
         // Åehir yerlerini ekle (ÅŸehirler iÃ§in minimum yer kontrolÃ¼ yok)
         async function addCityPlaces(user, cityName) {
           try {
             // Ã–nce Firebase Functions'Ä± test et
             console.log('Firebase Functions test baÅŸlatÄ±lÄ±yor...');
             const testResult = await testFirebaseFunctions();
             
             // Ã–nce Foursquare API'den dinamik veri Ã§ek
             showStatus(`${cityName} iÃ§in Foursquare'den turistik yerler aranÄ±yor...`, 'info');
             
             const foursquarePlaces = await getFoursquarePlaces(cityName);
             
             if (foursquarePlaces && foursquarePlaces.length > 0) {
               // Foursquare'den gelen verileri kullan
               showStatus(`${cityName} iÃ§in ${foursquarePlaces.length} turistik yer bulundu. Ekleniyor...`, 'info');
               
               let addedCount = 0;
               let skippedCount = 0;
               for (const place of foursquarePlaces) {
                 console.log(`Ä°ÅŸleniyor: ${place.name} - ${place.city}`);
                 const placeExists = await checkIfPlaceExists(user, place.name, place.city);
                 if (!placeExists) {
                   console.log(`Ekleniyor: ${place.name}`);
                   await addDoc(collection(db, 'users', user.uid, 'places'), place);
                   addedCount++;
                 } else {
                   console.log(`Zaten mevcut, atlanÄ±yor: ${place.name}`);
                   skippedCount++;
                 }
               }
               
               if (addedCount > 0) {
                 showStatus(`${cityName} iÃ§in ${addedCount} yeni turistik yer baÅŸarÄ±yla eklendi! ${skippedCount} yer zaten mevcut olduÄŸu iÃ§in atlandÄ±.`, 'success');
               } else {
                 showStatus(`${cityName} iÃ§in tÃ¼m yerler zaten mevcut. ${skippedCount} yer kontrol edildi.`, 'info');
               }
               loadPlacesTable(user);
               return;
             }
             
             // EÄŸer Foursquare'den veri gelmezse, eski sistemi kullan
             showStatus(`${cityName} iÃ§in yerel veritabanÄ±ndan yerler aranÄ±yor...`, 'info');
             
             // Åehir iÃ§in Ã¼lke tespiti
             const detectedCountry = detectCountryFromCity(cityName);
             
             // Åehir iÃ§in yerler oluÅŸtur
             const cityPlaces = generateCityPlaces(cityName, detectedCountry);
             
             // Åehirler iÃ§in en az 1 yer yeterli
             if (!cityPlaces || cityPlaces.length === 0) {
               showStatus(`${cityName} iÃ§in hiÃ§ popÃ¼ler yer bulunamadÄ±.`, 'error');
               return;
             }
             
             const countryFilter = document.getElementById('countryFilter');
             
             // Ãœlke filtresini otomatik ayarla (tespit edildiyse)
             if (detectedCountry && countryFilter) {
               countryFilter.value = detectedCountry;
               // Arka planÄ± da gÃ¼ncelle
               if (window.enhancedBackgroundManager) {
                 window.enhancedBackgroundManager.updateBackgroundForCountry(detectedCountry);
               }
             }
             
             // Ä°lk 30 yeri al (veya mevcut sayÄ± kadar) - daha fazla yer gÃ¶ster
             const selectedPlaces = cityPlaces.slice(0, Math.min(30, cityPlaces.length));
             
             // KullanÄ±cÄ±ya iÅŸlem durumu bildir
             showStatus(`${cityName} iÃ§in ${selectedPlaces.length} turistik yer ekleniyor...`, 'info');
             
             let addedCount = 0;
             let skippedCount = 0;
             for (const place of selectedPlaces) {
               console.log(`Ä°ÅŸleniyor: ${place.name} - ${place.city}`);
               // Her bir yerin daha Ã¶nce eklenip eklenmediÄŸini kontrol et
               const placeExists = await checkIfPlaceExists(user, place.name, place.city);
               if (!placeExists) {
                 console.log(`Ekleniyor: ${place.name}`);
                 await addDoc(collection(db, 'users', user.uid, 'places'), place);
                 addedCount++;
               } else {
                 console.log(`Zaten mevcut, atlanÄ±yor: ${place.name}`);
                 skippedCount++;
               }
             }
             
             if (addedCount > 0) {
               showStatus(`${cityName} iÃ§in ${addedCount} yeni turistik yer baÅŸarÄ±yla eklendi! ${skippedCount} yer zaten mevcut olduÄŸu iÃ§in atlandÄ±.`, 'success');
             } else {
               showStatus(`${cityName} iÃ§in tÃ¼m yerler zaten mevcut. ${skippedCount} yer kontrol edildi.`, 'info');
             }
             loadPlacesTable(user);
           } catch (error) {
             console.error(`${cityName} ÅŸehir yerleri eklenirken hata:`, error);
             showStatus(`${cityName} iÃ§in yerler eklenirken hata oluÅŸtu: ${error.message}`, 'error');
           }
         }
         
         // Test fonksiyonu - Firebase Functions'Ä±n Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol et
         async function testFirebaseFunctions() {
           try {
             const response = await fetch('https://us-central1-rotambenim.cloudfunctions.net/test');
             const data = await response.json();
             console.log('Firebase Functions test:', data);
             return data;
           } catch (error) {
             console.error('Firebase Functions test hatasÄ±:', error);
             return null;
           }
         }
         
         // Foursquare API'den turistik yerler Ã§ek
         async function getFoursquarePlaces(cityName) {
           try {
             console.log(`Foursquare API Ã§aÄŸrÄ±sÄ± baÅŸlatÄ±lÄ±yor: ${cityName}`);
             
             // Firebase Functions kullanarak Foursquare API Ã§aÄŸrÄ±sÄ±
             const queryString = cityName + ' tourist attractions landmarks';
             const url = `https://us-central1-rotambenim.cloudfunctions.net/foursquare?query=${encodeURIComponent(queryString)}`;
             console.log('Foursquare API URL:', url);
             
             const response = await fetch(url);
             
             console.log('Foursquare API response status:', response.status);
             
             if (!response.ok) {
               console.error('Foursquare API hatasÄ±:', response.status);
               return null;
             }
             
             const data = await response.json();
             console.log('Foursquare API response data:', data);
             
             if (data.results && data.results.length > 0) {
               console.log(`Foursquare'den ${data.results.length} yer bulundu`);
               
               // Sadece gerÃ§ekten turistik yerleri filtrele
               const touristPlaces = data.results.filter(place => {
                 const category = place.categories?.[0]?.name?.toLowerCase() || '';
                 const name = place.name?.toLowerCase() || '';
                 
                 // Turistik kategori listesi
                 const touristCategories = [
                   'landmark', 'historic site', 'museum', 'park', 'church', 'mosque', 'temple',
                   'palace', 'castle', 'bridge', 'tower', 'monument', 'statue', 'fountain',
                   'garden', 'beach', 'mountain', 'lake', 'river', 'cave', 'waterfall',
                   'island', 'harbor', 'airport', 'university', 'library', 'theater',
                   'cinema', 'concert hall', 'opera house', 'stadium', 'arena', 'marina',
                   'amusement park', 'zoo', 'aquarium', 'planetarium', 'observatory',
                   'botanical garden', 'arboretum', 'conservatory', 'art gallery',
                   'tourist information', 'travel agency', 'resort', 'spa'
                 ];
                 
                 // Turistik isim anahtar kelimeleri
                 const touristKeywords = [
                   'museum', 'palace', 'castle', 'tower', 'bridge', 'cathedral', 'mosque',
                   'temple', 'park', 'garden', 'square', 'plaza', 'monument', 'statue',
                   'fountain', 'beach', 'mountain', 'lake', 'river', 'cave', 'waterfall',
                   'island', 'harbor', 'port', 'airport', 'university', 'library',
                   'theater', 'cinema', 'concert', 'opera', 'stadium', 'arena',
                   'amusement', 'zoo', 'aquarium', 'planetarium', 'observatory',
                   'botanical', 'arboretum', 'conservatory', 'gallery', 'tourist',
                   'travel', 'resort', 'spa', 'historic', 'ancient', 'old', 'traditional'
                 ];
                 
                 // Kategori kontrolÃ¼
                 const isTouristCategory = touristCategories.some(cat => category.includes(cat));
                 
                 // Ä°sim kontrolÃ¼
                 const isTouristName = touristKeywords.some(keyword => name.includes(keyword));
                 
                 // Rating kontrolÃ¼ (eÄŸer rating varsa ve dÃ¼ÅŸÃ¼kse filtrele)
                 const hasGoodRating = !place.rating || place.rating >= 7.0;
                 
                 return isTouristCategory || isTouristName || hasGoodRating;
               });
               
               console.log(`FiltrelenmiÅŸ turistik yerler: ${touristPlaces.length}`);
               
               return touristPlaces.map(place => ({
                 name: place.name || 'Bilinmeyen Yer',
                 city: cityName,
                 country: place.location?.country || 'Bilinmeyen Ãœlke',
                 category: translateCategory(place.categories?.[0]?.name) || 'Turistik Yer',
                 description: generateDetailedDescription(place, cityName),
                 visited: false,
                 createdAt: new Date(),
                 source: 'foursquare',
                 fsq_id: place.fsq_id,
                 address: place.location?.formatted_address || '',
                 rating: place.rating || null
               }));
             } else {
               console.log('Foursquare API\'den sonuÃ§ dÃ¶ndÃ¼rÃ¼lmedi veya boÅŸ');
             }
             
             return null;
           } catch (error) {
             console.error('Foursquare API Ã§aÄŸrÄ±sÄ± hatasÄ±:', error);
             return null;
           }
         }
         
         // Kategori Ã§eviri fonksiyonu
         function translateCategory(englishCategory) {
           const categoryTranslations = {
             tr: {
               'Landmark': 'Tarihi YapÄ±',
               'Historic Site': 'Tarihi Yer',
               'Museum': 'MÃ¼ze',
               'Park': 'Park',
               'Restaurant': 'Restoran',
               'Cafe': 'Kafe',
               'Bar': 'Bar',
               'Hotel': 'Otel',
               'Shopping Center': 'AlÄ±ÅŸveriÅŸ Merkezi',
               'Church': 'Kilise',
               'Mosque': 'Cami',
               'Temple': 'TapÄ±nak',
               'Palace': 'Saray',
               'Castle': 'Kale',
               'Bridge': 'KÃ¶prÃ¼',
               'Tower': 'Kule',
               'Monument': 'AnÄ±t',
               'Statue': 'Heykel',
               'Fountain': 'Ã‡eÅŸme',
               'Garden': 'BahÃ§e',
               'Beach': 'Sahil',
               'Mountain': 'DaÄŸ',
               'Lake': 'GÃ¶l',
               'River': 'Nehir',
               'Forest': 'Orman',
               'Cave': 'MaÄŸara',
               'Waterfall': 'Åelale',
               'Island': 'Ada',
               'Harbor': 'Liman',
               'Airport': 'HavalimanÄ±',
               'Train Station': 'Tren Ä°stasyonu',
               'Bus Station': 'OtobÃ¼s DuraÄŸÄ±',
               'Metro Station': 'Metro Ä°stasyonu',
               'University': 'Ãœniversite',
               'School': 'Okul',
               'Library': 'KÃ¼tÃ¼phane',
               'Hospital': 'Hastane',
               'Police Station': 'Polis Karakolu',
               'Fire Station': 'Ä°tfaiye',
               'Post Office': 'Postane',
               'Bank': 'Banka',
               'Pharmacy': 'Eczane',
               'Gas Station': 'Benzin Ä°stasyonu',
               'Car Wash': 'Oto YÄ±kama',
               'Parking': 'Otopark',
               'ATM': 'Banka ATM',
               'Tourist Information': 'Turizm Bilgi',
               'Travel Agency': 'Seyahat Acentesi',
               'Hostel': 'Pansiyon',
               'Guest House': 'Misafirhane',
               'Apartment': 'Apartman',
               'Villa': 'Villa',
               'Resort': 'Tatil KÃ¶yÃ¼',
               'Spa': 'Spa',
               'Gym': 'Spor Salonu',
               'Swimming Pool': 'YÃ¼zme Havuzu',
               'Tennis Court': 'Tenis Kortu',
               'Golf Course': 'Golf SahasÄ±',
               'Ski Resort': 'Kayak Merkezi',
               'Amusement Park': 'EÄŸlence ParkÄ±',
               'Zoo': 'Hayvanat BahÃ§esi',
               'Aquarium': 'Akvaryum',
               'Planetarium': 'Gezegen Evi',
               'Observatory': 'GÃ¶zlemevi',
               'Botanical Garden': 'Botanik BahÃ§e',
               'Arboretum': 'AÄŸaÃ§ MÃ¼zesi',
               'Conservatory': 'Konservatuvar',
               'Theater': 'Tiyatro',
               'Cinema': 'Sinema',
               'Concert Hall': 'Konser Salonu',
               'Opera House': 'Opera BinasÄ±',
               'Stadium': 'Stadyum',
               'Arena': 'Arena',
               'Race Track': 'YarÄ±ÅŸ Pisti',
               'Marina': 'Marina',
               'Yacht Club': 'Yat KulÃ¼bÃ¼',
               'Fishing Spot': 'BalÄ±k Tutma Yeri',
               'Hiking Trail': 'YÃ¼rÃ¼yÃ¼ÅŸ Yolu',
               'Bike Path': 'Bisiklet Yolu',
               'Climbing Wall': 'TÄ±rmanma DuvarÄ±',
               'Skate Park': 'Kaykay ParkÄ±',
               'Playground': 'Oyun AlanÄ±',
               'Sports Complex': 'Spor Kompleksi',
               'Fitness Center': 'Fitness Merkezi',
               'Yoga Studio': 'Yoga StÃ¼dyosu',
               'Pilates Studio': 'Pilates StÃ¼dyosu',
               'Dance Studio': 'Dans StÃ¼dyosu',
               'Art Gallery': 'Sanat Galerisi',
               'Antique Shop': 'Antika DÃ¼kkanÄ±',
               'Jewelry Store': 'Kuyumcu',
               'Bookstore': 'KitapÃ§Ä±',
               'Music Store': 'MÃ¼zik MaÄŸazasÄ±',
               'Electronics Store': 'Elektronik MaÄŸazasÄ±',
               'Clothing Store': 'Giyim MaÄŸazasÄ±',
               'Shoe Store': 'AyakkabÄ± MaÄŸazasÄ±',
               'Department Store': 'MaÄŸaza',
               'Supermarket': 'SÃ¼permarket',
               'Market': 'Pazar',
               'Bakery': 'FÄ±rÄ±n',
               'Butcher': 'Kasap',
               'Fish Market': 'BalÄ±k PazarÄ±',
               'Flower Shop': 'Ã‡iÃ§ekÃ§i',
               'Gift Shop': 'Hediye MaÄŸazasÄ±',
               'Souvenir Shop': 'HatÄ±ra EÅŸya MaÄŸazasÄ±',
               'Tattoo Parlor': 'DÃ¶vme Salonu',
               'Hair Salon': 'KuafÃ¶r',
               'Beauty Salon': 'GÃ¼zellik Salonu',
               'Nail Salon': 'TÄ±rnak Salonu',
               'Massage Parlor': 'Masaj Salonu',
               'Dental Clinic': 'DiÅŸ KliniÄŸi',
               'Medical Clinic': 'TÄ±p KliniÄŸi',
               'Veterinary Clinic': 'Veteriner KliniÄŸi',
               'Pet Store': 'Evcil Hayvan MaÄŸazasÄ±',
               'Hardware Store': 'HÄ±rdavatÃ§Ä±',
               'Home Improvement Store': 'Ev GeliÅŸtirme MaÄŸazasÄ±',
               'Furniture Store': 'Mobilya MaÄŸazasÄ±',
               'Garden Center': 'BahÃ§e Merkezi',
               'Nursery': 'Fide Yeri',
               'Greenhouse': 'Sera',
               'Farm': 'Ã‡iftlik',
               'Vineyard': 'BaÄŸ',
               'Winery': 'Åarap Evi',
               'Brewery': 'Bira Evi',
               'Distillery': 'RakÄ± Evi',
               'Factory': 'Fabrika',
               'Warehouse': 'Depo',
               'Office Building': 'Ofis BinasÄ±',
               'Shopping Mall': 'AVM',
               'Outlet': 'Outlet',
               'Flea Market': 'Bit PazarÄ±',
               'Street Market': 'Sokak PazarÄ±',
               'Food Court': 'Yemek Merkezi',
               'Food Truck': 'Yemek Kamyonu',
               'Street Food': 'Sokak YemeÄŸi',
               'Fast Food': 'Fast Food',
               'Pizza Place': 'Pizza Yeri',
               'Burger Joint': 'Burgerci',
               'Sushi Restaurant': 'SuÅŸi RestoranÄ±',
               'Thai Restaurant': 'Tay RestoranÄ±',
               'Chinese Restaurant': 'Ã‡in RestoranÄ±',
               'Japanese Restaurant': 'Japon RestoranÄ±',
               'Korean Restaurant': 'Kore RestoranÄ±',
               'Indian Restaurant': 'Hint RestoranÄ±',
               'Mexican Restaurant': 'Meksika RestoranÄ±',
               'Italian Restaurant': 'Ä°talyan RestoranÄ±',
               'French Restaurant': 'FransÄ±z RestoranÄ±',
               'Greek Restaurant': 'Yunan RestoranÄ±',
               'Turkish Restaurant': 'TÃ¼rk RestoranÄ±',
               'Lebanese Restaurant': 'LÃ¼bnan RestoranÄ±',
               'Moroccan Restaurant': 'Fas RestoranÄ±',
               'Spanish Restaurant': 'Ä°spanyol RestoranÄ±',
               'Portuguese Restaurant': 'Portekiz RestoranÄ±',
               'German Restaurant': 'Alman RestoranÄ±',
               'Austrian Restaurant': 'Avusturya RestoranÄ±',
               'Swiss Restaurant': 'Ä°sviÃ§re RestoranÄ±',
               'Dutch Restaurant': 'Hollanda RestoranÄ±',
               'Belgian Restaurant': 'BelÃ§ika RestoranÄ±',
               'Polish Restaurant': 'Polonya RestoranÄ±',
               'Czech Restaurant': 'Ã‡ek RestoranÄ±',
               'Hungarian Restaurant': 'Macar RestoranÄ±',
               'Romanian Restaurant': 'Romanya RestoranÄ±',
               'Bulgarian Restaurant': 'Bulgar RestoranÄ±',
               'Serbian Restaurant': 'SÄ±rp RestoranÄ±',
               'Croatian Restaurant': 'HÄ±rvat RestoranÄ±',
               'Slovenian Restaurant': 'Sloven RestoranÄ±',
               'Slovak Restaurant': 'Slovak RestoranÄ±',
               'Ukrainian Restaurant': 'Ukrayna RestoranÄ±',
               'Russian Restaurant': 'Rus RestoranÄ±',
               'Georgian Restaurant': 'GÃ¼rcÃ¼ RestoranÄ±',
               'Armenian Restaurant': 'Ermeni RestoranÄ±',
               'Azerbaijani Restaurant': 'Azerbaycan RestoranÄ±',
               'Iranian Restaurant': 'Ä°ran RestoranÄ±',
               'Iraqi Restaurant': 'Irak RestoranÄ±',
               'Syrian Restaurant': 'Suriye RestoranÄ±',
               'Jordanian Restaurant': 'ÃœrdÃ¼n RestoranÄ±',
               'Israeli Restaurant': 'Ä°srail RestoranÄ±',
               'Palestinian Restaurant': 'Filistin RestoranÄ±',
               'Egyptian Restaurant': 'MÄ±sÄ±r RestoranÄ±',
               'Libyan Restaurant': 'Libya RestoranÄ±',
               'Tunisian Restaurant': 'Tunus RestoranÄ±',
               'Algerian Restaurant': 'Cezayir RestoranÄ±',
               'Mauritanian Restaurant': 'Moritanya RestoranÄ±',
               'Senegalese Restaurant': 'Senegal RestoranÄ±',
               'Gambian Restaurant': 'Gambiya RestoranÄ±',
               'Guinea-Bissau Restaurant': 'Gine-Bissau RestoranÄ±',
               'Guinean Restaurant': 'Gine RestoranÄ±',
               'Sierra Leonean Restaurant': 'Sierra Leone RestoranÄ±',
               'Liberian Restaurant': 'Liberya RestoranÄ±',
               'Ivorian Restaurant': 'FildiÅŸi Sahili RestoranÄ±',
               'Ghanaian Restaurant': 'Gana RestoranÄ±',
               'Togolese Restaurant': 'Togo RestoranÄ±',
               'Beninese Restaurant': 'Benin RestoranÄ±',
               'Nigerian Restaurant': 'Nijerya RestoranÄ±',
               'Cameroonian Restaurant': 'Kamerun RestoranÄ±',
               'Chadian Restaurant': 'Ã‡ad RestoranÄ±',
               'Central African Restaurant': 'Orta Afrika RestoranÄ±',
               'Equatorial Guinean Restaurant': 'Ekvator Ginesi RestoranÄ±',
               'Gabonese Restaurant': 'Gabon RestoranÄ±',
               'Congolese Restaurant': 'Kongo RestoranÄ±',
               'Democratic Republic of the Congo Restaurant': 'Demokratik Kongo Cumhuriyeti RestoranÄ±',
               'Angolan Restaurant': 'Angola RestoranÄ±',
               'Zambian Restaurant': 'Zambiya RestoranÄ±',
               'Malawian Restaurant': 'Malavi RestoranÄ±',
               'Mozambican Restaurant': 'Mozambik RestoranÄ±',
               'Zimbabwean Restaurant': 'Zimbabve RestoranÄ±',
               'Botswanan Restaurant': 'Botsvana RestoranÄ±',
               'Namibian Restaurant': 'Namibya RestoranÄ±',
               'South African Restaurant': 'GÃ¼ney Afrika RestoranÄ±',
               'Lesothoan Restaurant': 'Lesotho RestoranÄ±',
               'Eswatini Restaurant': 'Esvatini RestoranÄ±',
               'Madagascan Restaurant': 'Madagaskar RestoranÄ±',
               'Comorian Restaurant': 'Komor RestoranÄ±',
               'Mauritian Restaurant': 'Mauritius RestoranÄ±',
               'Seychellois Restaurant': 'SeyÅŸel RestoranÄ±',
               'Djiboutian Restaurant': 'Cibuti RestoranÄ±',
               'Eritrean Restaurant': 'Eritre RestoranÄ±',
               'Ethiopian Restaurant': 'Etiyopya RestoranÄ±',
               'Somali Restaurant': 'Somali RestoranÄ±',
               'Kenyan Restaurant': 'Kenya RestoranÄ±',
               'Ugandan Restaurant': 'Uganda RestoranÄ±',
               'Tanzanian Restaurant': 'Tanzanya RestoranÄ±',
               'Rwandan Restaurant': 'Ruanda RestoranÄ±',
               'Burundian Restaurant': 'Burundi RestoranÄ±',
               'South Sudanese Restaurant': 'GÃ¼ney Sudan RestoranÄ±',
               'Sudanese Restaurant': 'Sudan RestoranÄ±'
             },
             en: {
               'Landmark': 'Landmark',
               'Historic Site': 'Historic Site',
               'Museum': 'Museum',
               'Park': 'Park',
               'Restaurant': 'Restaurant',
               'Cafe': 'Cafe',
               'Bar': 'Bar',
               'Hotel': 'Hotel',
               'Shopping Center': 'Shopping Center',
               'Church': 'Church',
               'Mosque': 'Mosque',
               'Temple': 'Temple',
               'Palace': 'Palace',
               'Castle': 'Castle',
               'Bridge': 'Bridge',
               'Tower': 'Tower',
               'Monument': 'Monument',
               'Statue': 'Statue',
               'Fountain': 'Fountain',
               'Garden': 'Garden',
               'Beach': 'Beach',
               'Mountain': 'Mountain',
               'Lake': 'Lake',
               'River': 'River',
               'Forest': 'Forest',
               'Cave': 'Cave',
               'Waterfall': 'Waterfall',
               'Island': 'Island',
               'Harbor': 'Harbor',
               'Airport': 'Airport',
               'Train Station': 'Train Station',
               'Bus Station': 'Bus Station',
               'Metro Station': 'Metro Station',
               'University': 'University',
               'School': 'School',
               'Library': 'Library',
               'Hospital': 'Hospital',
               'Police Station': 'Police Station',
               'Fire Station': 'Fire Station',
               'Post Office': 'Post Office',
               'Bank': 'Bank',
               'Pharmacy': 'Pharmacy',
               'Gas Station': 'Gas Station',
               'Car Wash': 'Car Wash',
               'Parking': 'Parking',
               'ATM': 'ATM',
               'Tourist Information': 'Tourist Information',
               'Travel Agency': 'Travel Agency',
               'Hostel': 'Hostel',
               'Guest House': 'Guest House',
               'Apartment': 'Apartment',
               'Villa': 'Villa',
               'Resort': 'Resort',
               'Spa': 'Spa',
               'Gym': 'Gym',
               'Swimming Pool': 'Swimming Pool',
               'Tennis Court': 'Tennis Court',
               'Golf Course': 'Golf Course',
               'Ski Resort': 'Ski Resort',
               'Amusement Park': 'Amusement Park',
               'Zoo': 'Zoo',
               'Aquarium': 'Aquarium',
               'Planetarium': 'Planetarium',
               'Observatory': 'Observatory',
               'Botanical Garden': 'Botanical Garden',
               'Arboretum': 'Arboretum',
               'Conservatory': 'Conservatory',
               'Theater': 'Theater',
               'Cinema': 'Cinema',
               'Concert Hall': 'Concert Hall',
               'Opera House': 'Opera House',
               'Stadium': 'Stadium',
               'Arena': 'Arena',
               'Race Track': 'Race Track',
               'Marina': 'Marina',
               'Yacht Club': 'Yacht Club',
               'Fishing Spot': 'Fishing Spot',
               'Hiking Trail': 'Hiking Trail',
               'Bike Path': 'Bike Path',
               'Climbing Wall': 'Climbing Wall',
               'Skate Park': 'Skate Park',
               'Playground': 'Playground',
               'Sports Complex': 'Sports Complex',
               'Fitness Center': 'Fitness Center',
               'Yoga Studio': 'Yoga Studio',
               'Pilates Studio': 'Pilates Studio',
               'Dance Studio': 'Dance Studio',
               'Art Gallery': 'Art Gallery',
               'Antique Shop': 'Antique Shop',
               'Jewelry Store': 'Jewelry Store',
               'Bookstore': 'Bookstore',
               'Music Store': 'Music Store',
               'Electronics Store': 'Electronics Store',
               'Clothing Store': 'Clothing Store',
               'Shoe Store': 'Shoe Store',
               'Department Store': 'Department Store',
               'Supermarket': 'Supermarket',
               'Market': 'Market',
               'Bakery': 'Bakery',
               'Butcher': 'Butcher',
               'Fish Market': 'Fish Market',
               'Flower Shop': 'Flower Shop',
               'Gift Shop': 'Gift Shop',
               'Souvenir Shop': 'Souvenir Shop',
               'Tattoo Parlor': 'Tattoo Parlor',
               'Hair Salon': 'Hair Salon',
               'Beauty Salon': 'Beauty Salon',
               'Nail Salon': 'Nail Salon',
               'Massage Parlor': 'Massage Parlor',
               'Dental Clinic': 'Dental Clinic',
               'Medical Clinic': 'Medical Clinic',
               'Veterinary Clinic': 'Veterinary Clinic',
               'Pet Store': 'Pet Store',
               'Hardware Store': 'Hardware Store',
               'Home Improvement Store': 'Home Improvement Store',
               'Furniture Store': 'Furniture Store',
               'Garden Center': 'Garden Center',
               'Nursery': 'Nursery',
               'Greenhouse': 'Greenhouse',
               'Farm': 'Farm',
               'Vineyard': 'Vineyard',
               'Winery': 'Winery',
               'Brewery': 'Brewery',
               'Distillery': 'Distillery',
               'Factory': 'Factory',
               'Warehouse': 'Warehouse',
               'Office Building': 'Office Building',
               'Shopping Mall': 'Shopping Mall',
               'Outlet': 'Outlet',
               'Flea Market': 'Flea Market',
               'Street Market': 'Street Market',
               'Food Court': 'Food Court',
               'Food Truck': 'Food Truck',
               'Street Food': 'Street Food',
               'Fast Food': 'Fast Food',
               'Pizza Place': 'Pizza Place',
               'Burger Joint': 'Burger Joint',
               'Sushi Restaurant': 'Sushi Restaurant',
               'Thai Restaurant': 'Thai Restaurant',
               'Chinese Restaurant': 'Chinese Restaurant',
               'Japanese Restaurant': 'Japanese Restaurant',
               'Korean Restaurant': 'Korean Restaurant',
               'Indian Restaurant': 'Indian Restaurant',
               'Mexican Restaurant': 'Mexican Restaurant',
               'Italian Restaurant': 'Italian Restaurant',
               'French Restaurant': 'French Restaurant',
               'Greek Restaurant': 'Greek Restaurant',
               'Turkish Restaurant': 'Turkish Restaurant',
               'Lebanese Restaurant': 'Lebanese Restaurant',
               'Moroccan Restaurant': 'Moroccan Restaurant',
               'Spanish Restaurant': 'Spanish Restaurant',
               'Portuguese Restaurant': 'Portuguese Restaurant',
               'German Restaurant': 'German Restaurant',
               'Austrian Restaurant': 'Austrian Restaurant',
               'Swiss Restaurant': 'Swiss Restaurant',
               'Dutch Restaurant': 'Dutch Restaurant',
               'Belgian Restaurant': 'Belgian Restaurant',
               'Polish Restaurant': 'Polish Restaurant',
               'Czech Restaurant': 'Czech Restaurant',
               'Hungarian Restaurant': 'Hungarian Restaurant',
               'Romanian Restaurant': 'Romanian Restaurant',
               'Bulgarian Restaurant': 'Bulgarian Restaurant',
               'Serbian Restaurant': 'Serbian Restaurant',
               'Croatian Restaurant': 'Croatian Restaurant',
               'Slovenian Restaurant': 'Slovenian Restaurant',
               'Slovak Restaurant': 'Slovak Restaurant',
               'Ukrainian Restaurant': 'Ukrainian Restaurant',
               'Russian Restaurant': 'Russian Restaurant',
               'Georgian Restaurant': 'Georgian Restaurant',
               'Armenian Restaurant': 'Armenian Restaurant',
               'Azerbaijani Restaurant': 'Azerbaijani Restaurant',
               'Iranian Restaurant': 'Iranian Restaurant',
               'Iraqi Restaurant': 'Iraqi Restaurant',
               'Syrian Restaurant': 'Syrian Restaurant',
               'Jordanian Restaurant': 'Jordanian Restaurant',
               'Israeli Restaurant': 'Israeli Restaurant',
               'Palestinian Restaurant': 'Palestinian Restaurant',
               'Egyptian Restaurant': 'Egyptian Restaurant',
               'Libyan Restaurant': 'Libyan Restaurant',
               'Tunisian Restaurant': 'Tunisian Restaurant',
               'Algerian Restaurant': 'Algerian Restaurant',
               'Mauritanian Restaurant': 'Mauritanian Restaurant',
               'Senegalese Restaurant': 'Senegalese Restaurant',
               'Gambian Restaurant': 'Gambian Restaurant',
               'Guinea-Bissau Restaurant': 'Guinea-Bissau Restaurant',
               'Guinean Restaurant': 'Guinean Restaurant',
               'Sierra Leonean Restaurant': 'Sierra Leonean Restaurant',
               'Liberian Restaurant': 'Liberian Restaurant',
               'Ivorian Restaurant': 'Ivorian Restaurant',
               'Ghanaian Restaurant': 'Ghanaian Restaurant',
               'Togolese Restaurant': 'Togolese Restaurant',
               'Beninese Restaurant': 'Beninese Restaurant',
               'Nigerian Restaurant': 'Nigerian Restaurant',
               'Cameroonian Restaurant': 'Cameroonian Restaurant',
               'Chadian Restaurant': 'Chadian Restaurant',
               'Central African Restaurant': 'Central African Restaurant',
               'Equatorial Guinean Restaurant': 'Equatorial Guinean Restaurant',
               'Gabonese Restaurant': 'Gabonese Restaurant',
               'Congolese Restaurant': 'Congolese Restaurant',
               'Democratic Republic of the Congo Restaurant': 'Democratic Republic of the Congo Restaurant',
               'Angolan Restaurant': 'Angolan Restaurant',
               'Zambian Restaurant': 'Zambian Restaurant',
               'Malawian Restaurant': 'Malawian Restaurant',
               'Mozambican Restaurant': 'Mozambican Restaurant',
               'Zimbabwean Restaurant': 'Zimbabwean Restaurant',
               'Botswanan Restaurant': 'Botswanan Restaurant',
               'Namibian Restaurant': 'Namibian Restaurant',
               'South African Restaurant': 'South African Restaurant',
               'Lesothoan Restaurant': 'Lesothoan Restaurant',
               'Eswatini Restaurant': 'Eswatini Restaurant',
               'Madagascan Restaurant': 'Madagascan Restaurant',
               'Comorian Restaurant': 'Comorian Restaurant',
               'Mauritian Restaurant': 'Mauritian Restaurant',
               'Seychellois Restaurant': 'Seychellois Restaurant',
               'Djiboutian Restaurant': 'Djiboutian Restaurant',
               'Eritrean Restaurant': 'Eritrean Restaurant',
               'Ethiopian Restaurant': 'Ethiopian Restaurant',
               'Somali Restaurant': 'Somali Restaurant',
               'Kenyan Restaurant': 'Kenyan Restaurant',
               'Ugandan Restaurant': 'Ugandan Restaurant',
               'Tanzanian Restaurant': 'Tanzanian Restaurant',
               'Rwandan Restaurant': 'Rwandan Restaurant',
               'Burundian Restaurant': 'Burundian Restaurant',
               'South Sudanese Restaurant': 'South Sudanese Restaurant',
               'Sudanese Restaurant': 'Sudanese Restaurant'
             }
           };
           
           const translations = categoryTranslations[currentLanguage] || categoryTranslations['tr'];
           return translations[englishCategory] || englishCategory;
         }
         
         // DetaylÄ± aÃ§Ä±klama oluÅŸturma fonksiyonu
         function generateDetailedDescription(place, cityName) {
           let description = '';
           
           const descriptions = {
             tr: {
               defaultStart: `${place.name}, ${cityName} ÅŸehrinin Ã¶nemli turistik yerlerinden biridir. `,
               categoryInfo: `Bu yer ${translateCategory(place.categories?.[0]?.name)} kategorisinde yer almaktadÄ±r. `,
               ratingInfo: `Foursquare kullanÄ±cÄ±larÄ± tarafÄ±ndan ${place.rating}/10 puan almÄ±ÅŸtÄ±r. `,
               addressInfo: `Adres: ${place.location?.formatted_address}. `,
               defaultEnd: `Bu yer Foursquare API'den alÄ±nan gÃ¼ncel bilgilerle eklenmiÅŸtir ve ${cityName} ÅŸehrini ziyaret eden turistlerin mutlaka gÃ¶rmesi gereken yerlerden biridir.`
             },
             en: {
               defaultStart: `${place.name} is one of the important tourist attractions in ${cityName}. `,
               categoryInfo: `This place is in the ${translateCategory(place.categories?.[0]?.name)} category. `,
               ratingInfo: `It has received ${place.rating}/10 points from Foursquare users. `,
               addressInfo: `Address: ${place.location?.formatted_address}. `,
               defaultEnd: `This place has been added with current information from Foursquare API and is one of the must-see places for tourists visiting ${cityName}.`
             }
           };
           
           const currentDescriptions = descriptions[currentLanguage] || descriptions['tr'];
           
           if (place.description) {
             description += place.description;
           } else {
             description += currentDescriptions.defaultStart;
           }
           
           if (place.categories && place.categories.length > 0) {
             description += currentDescriptions.categoryInfo;
           }
           
           if (place.rating) {
             description += currentDescriptions.ratingInfo;
           }
           
           if (place.location && place.location.formatted_address) {
             description += currentDescriptions.addressInfo;
           }
           
           description += currentDescriptions.defaultEnd;
           
           return description;
         }
         
         // Åehirden Ã¼lke tespiti - DÃ¼nya Ã§apÄ±nda ÅŸehirler
         function detectCountryFromCity(cityName) {
           const cityCountryMap = {
             // TÃ¼rkiye ÅŸehirleri
             'istanbul': 'turkey', 'ankara': 'turkey', 'izmir': 'turkey', 'antalya': 'turkey',
             'kapadokya': 'turkey', 'bursa': 'turkey', 'konya': 'turkey', 'trabzon': 'turkey',
             'adana': 'turkey', 'gaziantep': 'turkey', 'kayseri': 'turkey', 'samsun': 'turkey',
             'eskiÅŸehir': 'turkey', 'urfa': 'turkey', 'diyarbakÄ±r': 'turkey', 'malatya': 'turkey',
             'erzurum': 'turkey', 'van': 'turkey', 'sivas': 'turkey', 'kastamonu': 'turkey',
             'tokat': 'turkey', 'amasya': 'turkey', 'nevÅŸehir': 'turkey', 'Ã§anakkale': 'turkey',
             'edirne': 'turkey', 'tekirdaÄŸ': 'turkey', 'kÄ±rklareli': 'turkey', 'balÄ±kesir': 'turkey',
             'manisa': 'turkey', 'aydÄ±n': 'turkey', 'muÄŸla': 'turkey', 'denizli': 'turkey',
             'afyon': 'turkey', 'kÃ¼tahya': 'turkey', 'uÅŸak': 'turkey', 'Ä±sparta': 'turkey',
             'burdur': 'turkey', 'antalya': 'turkey', 'mersin': 'turkey', 'adana': 'turkey',
             'hatay': 'turkey', 'osmaniye': 'turkey', 'kahramanmaraÅŸ': 'turkey', 'gaziantep': 'turkey',
             'kilis': 'turkey', 'ÅŸanlÄ±urfa': 'turkey', 'adÄ±yaman': 'turkey', 'malatya': 'turkey',
             'elazÄ±ÄŸ': 'turkey', 'bingÃ¶l': 'turkey', 'tunceli': 'turkey', 'erzincan': 'turkey',
             'erzurum': 'turkey', 'bayburt': 'turkey', 'gÃ¼mÃ¼ÅŸhane': 'turkey', 'trabzon': 'turkey',
             'rize': 'turkey', 'artvin': 'turkey', 'ardahan': 'turkey', 'kars': 'turkey',
             'aÄŸrÄ±': 'turkey', 'Ä±ÄŸdÄ±r': 'turkey', 'van': 'turkey', 'bitlis': 'turkey',
             'muÅŸ': 'turkey', 'bingÃ¶l': 'turkey', 'diyarbakÄ±r': 'turkey', 'mardin': 'turkey',
             'ÅŸÄ±rnak': 'turkey', 'batman': 'turkey', 'siirt': 'turkey', 'hakkari': 'turkey',
             'almanya': 'germany', 'berlin': 'germany', 'mÃ¼nchen': 'germany', 'hamburg': 'germany', 
             'kÃ¶ln': 'germany', 'frankfurt': 'germany', 'stuttgart': 'germany', 'dÃ¼sseldorf': 'germany',
             'dortmund': 'germany', 'essen': 'germany', 'leipzig': 'germany', 'bremen': 'germany',
             'dresden': 'germany', 'hannover': 'germany', 'nÃ¼rnberg': 'germany', 'duisburg': 'germany',
             'bonn': 'germany', 'bochum': 'germany', 'wuppertal': 'germany', 'bielefeld': 'germany',
             'mannheim': 'germany', 'karlsruhe': 'germany', 'augsburg': 'germany', 'wiesbaden': 'germany',
             'gelsenkirchen': 'germany', 'mÃ¶nchengladbach': 'germany', 'braunschweig': 'germany',
             'chemnitz': 'germany', 'kiel': 'germany', 'krefeld': 'germany', 'halle': 'germany',
             'magdeburg': 'germany', 'freiburg': 'germany', 'erfurt': 'germany', 'mainz': 'germany',
             'rostock': 'germany', 'kassel': 'germany', 'hagen': 'germany', 'potsdam': 'germany',
             'saarbrÃ¼cken': 'germany', 'hamm': 'germany', 'mÃ¼lheim': 'germany', 'ludwigshafen': 'germany',
             'leverkusen': 'germany', 'oldenburg': 'germany', 'osnabrÃ¼ck': 'germany', 'solingen': 'germany',
             'heidelberg': 'germany', 'herne': 'germany', 'neuss': 'germany', 'darmstadt': 'germany',
             'paderborn': 'germany', 'regensburg': 'germany', 'ingolstadt': 'germany', 'wÃ¼rzburg': 'germany',
             'fÃ¼rth': 'germany', 'wolfsburg': 'germany', 'offenbach': 'germany', 'ulm': 'germany',
             'heilbronn': 'germany', 'pforzheim': 'germany', 'gÃ¶ttingen': 'germany', 'bottrop': 'germany',
             'trier': 'germany', 'recklinghausen': 'germany', 'reutlingen': 'germany', 'bremerhaven': 'germany',
             'koblenz': 'germany', 'bergisch gladbach': 'germany', 'jena': 'germany', 'remscheid': 'germany',
             'erlangen': 'germany', 'moers': 'germany', 'siegen': 'germany', 'hildesheim': 'germany',
             'salzgitter': 'germany', 'cottbus': 'germany',
             
             // Fransa ÅŸehirleri
             'paris': 'france', 'lyon': 'france', 'marseille': 'france', 'toulouse': 'france',
             'nice': 'france', 'nantes': 'france', 'strasbourg': 'france', 'montpellier': 'france',
             'bordeaux': 'france', 'lille': 'france', 'rennes': 'france', 'reims': 'france',
             'le havre': 'france', 'saint-Ã©tienne': 'france', 'toulon': 'france', 'angers': 'france',
             'grenoble': 'france', 'dijon': 'france', 'nÃ®mes': 'france', 'aix-en-provence': 'france',
             'saint-quentin-en-yvelines': 'france', 'brest': 'france', 'le mans': 'france', 'amiens': 'france',
             'tours': 'france', 'limoges': 'france', 'clermont-ferrand': 'france', 'villeurbanne': 'france',
             'besanÃ§on': 'france', 'orlÃ©ans': 'france', 'metz': 'france', 'rouen': 'france',
             'mulhouse': 'france', 'perpignan': 'france', 'caen': 'france', 'boulogne-billancourt': 'france',
             'nancy': 'france', 'argenteuil': 'france', 'roubaix': 'france', 'tourcoing': 'france',
             'nanterre': 'france', 'avignon': 'france', 'crÃ©teil': 'france', 'dunkerque': 'france',
             'poitiers': 'france', 'asniÃ¨res-sur-seine': 'france', 'courbevoie': 'france', 'versailles': 'france',
             'pau': 'france', 'fort-de-france': 'france', 'colombes': 'france', 'aulnay-sous-bois': 'france',
             'saint-maur-des-fossÃ©s': 'france', 'rueil-malmaison': 'france', 'champigny-sur-marne': 'france',
             'antibes': 'france', 'la rochelle': 'france', 'cannes': 'france',
             
             // Ä°talya ÅŸehirleri
             'roma': 'italy', 'milano': 'italy', 'napoli': 'italy', 'torino': 'italy',
             'palermo': 'italy', 'genova': 'italy', 'bologna': 'italy', 'firenze': 'italy',
             'bari': 'italy', 'catania': 'italy', 'venezia': 'italy', 'verona': 'italy',
             'messina': 'italy', 'padova': 'italy', 'trieste': 'italy', 'taranto': 'italy',
             'brescia': 'italy', 'prato': 'italy', 'parma': 'italy', 'modena': 'italy',
             'reggio calabria': 'italy', 'reggio emilia': 'italy', 'perugia': 'italy', 'livorno': 'italy',
             'ravenna': 'italy', 'cagliari': 'italy', 'foggia': 'italy', 'rimini': 'italy',
             'salerno': 'italy', 'ferrara': 'italy', 'sassari': 'italy', 'latina': 'italy',
             'giugliano in campania': 'italy', 'monza': 'italy', 'syracuse': 'italy', 'pescara': 'italy',
             'bergamo': 'italy', 'forlÃ¬': 'italy', 'trento': 'italy', 'vicenza': 'italy',
             'terni': 'italy', 'bolzano': 'italy', 'novara': 'italy', 'piacenza': 'italy',
             'ancona': 'italy', 'andria': 'italy', 'arezzo': 'italy', 'udine': 'italy',
             'cesena': 'italy', 'lecce': 'italy', 'pesaro': 'italy', 'barletta': 'italy',
             'alessandria': 'italy', 'la spezia': 'italy', 'pisa': 'italy', 'catanzaro': 'italy',
             'pistoia': 'italy', 'brindisi': 'italy', 'treviso': 'italy', 'pavia': 'italy',
             
             // Ä°spanya ÅŸehirleri
             'madrid': 'spain', 'barcelona': 'spain', 'valencia': 'spain', 'sevilla': 'spain',
             'zaragoza': 'spain', 'mÃ¡laga': 'spain', 'murcia': 'spain', 'palma': 'spain',
             'las palmas': 'spain', 'bilbao': 'spain', 'alicante': 'spain', 'cÃ³rdoba': 'spain',
             'valladolid': 'spain', 'vigo': 'spain', 'gijÃ³n': 'spain', 'hospitalet de llobregat': 'spain',
             'vitoria-gasteiz': 'spain', 'a coruÃ±a': 'spain', 'elche': 'spain', 'oviedo': 'spain',
             'santa cruz de tenerife': 'spain', 'badalona': 'spain', 'cartagena': 'spain', 'terrassa': 'spain',
             'jerez de la frontera': 'spain', 'sabadell': 'spain', 'mÃ³stoles': 'spain', 'alcalÃ¡ de henares': 'spain',
             'pamplona': 'spain', 'fuenlabrada': 'spain', 'almerÃ­a': 'spain', 'leganÃ©s': 'spain',
             'donostia-san sebastiÃ¡n': 'spain', 'burgos': 'spain', 'santander': 'spain', 'castellÃ³n de la plana': 'spain',
             'alcorcÃ³n': 'spain', 'getafe': 'spain', 'salamanca': 'spain', 'huelva': 'spain',
             'logroÃ±o': 'spain', 'badajoz': 'spain', 'tarragona': 'spain', 'leÃ³n': 'spain',
             'cÃ¡diz': 'spain', 'lleida': 'spain', 'marbella': 'spain', 'dos hermanas': 'spain',
             'mataro': 'spain', 'torrejÃ³n de ardoz': 'spain', 'parla': 'spain', 'alcobendas': 'spain',
             
             // Ä°ngiltere ÅŸehirleri
             'london': 'united kingdom', 'birmingham': 'united kingdom', 'manchester': 'united kingdom', 'glasgow': 'united kingdom',
             'liverpool': 'united kingdom', 'leeds': 'united kingdom', 'sheffield': 'united kingdom', 'edinburgh': 'united kingdom',
             'bristol': 'united kingdom', 'cardiff': 'united kingdom', 'leicester': 'united kingdom', 'coventry': 'united kingdom',
             'bradford': 'united kingdom', 'belfast': 'united kingdom', 'nottingham': 'united kingdom', 'kingston upon hull': 'united kingdom',
             'newcastle upon tyne': 'united kingdom', 'stoke-on-trent': 'united kingdom', 'southampton': 'united kingdom', 'derby': 'united kingdom',
             'portsmouth': 'united kingdom', 'brighton': 'united kingdom', 'plymouth': 'united kingdom', 'northampton': 'united kingdom',
             'reading': 'united kingdom', 'luton': 'united kingdom', 'wolverhampton': 'united kingdom', 'bolton': 'united kingdom',
             'bournemouth': 'united kingdom', 'norwich': 'united kingdom', 'swindon': 'united kingdom', 'swansea': 'united kingdom',
             'southend-on-sea': 'united kingdom', 'middlesbrough': 'united kingdom', 'milton keynes': 'united kingdom', 'sunderland': 'united kingdom',
             'warrington': 'united kingdom', 'huddersfield': 'united kingdom', 'peterborough': 'united kingdom', 'york': 'united kingdom',
             'stockport': 'united kingdom', 'west bromwich': 'united kingdom', 'oldham': 'united kingdom', 'exeter': 'united kingdom',
             'gloucester': 'united kingdom', 'blackpool': 'united kingdom', 'preston': 'united kingdom', 'sutton coldfield': 'united kingdom',
             
             // ABD ÅŸehirleri
             'new york': 'united states', 'los angeles': 'united states', 'chicago': 'united states', 'houston': 'united states',
             'phoenix': 'united states', 'philadelphia': 'united states', 'san antonio': 'united states', 'san diego': 'united states',
             'dallas': 'united states', 'san jose': 'united states', 'austin': 'united states', 'jacksonville': 'united states',
             'fort worth': 'united states', 'columbus': 'united states', 'charlotte': 'united states', 'san francisco': 'united states',
             'indianapolis': 'united states', 'seattle': 'united states', 'denver': 'united states', 'washington': 'united states',
             'boston': 'united states', 'el paso': 'united states', 'detroit': 'united states', 'nashville': 'united states',
             'portland': 'united states', 'memphis': 'united states', 'oklahoma city': 'united states', 'las vegas': 'united states',
             'louisville': 'united states', 'baltimore': 'united states', 'milwaukee': 'united states', 'albuquerque': 'united states',
             'tucson': 'united states', 'fresno': 'united states', 'mesa': 'united states', 'sacramento': 'united states',
             'atlanta': 'united states', 'kansas city': 'united states', 'colorado springs': 'united states', 'miami': 'united states',
             'raleigh': 'united states', 'omaha': 'united states', 'long beach': 'united states', 'virginia beach': 'united states',
             'oakland': 'united states', 'minneapolis': 'united states', 'tulsa': 'united states', 'arlington': 'united states',
             'tampa': 'united states', 'new orleans': 'united states', 'wichita': 'united states', 'cleveland': 'united states',
             
             // Kanada ÅŸehirleri
             'toronto': 'canada', 'montreal': 'canada', 'vancouver': 'canada', 'calgary': 'canada',
             'edmonton': 'canada', 'ottawa': 'canada', 'winnipeg': 'canada', 'quebec city': 'canada',
             'hamilton': 'canada', 'kitchener': 'canada', 'london': 'canada', 'victoria': 'canada',
             'halifax': 'canada', 'oshawa': 'canada', 'windsor': 'canada', 'saskatoon': 'canada',
             'st. catharines': 'canada', 'regina': 'canada', 'sherbrooke': 'canada', 'kelowna': 'canada',
             'barrie': 'canada', 'abbotsford': 'canada', 'kingston': 'canada', 'sudbury': 'canada',
             'trois-riviÃ¨res': 'canada', 'guelph': 'canada', 'cambridge': 'canada', 'whitby': 'canada',
             'thunder bay': 'canada', 'chatham': 'canada', 'red deer': 'canada', 'lethbridge': 'canada',
             'kamloops': 'canada', 'brantford': 'canada', 'nanaimo': 'canada', 'moncton': 'canada',
             'sarnia': 'canada', 'sault ste. marie': 'canada', 'medicine hat': 'canada', 'north bay': 'canada',
             'prince george': 'canada', 'fredericton': 'canada', 'saint john': 'canada', 'fort mcmurray': 'canada',
             
             // Avustralya ÅŸehirleri
             'sydney': 'australia', 'melbourne': 'australia', 'brisbane': 'australia', 'perth': 'australia',
             'adelaide': 'australia', 'gold coast': 'australia', 'newcastle': 'australia', 'canberra': 'australia',
             'sunshine coast': 'australia', 'wollongong': 'australia', 'hobart': 'australia', 'geelong': 'australia',
             'townsville': 'australia', 'cairns': 'australia', 'darwin': 'australia', 'toowoomba': 'australia',
             'ballarat': 'australia', 'bendigo': 'australia', 'albury': 'australia', 'launceston': 'australia',
             'mackay': 'australia', 'rockhampton': 'australia', 'bunbury': 'australia', 'bundaberg': 'australia',
             'coffs harbour': 'australia', 'wagga wagga': 'australia', 'hervey bay': 'australia', 'mildura': 'australia',
             'shepparton': 'australia', 'port macquarie': 'australia', 'gladstone': 'australia', 'tamworth': 'australia',
             'traralgon': 'australia', 'orange': 'australia', 'dubbo': 'australia', 'geraldton': 'australia',
             'bowral': 'australia', 'bathurst': 'australia', 'nowra': 'australia', 'warrnambool': 'australia',
             
             // Japonya ÅŸehirleri
             'tokyo': 'japan', 'yokohama': 'japan', 'osaka': 'japan', 'nagoya': 'japan',
             'sapporo': 'japan', 'fukuoka': 'japan', 'kobe': 'japan', 'kawasaki': 'japan',
             'kyoto': 'japan', 'saitama': 'japan', 'hiroshima': 'japan', 'sendai': 'japan',
             'kitakyushu': 'japan', 'chiba': 'japan', 'sakai': 'japan', 'niigata': 'japan',
             'hamamatsu': 'japan', 'okayama': 'japan', 'sagamihara': 'japan', 'shizuoka': 'japan',
             'kumamoto': 'japan', 'kagoshima': 'japan', 'matsuyama': 'japan', 'kanazawa': 'japan',
             'utsunomiya': 'japan', 'matsudo': 'japan', 'kawaguchi': 'japan', 'takatsuki': 'japan',
             'toyama': 'japan', 'toyota': 'japan', 'takamatsu': 'japan', 'machida': 'japan',
             'gifu': 'japan', 'fujisawa': 'japan', 'kashiwa': 'japan', 'toyonaka': 'japan',
             'nagano': 'japan', 'iwaki': 'japan', 'asahikawa': 'japan', 'okazaki': 'japan',
             'miyazaki': 'japan', 'nara': 'japan', 'suita': 'japan', 'wakayama': 'japan',
             
             // GÃ¼ney Kore ÅŸehirleri
             'seoul': 'south korea', 'busan': 'south korea', 'incheon': 'south korea', 'daegu': 'south korea',
             'daejeon': 'south korea', 'gwangju': 'south korea', 'suwon': 'south korea', 'ulsan': 'south korea',
             'changwon': 'south korea', 'goyang': 'south korea', 'yongin': 'south korea', 'seongnam': 'south korea',
             'bucheon': 'south korea', 'ansan': 'south korea', 'cheongju': 'south korea', 'jeonju': 'south korea',
             'anyang': 'south korea', 'cheonan': 'south korea', 'namyangju': 'south korea', 'pohang': 'south korea',
             'uijeongbu': 'south korea', 'siheung': 'south korea', 'paju': 'south korea', 'gimhae': 'south korea',
             'pyeongtaek': 'south korea', 'jinju': 'south korea', 'yangju': 'south korea', 'icheon': 'south korea',
             'gunpo': 'south korea', 'osan': 'south korea', 'gwangmyeong': 'south korea', 'jeju': 'south korea',
             'hanam': 'south korea', 'gimpo': 'south korea', 'guri': 'south korea', 'mokpo': 'south korea',
             'wonju': 'south korea', 'sacheon': 'south korea', 'yangsan': 'south korea', 'gwangyang': 'south korea',
             
             // Ã‡in ÅŸehirleri
             'beijing': 'china', 'shanghai': 'china', 'guangzhou': 'china', 'shenzhen': 'china',
             'tianjin': 'china', 'wuhan': 'china', 'dongguan': 'china', 'chengdu': 'china',
             'nanjing': 'china', 'chongqing': 'china', 'xian': 'china', 'shenyang': 'china',
             'hangzhou': 'china', 'dalian': 'china', 'qingdao': 'china', 'jinan': 'china',
             'harbin': 'china', 'zhengzhou': 'china', 'shantou': 'china', 'foshan': 'china',
             'changchun': 'china', 'shijiazhuang': 'china', 'kunming': 'china', 'changsha': 'china',
             'hefei': 'china', 'urumqi': 'china', 'suzhou': 'china', 'wuxi': 'china',
             'ningbo': 'china', 'lanzhou': 'china', 'xuzhou': 'china', 'wenzhou': 'china',
             'nanning': 'china', 'guiyang': 'china', 'taiyuan': 'china', 'nanchang': 'china',
             'zibo': 'china', 'yantai': 'china', 'huizhou': 'china', 'weifang': 'china',
             'handan': 'china', 'zhuhai': 'china', 'baotou': 'china', 'tangshan': 'china',
             
             // Hindistan ÅŸehirleri
             'mumbai': 'india', 'delhi': 'india', 'bangalore': 'india', 'hyderabad': 'india',
             'ahmedabad': 'india', 'chennai': 'india', 'kolkata': 'india', 'surat': 'india',
             'pune': 'india', 'jaipur': 'india', 'lucknow': 'india', 'kanpur': 'india',
             'nagpur': 'india', 'indore': 'india', 'thane': 'india', 'bhopal': 'india',
             'visakhapatnam': 'india', 'pimpri-chinchwad': 'india', 'patna': 'india', 'vadodara': 'india',
             'ghaziabad': 'india', 'ludhiana': 'india', 'agra': 'india', 'nashik': 'india',
             'faridabad': 'india', 'meerut': 'india', 'rajkot': 'india', 'kalyan-dombivli': 'india',
             'vasai-virar': 'india', 'varanasi': 'india', 'srinagar': 'india', 'aurangabad': 'india',
             'dhanbad': 'india', 'amritsar': 'india', 'navi mumbai': 'india', 'allahabad': 'india',
             'ranchi': 'india', 'howrah': 'india', 'coimbatore': 'india', 'jabalpur': 'india',
             'gwalior': 'india', 'vijayawada': 'india', 'jodhpur': 'india', 'madurai': 'india',
             
             // Brezilya ÅŸehirleri
             'sÃ£o paulo': 'brazil', 'rio de janeiro': 'brazil', 'brasÃ­lia': 'brazil', 'salvador': 'brazil',
             'fortaleza': 'brazil', 'belo horizonte': 'brazil', 'manaus': 'brazil', 'curitiba': 'brazil',
             'recife': 'brazil', 'goiÃ¢nia': 'brazil', 'belÃ©m': 'brazil', 'porto alegre': 'brazil',
             'guarulhos': 'brazil', 'campinas': 'brazil', 'sÃ£o luÃ­s': 'brazil', 'sÃ£o gonÃ§alo': 'brazil',
             'maceiÃ³': 'brazil', 'duque de caxias': 'brazil', 'natal': 'brazil', 'teresina': 'brazil',
             'campo grande': 'brazil', 'nova iguaÃ§u': 'brazil', 'sÃ£o bernardo do campo': 'brazil', 'joÃ£o pessoa': 'brazil',
             'santo andrÃ©': 'brazil', 'osasco': 'brazil', 'jaboatÃ£o dos guararapes': 'brazil', 'sÃ£o josÃ© dos campos': 'brazil',
             'ribeirÃ£o preto': 'brazil', 'uberlÃ¢ndia': 'brazil', 'sorocaba': 'brazil', 'contagem': 'brazil',
             'aracaju': 'brazil', 'feira de santana': 'brazil', 'cuiabÃ¡': 'brazil', 'joinville': 'brazil',
             'aparecida de goiÃ¢nia': 'brazil', 'londrina': 'brazil', 'juiz de fora': 'brazil', 'ananindeua': 'brazil',
             
             // Rusya ÅŸehirleri
             'moscow': 'russia', 'saint petersburg': 'russia', 'novosibirsk': 'russia', 'yekaterinburg': 'russia',
             'nizhny novgorod': 'russia', 'kazan': 'russia', 'chelyabinsk': 'russia', 'omsk': 'russia',
             'samara': 'russia', 'rostov-on-don': 'russia', 'ufa': 'russia', 'krasnoyarsk': 'russia',
             'perm': 'russia', 'voronezh': 'russia', 'volgograd': 'russia', 'krasnodar': 'russia',
             'saratov': 'russia', 'tyumen': 'russia', 'tolyatti': 'russia', 'izhevsk': 'russia',
             'barnaul': 'russia', 'ulyanovsk': 'russia', 'irkutsk': 'russia', 'vladivostok': 'russia',
             'yaroslavl': 'russia', 'habarovsk': 'russia', 'makhachkala': 'russia', 'tomsk': 'russia',
             'orenburg': 'russia', 'kemerovo': 'russia', 'ryazan': 'russia', 'astrakhan': 'russia',
             'naberezhnye chelny': 'russia', 'penza': 'russia', 'lipetsk': 'russia', 'tula': 'russia',
             'kirov': 'russia', 'cheboksary': 'russia', 'kaliningrad': 'russia', 'bryansk': 'russia',
             
             // Meksika ÅŸehirleri
             'mexico city': 'mexico', 'guadalajara': 'mexico', 'monterrey': 'mexico', 'puebla': 'mexico',
             'tijuana': 'mexico', 'leÃ³n': 'mexico', 'juÃ¡rez': 'mexico', 'torreÃ³n': 'mexico',
             'querÃ©taro': 'mexico', 'san luis potosÃ­': 'mexico', 'mÃ©rida': 'mexico', 'mexicali': 'mexico',
             'aguascalientes': 'mexico', 'cuernavaca': 'mexico', 'saltillo': 'mexico', 'hermosillo': 'mexico',
             'cancÃºn': 'mexico', 'durango': 'mexico', 'xalapa': 'mexico', 'toluca': 'mexico',
             'reynosa': 'mexico', 'chihuahua': 'mexico', 'morelia': 'mexico', 'tampico': 'mexico',
             'culiacÃ¡n': 'mexico', 'acapulco': 'mexico', 'chimalhuacÃ¡n': 'mexico', 'tlalnepantla': 'mexico',
             'veracruz': 'mexico', 'pachuca': 'mexico', 'oaxaca': 'mexico', 'tuxtla gutiÃ©rrez': 'mexico',
             'mazatlÃ¡n': 'mexico', 'irapuato': 'mexico', 'nuevo laredo': 'mexico', 'villahermosa': 'mexico',
             
             // Arjantin ÅŸehirleri
             'buenos aires': 'argentina', 'cÃ³rdoba': 'argentina', 'rosario': 'argentina', 'mendoza': 'argentina',
             'tucumÃ¡n': 'argentina', 'la plata': 'argentina', 'mar del plata': 'argentina', 'salta': 'argentina',
             'santa fe': 'argentina', 'san juan': 'argentina', 'resistencia': 'argentina', 'santiago del estero': 'argentina',
             'corrientes': 'argentina', 'posadas': 'argentina', 'neuquÃ©n': 'argentina', 'bahÃ­a blanca': 'argentina',
             'paranÃ¡': 'argentina', 'formosa': 'argentina', 'san luis': 'argentina', 'la rioja': 'argentina',
             'catamarca': 'argentina', 'rÃ­o cuarto': 'argentina', 'comodoro rivadavia': 'argentina', 'concordia': 'argentina',
             'san rafael': 'argentina', 'tandil': 'argentina', 'san nicolÃ¡s': 'argentina', 'rÃ­o gallegos': 'argentina',
             'ushuaia': 'argentina', 'san salvador de jujuy': 'argentina', 'pergamino': 'argentina', 'zÃ¡rate': 'argentina',
             'campana': 'argentina', 'venado tuerto': 'argentina', 'junÃ­n': 'argentina', 'olavarrÃ­a': 'argentina',
             
             // TÃ¼rkiye ÅŸehirleri
             'istanbul': 'turkey', 'ankara': 'turkey', 'izmir': 'turkey', 'bursa': 'turkey',
             'antalya': 'turkey', 'adana': 'turkey', 'konya': 'turkey', 'ÅŸanlÄ±urfa': 'turkey',
             'gaziantep': 'turkey', 'kayseri': 'turkey', 'mersin': 'turkey', 'eskiÅŸehir': 'turkey',
             'diyarbakÄ±r': 'turkey', 'samsun': 'turkey', 'denizli': 'turkey', 'adapazarÄ±': 'turkey',
             'malatya': 'turkey', 'kahramanmaraÅŸ': 'turkey', 'erzurum': 'turkey', 'van': 'turkey',
             'batman': 'turkey', 'elazÄ±ÄŸ': 'turkey', 'iÄŸdÄ±r': 'turkey', 'tokat': 'turkey',
             'sivas': 'turkey', 'gebze': 'turkey', 'kocaeli': 'turkey', 'manisa': 'turkey',
             'balÄ±kesir': 'turkey', 'aydÄ±n': 'turkey', 'tekirdaÄŸ': 'turkey', 'Ã§orum': 'turkey',
             'kÄ±rÄ±kkale': 'turkey', 'afyon': 'turkey', 'isparta': 'turkey', 'zonguldak': 'turkey',
             'uÅŸak': 'turkey', 'dÃ¼zce': 'turkey', 'osmaniye': 'turkey', 'kÄ±rÅŸehir': 'turkey',
             
             // Hollanda ÅŸehirleri
             'amsterdam': 'netherlands', 'rotterdam': 'netherlands', 'the hague': 'netherlands', 'utrecht': 'netherlands',
             'eindhoven': 'netherlands', 'tilburg': 'netherlands', 'groningen': 'netherlands', 'almere': 'netherlands',
             'breda': 'netherlands', 'nijmegen': 'netherlands', 'enschede': 'netherlands', 'haarlem': 'netherlands',
             'arnhem': 'netherlands', 'zaanstad': 'netherlands', 'amersfoort': 'netherlands', 'apeldoorn': 'netherlands',
             's-hertogenbosch': 'netherlands', 'hoofddorp': 'netherlands', 'maastricht': 'netherlands', 'leiden': 'netherlands',
             'dordrecht': 'netherlands', 'zoetermeer': 'netherlands', 'zwolle': 'netherlands', 'deventer': 'netherlands',
             'delft': 'netherlands', 'alkmaar': 'netherlands', 'leeuwarden': 'netherlands', 'sittard-geleen': 'netherlands',
             'venlo': 'netherlands', 'hilversum': 'netherlands', 'hengelo': 'netherlands', 'purmerend': 'netherlands',
             'roosendaal': 'netherlands', 'schiedam': 'netherlands', 'spijkenisse': 'netherlands', 'ede': 'netherlands',
             
             // BelÃ§ika ÅŸehirleri
             'brussels': 'belgium', 'antwerp': 'belgium', 'ghent': 'belgium', 'charleroi': 'belgium',
             'liÃ¨ge': 'belgium', 'bruges': 'belgium', 'namur': 'belgium', 'leuven': 'belgium',
             'mons': 'belgium', 'aalst': 'belgium', 'mechelen': 'belgium', 'la louviÃ¨re': 'belgium',
             'kortrijk': 'belgium', 'hasselt': 'belgium', 'sint-niklaas': 'belgium', 'ostend': 'belgium',
             'genk': 'belgium', 'seraing': 'belgium', 'roeselare': 'belgium', 'verviers': 'belgium',
             'mouscron': 'belgium', 'beveren': 'belgium', 'dendermonde': 'belgium', 'beringen': 'belgium',
             'turnhout': 'belgium', 'vilvoorde': 'belgium', 'lokeren': 'belgium', 'sint-truiden': 'belgium',
             'herstal': 'belgium', 'brasschaat': 'belgium', 'waregem': 'belgium', 'grimbergen': 'belgium',
             
             // Ä°sviÃ§re ÅŸehirleri
             'zurich': 'switzerland', 'geneva': 'switzerland', 'basel': 'switzerland', 'bern': 'switzerland',
             'lausanne': 'switzerland', 'winterthur': 'switzerland', 'lucerne': 'switzerland', 'st. gallen': 'switzerland',
             'lugano': 'switzerland', 'biel/bienne': 'switzerland', 'thun': 'switzerland', 'kÃ¶niz': 'switzerland',
             'la chaux-de-fonds': 'switzerland', 'schaffhausen': 'switzerland', 'fribourg': 'switzerland', 'vernier': 'switzerland',
             'chur': 'switzerland', 'neuchÃ¢tel': 'switzerland', 'uster': 'switzerland', 'sion': 'switzerland',
             'emmen': 'switzerland', 'zug': 'switzerland', 'yverdon-les-bains': 'switzerland', 'dÃ¼bendorf': 'switzerland',
             'dietikon': 'switzerland', 'montreux': 'switzerland', 'frauenfeld': 'switzerland', 'wetzikon': 'switzerland',
             'baar': 'switzerland', 'rapperswil-jona': 'switzerland', 'carouge': 'switzerland', 'riehen': 'switzerland',
             
             // Avusturya ÅŸehirleri
             'vienna': 'austria', 'graz': 'austria', 'linz': 'austria', 'salzburg': 'austria',
             'innsbruck': 'austria', 'klagenfurt': 'austria', 'villach': 'austria', 'wels': 'austria',
             'sankt pÃ¶lten': 'austria', 'dornbirn': 'austria', 'steyr': 'austria', 'wiener neustadt': 'austria',
             'feldkirch': 'austria', 'bregenz': 'austria', 'leonding': 'austria', 'klosterneuburg': 'austria',
             'baden': 'austria', 'wolfsberg': 'austria', 'leoben': 'austria', 'krems': 'austria',
             'traun': 'austria', 'amstetten': 'austria', 'kapfenberg': 'austria', 'mÃ¶dling': 'austria',
             'hallein': 'austria', 'kufstein': 'austria', 'traiskirchen': 'austria', 'schwechat': 'austria',
             'braunau am inn': 'austria', 'stockerau': 'austria', 'saalfelden': 'austria', 'ansfelden': 'austria',
             
             // Portekiz ÅŸehirleri
             'lisbon': 'portugal', 'porto': 'portugal', 'amadora': 'portugal', 'braga': 'portugal',
             'setÃºbal': 'portugal', 'coimbra': 'portugal', 'funchal': 'portugal', 'almada': 'portugal',
             'agualva-cacÃ©m': 'portugal', 'queluz': 'portugal', 'aveiro': 'portugal', 'Ã©vora': 'portugal',
             'rio maior': 'portugal', 'odivelas': 'portugal', 'loures': 'portugal', 'matosinhos': 'portugal',
             'gondomar': 'portugal', 'vila nova de gaia': 'portugal', 'viseu': 'portugal', 'guimarÃ£es': 'portugal',
             'leiria': 'portugal', 'faro': 'portugal', 'santarÃ©m': 'portugal', 'barreiro': 'portugal',
             'montijo': 'portugal', 'sintra': 'portugal', 'cascais': 'portugal', 'vila franca de xira': 'portugal',
             'esposende': 'portugal', 'pÃ³voa de varzim': 'portugal', 'torres vedras': 'portugal', 'paredes': 'portugal',
             
             // Yunanistan ÅŸehirleri
             'athens': 'greece', 'thessaloniki': 'greece', 'patras': 'greece', 'heraklion': 'greece',
             'larissa': 'greece', 'volos': 'greece', 'rhodes': 'greece', 'ioannina': 'greece',
             'chania': 'greece', 'chalcis': 'greece', 'serres': 'greece', 'alexandroupoli': 'greece',
             'xanthi': 'greece', 'katerini': 'greece', 'trikala': 'greece', 'lamia': 'greece',
             'kavala': 'greece', 'kalamata': 'greece', 'veria': 'greece', 'corfu': 'greece',
             'drama': 'greece', 'tripoli': 'greece', 'kozani': 'greece', 'agrinio': 'greece',
             'giannitsa': 'greece', 'preveza': 'greece', 'karditsa': 'greece', 'rethymno': 'greece',
             'mytilene': 'greece', 'chios': 'greece', 'pyrgos': 'greece', 'aigio': 'greece',
             
             // Polonya ÅŸehirleri
             'warsaw': 'poland', 'krakÃ³w': 'poland', 'Å‚Ã³dÅº': 'poland', 'wrocÅ‚aw': 'poland',
             'poznaÅ„': 'poland', 'gdaÅ„sk': 'poland', 'szczecin': 'poland', 'bydgoszcz': 'poland',
             'lublin': 'poland', 'katowice': 'poland', 'biaÅ‚ystok': 'poland', 'gdynia': 'poland',
             'czÄ™stochowa': 'poland', 'radom': 'poland', 'sosnowiec': 'poland', 'toruÅ„': 'poland',
             'kielce': 'poland', 'gliwice': 'poland', 'zabrze': 'poland', 'bytom': 'poland',
             'olsztyn': 'poland', 'bielsko-biaÅ‚a': 'poland', 'rzeszÃ³w': 'poland', 'ruda Å›lÄ…ska': 'poland',
             'rybnik': 'poland', 'tychy': 'poland', 'dÄ…browa gÃ³rnicza': 'poland', 'pÅ‚ock': 'poland',
             'elblÄ…g': 'poland', 'opole': 'poland', 'gorzÃ³w wielkopolski': 'poland', 'waÅ‚brzych': 'poland',
             
             // Ã‡ek Cumhuriyeti ÅŸehirleri
             'prague': 'czech republic', 'brno': 'czech republic', 'ostrava': 'czech republic', 'plzen': 'czech republic',
             'liberec': 'czech republic', 'olomouc': 'czech republic', 'ÄeskÃ© budÄ›jovice': 'czech republic', 'hradec krÃ¡lovÃ©': 'czech republic',
             'ÃºstÃ­ nad labem': 'czech republic', 'pardubice': 'czech republic', 'zlÃ­n': 'czech republic', 'havÃ­Å™ov': 'czech republic',
             'kladno': 'czech republic', 'most': 'czech republic', 'opava': 'czech republic', 'frÃ½dek-mÃ­stek': 'czech republic',
             'karvinÃ¡': 'czech republic', 'jihlava': 'czech republic', 'teplice': 'czech republic', 'dÄ›ÄÃ­n': 'czech republic',
             'karlovy vary': 'czech republic', 'jablonec nad nisou': 'czech republic', 'mladÃ¡ boleslav': 'czech republic', 'prostÄ›jov': 'czech republic',
             'pÅ™erov': 'czech republic', 'ÄeskÃ¡ lÃ­pa': 'czech republic', 'tÅ™ebÃ­Ä': 'czech republic', 'tÃ¡bor': 'czech republic',
             'znojmo': 'czech republic', 'pÅ™Ã­bram': 'czech republic', 'cheb': 'czech republic', 'trutnov': 'czech republic',
             
             // Macaristan ÅŸehirleri
             'budapest': 'hungary', 'debrecen': 'hungary', 'szeged': 'hungary', 'miskolc': 'hungary',
             'pÃ©cs': 'hungary', 'gyÅ‘r': 'hungary', 'nyÃ­regyhÃ¡za': 'hungary', 'kecskemÃ©t': 'hungary',
             'szÃ©kesfehÃ©rvÃ¡r': 'hungary', 'szombathely': 'hungary', 'szolnok': 'hungary', 'tatabÃ¡nya': 'hungary',
             'kaposvÃ¡r': 'hungary', 'bÃ©kÃ©scsaba': 'hungary', 'Ã©rd': 'hungary', 'zalaegerszeg': 'hungary',
             'sopron': 'hungary', 'eger': 'hungary', 'nagykanizsa': 'hungary', 'dunakeszi': 'hungary',
             'hÃ³dmezÅ‘vÃ¡sÃ¡rhely': 'hungary', 'szekszÃ¡rd': 'hungary', 'mohÃ¡cs': 'hungary', 'tÃ¶rÃ¶kszentmiklÃ³s': 'hungary',
             'ceglÃ©d': 'hungary', 'oroshÃ¡za': 'hungary', 'salgÃ³tarjÃ¡n': 'hungary', 'pÃ¡pa': 'hungary',
             'hajdÃºbÃ¶szÃ¶rmÃ©ny': 'hungary', 'vÃ¡c': 'hungary', 'gyula': 'hungary', 'komÃ¡rom': 'hungary',
             
             // Romanya ÅŸehirleri
             'bucharest': 'romania', 'cluj-napoca': 'romania', 'timiÈ™oara': 'romania', 'iaÈ™i': 'romania',
             'constanÈ›a': 'romania', 'craiova': 'romania', 'braÈ™ov': 'romania', 'galaÈ›i': 'romania',
             'ploieÈ™ti': 'romania', 'oradea': 'romania', 'brÄƒila': 'romania', 'arad': 'romania',
             'piteÈ™ti': 'romania', 'sibiu': 'romania', 'bacÄƒu': 'romania', 'tÃ¢rgu mureÈ™': 'romania',
             'baia mare': 'romania', 'buzÄƒu': 'romania', 'botoÈ™ani': 'romania', 'satu mare': 'romania',
             'rÃ¢mnicu vÃ¢lcea': 'romania', 'drobeta-turnu severin': 'romania', 'suceava': 'romania', 'piatra neamÈ›': 'romania',
             'tÃ¢rgu jiu': 'romania', 'tulcea': 'romania', 'focÈ™ani': 'romania', 'bistriÈ›a': 'romania',
             'reÈ™iÈ›a': 'romania', 'alba iulia': 'romania', 'slatina': 'romania', 'cÃ¢mpulung': 'romania',
             
             // Bulgaristan ÅŸehirleri
             'sofia': 'bulgaria', 'plovdiv': 'bulgaria', 'varna': 'bulgaria', 'burgas': 'bulgaria',
             'ruse': 'bulgaria', 'stara zagora': 'bulgaria', 'pleven': 'bulgaria', 'sliven': 'bulgaria',
             'dobrich': 'bulgaria', 'shumen': 'bulgaria', 'pernik': 'bulgaria', 'haskovo': 'bulgaria',
             'yambol': 'bulgaria', 'pazardzhik': 'bulgaria', 'blagoevgrad': 'bulgaria', 'veliko tarnovo': 'bulgaria',
             'vratsa': 'bulgaria', 'gabrovo': 'bulgaria', 'asenovgrad': 'bulgaria', 'vidin': 'bulgaria',
             'kazanlak': 'bulgaria', 'kyustendil': 'bulgaria', 'kardzhali': 'bulgaria', 'montana': 'bulgaria',
             'dimitrovgrad': 'bulgaria', 'targovishte': 'bulgaria', 'lovech': 'bulgaria', 'silistra': 'bulgaria',
             'dupnitsa': 'bulgaria', 'svishtov': 'bulgaria', 'velingrad': 'bulgaria', 'gorna oryahovitsa': 'bulgaria',
             
             // HÄ±rvatistan ÅŸehirleri
             'zagreb': 'croatia', 'split': 'croatia', 'rijeka': 'croatia', 'osijek': 'croatia',
             'zadar': 'croatia', 'pula': 'croatia', 'slavonski brod': 'croatia', 'karlovac': 'croatia',
             'varaÅ¾din': 'croatia', 'Å¡ibenik': 'croatia', 'sisak': 'croatia', 'velika gorica': 'croatia',
             'vukovar': 'croatia', 'dubrovnik': 'croatia', 'bjelovar': 'croatia', 'koprivnica': 'croatia',
             'poÅ¾ega': 'croatia', 'zapreÅ¡iÄ‡': 'croatia', 'solin': 'croatia', 'cakovec': 'croatia',
             'vinkovci': 'croatia', 'nova gradiÅ¡ka': 'croatia', 'trogir': 'croatia', 'krapina': 'croatia',
             'samobor': 'croatia', 'kriÅ¾evci': 'croatia', 'makarska': 'croatia', 'Äakovec': 'croatia',
             'gospiÄ‡': 'croatia', 'Ä‘akovo': 'croatia', 'imotski': 'croatia', 'metkoviÄ‡': 'croatia',
             
             // Slovakya ÅŸehirleri
             'bratislava': 'slovakia', 'koÅ¡ice': 'slovakia', 'preÅ¡ov': 'slovakia', 'Å¾ilina': 'slovakia',
             'banskÃ¡ bystrica': 'slovakia', 'nitra': 'slovakia', 'trnava': 'slovakia', 'martin': 'slovakia',
             'trenÄÃ­n': 'slovakia', 'poprad': 'slovakia', 'prievidza': 'slovakia', 'zvolen': 'slovakia',
             'povaÅ¾skÃ¡ bystrica': 'slovakia', 'michalovce': 'slovakia', 'spiÅ¡skÃ¡ novÃ¡ ves': 'slovakia', 'komÃ¡rno': 'slovakia',
             'levice': 'slovakia', 'bardejov': 'slovakia', 'liptovskÃ½ mikulÃ¡Å¡': 'slovakia', 'ruÅ¾omberok': 'slovakia',
             'dolnÃ½ kubÃ­n': 'slovakia', 'rimavskÃ¡ sobota': 'slovakia', 'topoÄ¾Äany': 'slovakia', 'galanta': 'slovakia',
             'dunajskÃ¡ streda': 'slovakia', 'brezno': 'slovakia', 'senica': 'slovakia', 'snina': 'slovakia',
             'luÄenec': 'slovakia', 'trebiÅ¡ov': 'slovakia', 'malacky': 'slovakia', 'roÅ¾Åˆava': 'slovakia',
             
             // Slovenya ÅŸehirleri
             'ljubljana': 'slovenia', 'maribor': 'slovenia', 'celje': 'slovenia', 'kranj': 'slovenia',
             'velenje': 'slovenia', 'koper': 'slovenia', 'novo mesto': 'slovenia', 'ptuj': 'slovenia',
             'trbovlje': 'slovenia', 'kamnik': 'slovenia', 'jesenice': 'slovenia', 'nova gorica': 'slovenia',
             'domÅ¾ale': 'slovenia', 'Å¡kofja loka': 'slovenia', 'murska sobota': 'slovenia', 'slovenj gradec': 'slovenia',
             'krÅ¡ko': 'slovenia', 'postojna': 'slovenia', 'litija': 'slovenia', 'radovljica': 'slovenia',
             'idrija': 'slovenia', 'grosuplje': 'slovenia', 'izola': 'slovenia', 'logatec': 'slovenia',
             'vrhnika': 'slovenia', 'tolmin': 'slovenia', 'sevnica': 'slovenia', 'ajdovÅ¡Äina': 'slovenia',
             'bled': 'slovenia', 'piran': 'slovenia', 'bovec': 'slovenia', 'bohinj': 'slovenia',
             
             // Estonya ÅŸehirleri
             'tallinn': 'estonia', 'tartu': 'estonia', 'narva': 'estonia', 'pÃ¤rnu': 'estonia',
             'kohtla-jÃ¤rve': 'estonia', 'viljandi': 'estonia', 'rakvere': 'estonia', 'maardu': 'estonia',
             'sillamÃ¤e': 'estonia', 'kuressaare': 'estonia', 'vÃµru': 'estonia', 'valga': 'estonia',
             'haapsalu': 'estonia', 'jÃµhvi': 'estonia', 'paide': 'estonia', 'keila': 'estonia',
             'saue': 'estonia', 'elva': 'estonia', 'tapa': 'estonia', 'pÃµlva': 'estonia',
             'jÃµgeva': 'estonia', 'kiviÃµli': 'estonia', 'rapla': 'estonia', 'kÃ¤rdla': 'estonia',
             'tÃ¼ri': 'estonia', 'loksa': 'estonia', 'otepÃ¤Ã¤': 'estonia', 'pÃµltsamaa': 'estonia',
             'kehra': 'estonia', 'paldiski': 'estonia', 'tÃµrva': 'estonia', 'kunda': 'estonia',
             
             // Letonya ÅŸehirleri
             'riga': 'latvia', 'daugavpils': 'latvia', 'liepÄja': 'latvia', 'jelgava': 'latvia',
             'jÅ«rmala': 'latvia', 'ventspils': 'latvia', 'rÄ“zekne': 'latvia', 'valmiera': 'latvia',
             'jÄ“kabpils': 'latvia', 'ogre': 'latvia', 'tukums': 'latvia', 'salaspils': 'latvia',
             'cÄ“sis': 'latvia', 'kuldÄ«ga': 'latvia', 'saldus': 'latvia', 'talsi': 'latvia',
             'dobele': 'latvia', 'krÄslava': 'latvia', 'bauska': 'latvia', 'sigulda': 'latvia',
             'madona': 'latvia', 'aizkraukle': 'latvia', 'limbaÅ¾i': 'latvia', 'gulbene': 'latvia',
             'alÅ«ksne': 'latvia', 'balvi': 'latvia', 'ludza': 'latvia', 'preiÄ¼i': 'latvia',
             'smiltene': 'latvia', 'auce': 'latvia', 'pÄvilosta': 'latvia', 'stende': 'latvia',
             
             // Litvanya ÅŸehirleri
             'vilnius': 'lithuania', 'kaunas': 'lithuania', 'klaipÄ—da': 'lithuania', 'Å¡iauliai': 'lithuania',
             'panevÄ—Å¾ys': 'lithuania', 'alytus': 'lithuania', 'marijampolÄ—': 'lithuania', 'maÅ¾eikiai': 'lithuania',
             'jonava': 'lithuania', 'utena': 'lithuania', 'kÄ—dainiai': 'lithuania', 'telÅ¡iai': 'lithuania',
             'visaginas': 'lithuania', 'tauragÄ—': 'lithuania', 'ukmergÄ—': 'lithuania', 'plungÄ—': 'lithuania',
             'kretinga': 'lithuania', 'Å¡ilutÄ—': 'lithuania', 'radviliÅ¡kis': 'lithuania', 'gargÅ¾dai': 'lithuania',
             'druskininkai': 'lithuania', 'palanga': 'lithuania', 'rokiÅ¡kis': 'lithuania', 'birÅ¾ai': 'lithuania',
             'elektrÄ—nai': 'lithuania', 'garliava': 'lithuania', 'kurÅ¡Ä—nai': 'lithuania', 'vilkaviÅ¡kis': 'lithuania',
             'Å¡akiai': 'lithuania', 'raseiniai': 'lithuania', 'anykÅ¡Äiai': 'lithuania', 'prienai': 'lithuania'
           };
           
           return cityCountryMap[cityName.toLowerCase()] || null; // Bilinmeyen ÅŸehirler iÃ§in null dÃ¶ndÃ¼r
         }
         
         // Åehir iÃ§in Ã¶rnek turistik yerler oluÅŸtur
         function generateCityPlaces(cityName, detectedCountry) {
           const countryFilter = document.getElementById('countryFilter');
           let selectedCountry = detectedCountry ? detectedCountry.toUpperCase() : (countryFilter ? countryFilter.value.toUpperCase() : 'GERMANY');
           
           // GÃ¼venlik kontrolÃ¼ - selectedCountry'nin undefined olmamasÄ±nÄ± saÄŸla
           if (!selectedCountry || selectedCountry === 'UNDEFINED') {
             selectedCountry = 'GERMANY';
           }
           
           // Ã–zel ÅŸehir verileri - dÃ¼nyaca Ã¼nlÃ¼ ÅŸehirler iÃ§in gerÃ§ek turistik yerler
           const specialCities = {
             'berlin': [
               { name: 'Brandenburg KapÄ±sÄ±', category: 'Tarihi YapÄ±', desc: 'Berlin\'in en Ã¼nlÃ¼ simgesi olan Brandenburg KapÄ±sÄ±, Almanya\'nÄ±n birleÅŸmesinin sembolÃ¼dÃ¼r. 1791 yÄ±lÄ±nda inÅŸa edilen bu neoklasik yapÄ±, Berlin DuvarÄ±\'nÄ±n yÄ±kÄ±lmasÄ±ndan sonra Ã¶zgÃ¼rlÃ¼ÄŸÃ¼n simgesi haline gelmiÅŸtir.' },
               { name: 'Berlin DuvarÄ±', category: 'Tarihi YapÄ±', desc: 'SoÄŸuk SavaÅŸ dÃ¶neminin en Ã¶nemli sembollerinden biri olan Berlin DuvarÄ±\'nÄ±n kalÄ±ntÄ±larÄ±. East Side Gallery bÃ¶lÃ¼mÃ¼nde dÃ¼nyaca Ã¼nlÃ¼ sanatÃ§Ä±larÄ±n duvar resimleri bulunmaktadÄ±r.' },
               { name: 'Reichstag BinasÄ±', category: 'HÃ¼kÃ¼met BinasÄ±', desc: 'Alman Parlamentosu\'nun bulunduÄŸu tarihi bina. Norman Foster tarafÄ±ndan tasarlanan cam kubbesi ile Ã¼nlÃ¼dÃ¼r ve Ã¼cretsiz ziyaret edilebilir.' },
               { name: 'Museum Island', category: 'MÃ¼ze Kompleksi', desc: 'UNESCO DÃ¼nya MirasÄ± listesinde yer alan mÃ¼ze adasÄ±, beÅŸ dÃ¼nyaca Ã¼nlÃ¼ mÃ¼zeyi barÄ±ndÄ±rÄ±r: Pergamon MÃ¼zesi, Bode MÃ¼zesi, Neues Museum, Alte Nationalgalerie ve Altes Museum.' },
               { name: 'Checkpoint Charlie', category: 'Tarihi Yer', desc: 'SoÄŸuk SavaÅŸ dÃ¶neminde DoÄŸu ve BatÄ± Berlin arasÄ±ndaki en Ã¼nlÃ¼ sÄ±nÄ±r kapÄ±sÄ±. BugÃ¼n mÃ¼ze olarak hizmet vermekte ve dÃ¶nemin atmosferini yaÅŸatmaktadÄ±r.' },
               { name: 'Tiergarten', category: 'Park', desc: 'Berlin\'in kalbinde yer alan 210 hektarlÄ±k bÃ¼yÃ¼k park. YÃ¼rÃ¼yÃ¼ÅŸ, bisiklet sÃ¼rme ve piknik iÃ§in ideal. Ä°Ã§inde Zafer AnÄ±tÄ± ve Bellevue SarayÄ± bulunur.' },
               { name: 'Potsdamer Platz', category: 'Åehir Merkezi', desc: 'Modern Berlin\'in kalbi olan bu meydan, gÃ¶kdelenler, alÄ±ÅŸveriÅŸ merkezleri, sinema kompleksleri ve restoranlarla dolu canlÄ± bir bÃ¶lgedir.' },
               { name: 'Berlin Katedrali', category: 'Dini YapÄ±', desc: 'Spree Nehri kÄ±yÄ±sÄ±nda yer alan gÃ¶rkemli Protestan katedrali. Barok mimarisi ve muhteÅŸem kubbesi ile Berlin\'in en gÃ¼zel yapÄ±larÄ±ndan biridir.' },
               { name: 'Alexanderplatz', category: 'Meydan', desc: 'Berlin\'in en bÃ¼yÃ¼k meydanlarÄ±ndan biri. TV Kulesi, DÃ¼nya Saati ve Ã§eÅŸitli alÄ±ÅŸveriÅŸ merkezleri ile ÅŸehrin Ã¶nemli buluÅŸma noktalarÄ±ndan biridir.' },
               { name: 'Charlottenburg SarayÄ±', category: 'Saray', desc: 'Berlin\'in en bÃ¼yÃ¼k sarayÄ± ve Prusya kraliyet ailesinin eski ikametgahÄ±. Barok ve rokoko tarzÄ±nda dekore edilmiÅŸ odalarÄ± ve muhteÅŸem bahÃ§eleri ile Ã¼nlÃ¼dÃ¼r.' },
               { name: 'Berlin TV Kulesi', category: 'Kule', desc: 'Alexanderplatz\'ta yer alan 368 metre yÃ¼ksekliÄŸindeki televizyon kulesi. Berlin\'in panoramik manzarasÄ±nÄ± sunan gÃ¶zlem terasÄ± ve dÃ¶ner restoran ile Ã¼nlÃ¼dÃ¼r.' },
               { name: 'Kreuzberg', category: 'Mahalle', desc: 'Berlin\'in alternatif kÃ¼ltÃ¼r merkezi ve KÃ¼Ã§Ã¼k Ä°stanbul olarak bilinen bÃ¶lge. TÃ¼rk nÃ¼fusunun yoÄŸun olduÄŸu bu bÃ¶lge, gece kulÃ¼pleri, sanat galerileri ve Ã§ok kÃ¼ltÃ¼rlÃ¼ atmosferi ile Ã¼nlÃ¼dÃ¼r.' },
               { name: 'Hackescher Markt', category: 'AlÄ±ÅŸveriÅŸ BÃ¶lgesi', desc: 'Berlin\'in en canlÄ± alÄ±ÅŸveriÅŸ ve eÄŸlence bÃ¶lgelerinden biri. Butik maÄŸazalar, kafeler, restoranlar ve gece hayatÄ± ile popÃ¼ler bir destinasyon.' },
               { name: 'Gendarmenmarkt', category: 'Meydan', desc: 'Berlin\'in en gÃ¼zel meydanlarÄ±ndan biri. FransÄ±z ve Alman katedralleri ile Konser Salonu\'nun Ã§evrelediÄŸi bu meydan, klasik mimarinin harikasÄ±.' },
               { name: 'Unter den Linden', category: 'Cadde', desc: 'Berlin\'in en Ã¼nlÃ¼ caddesi. Brandenburg KapÄ±sÄ±\'ndan baÅŸlayarak ÅŸehir merkezine uzanan bu tarihi cadde, Ã¶nemli binalarÄ± ve anÄ±tlarÄ± ile Ã¼nlÃ¼dÃ¼r.' },
               { name: 'Pergamon MÃ¼zesi', category: 'MÃ¼ze', desc: 'Antik mimari eserlerin sergilendiÄŸi dÃ¼nyaca Ã¼nlÃ¼ mÃ¼ze. Pergamon SunaÄŸÄ±, Ä°shtar KapÄ±sÄ± ve Roma PazarÄ± KapÄ±sÄ± gibi muhteÅŸem eserler barÄ±ndÄ±rÄ±r.' },
               { name: 'Topography of Terror', category: 'MÃ¼ze', desc: 'Nazi dÃ¶neminin korkunÃ§ tarihini anlatan aÃ§Ä±k hava mÃ¼zesi. SS ve Gestapo merkezinin bulunduÄŸu yerde kurulmuÅŸ olan mÃ¼ze, tarihin karanlÄ±k sayfalarÄ±nÄ± sergiler.' },
               { name: 'Spree Nehri', category: 'DoÄŸal GÃ¼zellik', desc: 'Berlin\'i geÃ§en nehir. Tekne turlarÄ±, nehir kÄ±yÄ±sÄ±nda yÃ¼rÃ¼yÃ¼ÅŸ ve Ã§eÅŸitli su sporlarÄ± iÃ§in ideal. Åehrin farklÄ± aÃ§Ä±lardan gÃ¶rÃ¼lmesini saÄŸlar.' },
               { name: 'Friedrichshain', category: 'Mahalle', desc: 'GenÃ§ ve dinamik atmosferi ile Ã¼nlÃ¼ bÃ¶lge. East Side Gallery, RAW GelÃ¤nde ve Ã§ok sayÄ±da bar, kulÃ¼p ile Berlin\'in alternatif yaÅŸamÄ±nÄ±n merkezi.' },
               { name: 'Prenzlauer Berg', category: 'Mahalle', desc: 'Bohemyen atmosferi ve restore edilmiÅŸ tarihi binalarÄ± ile Ã¼nlÃ¼ bÃ¶lge. Kafeler, butik maÄŸazalar ve sanat galerileri ile Berlin\'in en ÅŸÄ±k semtlerinden biri.' },
               { name: 'Bernauer Strasse', category: 'Tarihi Yer', desc: 'Berlin DuvarÄ± AnÄ±tÄ±\'nÄ±n bulunduÄŸu sokak. DuvarÄ±n kalÄ±ntÄ±larÄ± ve aÃ§Ä±k hava sergisi ile SoÄŸuk SavaÅŸ dÃ¶neminin acÄ± hatÄ±ralarÄ±nÄ± yaÅŸatÄ±r.' },
               { name: 'Badeschiff', category: 'EÄŸlence', desc: 'Spree Nehri Ã¼zerinde inÅŸa edilmiÅŸ devasa bir yÃ¼zme havuzu. SÄ±cak yaz gÃ¼nlerinde doyasÄ±ya eÄŸlenmek ve serinlemek iÃ§in gidebileceÄŸiniz en popÃ¼ler yerlerden biri.' },
               { name: 'Tempelhof ParkÄ±', category: 'Park', desc: 'Eski havaalanÄ±nÄ±n dÃ¶nÃ¼ÅŸtÃ¼rÃ¼ldÃ¼ÄŸÃ¼ bÃ¼yÃ¼k park. Bisiklet sÃ¼rme, piknik yapma ve aÃ§Ä±k hava etkinlikleri iÃ§in ideal. Berlin\'in en bÃ¼yÃ¼k yeÅŸil alanlarÄ±ndan biri.' },
               { name: 'Kulturforum', category: 'KÃ¼ltÃ¼r Merkezi', desc: 'Modern sanat mÃ¼zeleri ve konser salonlarÄ±nÄ±n bulunduÄŸu kÃ¼ltÃ¼r kompleksi. Neue Nationalgalerie, Philharmonie ve diÄŸer sanat kurumlarÄ± burada yer alÄ±r.' },
               { name: 'Nikolaiviertel', category: 'Tarihi Mahalle', desc: 'Berlin\'in en eski mahallesi. OrtaÃ§aÄŸ mimarisi ve dar sokaklarÄ± ile ÅŸehrin tarihi atmosferini yaÅŸatÄ±r. Restoranlar ve butik maÄŸazalar ile popÃ¼ler.' },
               { name: 'Mitte', category: 'Mahalle', desc: 'Berlin\'in merkezi mahallesi. Tarihi binalar, modern ofisler, mÃ¼zeler ve alÄ±ÅŸveriÅŸ merkezleri ile ÅŸehrin kalbi. Unter den Linden ve Museum Island burada yer alÄ±r.' },
               { name: 'NeukÃ¶lln', category: 'Mahalle', desc: 'Ã‡ok kÃ¼ltÃ¼rlÃ¼ atmosferi ile Ã¼nlÃ¼ bÃ¶lge. TÃ¼rk, Arap ve diÄŸer gÃ¶Ã§men topluluklarÄ±n yaÅŸadÄ±ÄŸÄ± bu mahalle, alternatif sanat sahnesi ve gece hayatÄ± ile Ã¼nlÃ¼.' },
               { name: 'SchÃ¶neberg', category: 'Mahalle', desc: 'Queer kÃ¼ltÃ¼rÃ¼nÃ¼n merkezi olan bÃ¶lge. Nollendorfplatz Ã§evresinde LGBT+ dostu mekanlar, barlar ve restoranlar bulunur. Berlin\'in en renkli mahallelerinden biri.' },
               { name: 'Moabit', category: 'Mahalle', desc: 'Spree Nehri kÄ±yÄ±sÄ±nda yer alan mahalle. Tiergarten\'a yakÄ±n konumu ve huzurlu atmosferi ile aileler iÃ§in ideal. Parklar ve yeÅŸil alanlar aÃ§Ä±sÄ±ndan zengin.' },
               { name: 'Wedding', category: 'Mahalle', desc: 'Berlin\'in kuzeyinde yer alan Ã§ok kÃ¼ltÃ¼rlÃ¼ mahalle. GÃ¶Ã§men nÃ¼fusun yoÄŸun olduÄŸu bu bÃ¶lge, uygun fiyatlÄ± restoranlar ve canlÄ± sokak yaÅŸamÄ± ile Ã¼nlÃ¼.' },
               { name: 'Lichtenberg', category: 'Mahalle', desc: 'DoÄŸu Berlin\'in eski endÃ¼stri bÃ¶lgesi. GÃ¼nÃ¼mÃ¼zde yenilenme sÃ¼recinde olan bu mahalle, alternatif sanat mekanlarÄ± ve yaratÄ±cÄ± endÃ¼striler ile Ã¼nlÃ¼.' },
               { name: 'Marzahn', category: 'Mahalle', desc: 'Plattenbau binalarÄ±nÄ±n yoÄŸun olduÄŸu mahalle. DoÄŸu Almanya dÃ¶neminden kalma bu bÃ¶lge, gÃ¼nÃ¼mÃ¼zde yenilenme sÃ¼recinde ve yeÅŸil alanlarÄ± ile Ã¼nlÃ¼.' },
               { name: 'Hellersdorf', category: 'Mahalle', desc: 'Berlin\'in en doÄŸusundaki mahalle. GeniÅŸ parklar, gÃ¶ller ve doÄŸal alanlarÄ± ile ÅŸehrin en yeÅŸil bÃ¶lgelerinden biri. Aileler iÃ§in ideal bir yaÅŸam alanÄ±.' },
               { name: 'Spandau', category: 'Mahalle', desc: 'Berlin\'in batÄ±sÄ±nda yer alan tarihi mahalle. OrtaÃ§aÄŸ kalesi, eski ÅŸehir merkezi ve Havel Nehri kÄ±yÄ±sÄ±ndaki konumu ile turistik aÃ§Ä±dan deÄŸerli.' },
               { name: 'Steglitz', category: 'Mahalle', desc: 'Berlin\'in gÃ¼neybatÄ±sÄ±nda yer alan Ã¼st orta sÄ±nÄ±f mahalle. SchlossstraÃŸe alÄ±ÅŸveriÅŸ caddesi, yeÅŸil alanlarÄ± ve huzurlu atmosferi ile Ã¼nlÃ¼.' },
               { name: 'Zehlendorf', category: 'Mahalle', desc: 'Berlin\'in gÃ¼neybatÄ±sÄ±nda yer alan varlÄ±klÄ± mahalle. Wannsee GÃ¶lÃ¼, Grunewald OrmanÄ± ve villalarÄ± ile ÅŸehrin en prestijli bÃ¶lgelerinden biri.' },
               { name: 'SchÃ¶nefeld', category: 'Mahalle', desc: 'Berlin Brandenburg HavalimanÄ±\'na yakÄ±n konumu ile Ã¼nlÃ¼. Eski DoÄŸu Almanya dÃ¶neminden kalma bu bÃ¶lge, gÃ¼nÃ¼mÃ¼zde havalimanÄ± Ã§alÄ±ÅŸanlarÄ±nÄ±n yaÅŸadÄ±ÄŸÄ± yer.' },
               { name: 'Treptow', category: 'Mahalle', desc: 'Spree Nehri kÄ±yÄ±sÄ±nda yer alan mahalle. Treptower Park, Sovyet AnÄ±tÄ± ve nehir manzarasÄ± ile Ã¼nlÃ¼. DoÄŸa severler iÃ§in ideal bir bÃ¶lge.' },
               { name: 'KÃ¶penick', category: 'Mahalle', desc: 'Berlin\'in gÃ¼neydoÄŸusunda yer alan tarihi mahalle. KÃ¶penick Kalesi, eski ÅŸehir merkezi ve MÃ¼ggelsee GÃ¶lÃ¼ ile Ã¼nlÃ¼. DoÄŸa ve tarih bir arada.' },
               { name: 'Pankow', category: 'Mahalle', desc: 'Berlin\'in kuzeydoÄŸusunda yer alan mahalle. Prenzlauer Berg\'i de iÃ§eren bu bÃ¶lge, bohemyen atmosferi ve alternatif kÃ¼ltÃ¼rÃ¼ ile Ã¼nlÃ¼.' },
               { name: 'Reinickendorf', category: 'Mahalle', desc: 'Berlin\'in kuzeyinde yer alan mahalle. Tegel GÃ¶lÃ¼, Tegel OrmanÄ± ve doÄŸal alanlarÄ± ile Ã¼nlÃ¼. Åehrin en yeÅŸil bÃ¶lgelerinden biri.' }
             ],
             'paris': [
               { name: 'Eyfel Kulesi', category: 'AnÄ±t', desc: 'Paris\'in simgesi olan 324 metre yÃ¼ksekliÄŸindeki demir kule. 1889 yÄ±lÄ±nda inÅŸa edilen bu muhteÅŸem yapÄ±, ÅŸehrin her yerinden gÃ¶rÃ¼lebilir ve gece Ä±ÅŸÄ±klandÄ±rmasÄ± bÃ¼yÃ¼leyicidir.' },
               { name: 'Louvre MÃ¼zesi', category: 'MÃ¼ze', desc: 'DÃ¼nyanÄ±n en bÃ¼yÃ¼k sanat mÃ¼zesi. Mona Lisa, VenÃ¼s de Milo gibi Ã¼nlÃ¼ eserleri barÄ±ndÄ±rÄ±r. Eski kraliyet sarayÄ±nda kurulmuÅŸ olan mÃ¼ze, sanat severlerin cenneti.' },
               { name: 'Notre-Dame Katedrali', category: 'Dini YapÄ±', desc: 'Gotik mimarinin en gÃ¼zel Ã¶rneklerinden biri olan katedral. Victor Hugo\'nun romanÄ±yla Ã¼nlenen bu yapÄ±, Paris\'in kalbinde Seine Nehri Ã¼zerindeki adada yer alÄ±r.' },
               { name: 'Champs-Ã‰lysÃ©es', category: 'Cadde', desc: 'DÃ¼nyanÄ±n en Ã¼nlÃ¼ caddelerinden biri. LÃ¼ks maÄŸazalar, kafeler ve restoranlarla dolu olan bu cadde, Arc de Triomphe\'a kadar uzanÄ±r.' },
               { name: 'SacrÃ©-CÅ“ur BazilikasÄ±', category: 'Dini YapÄ±', desc: 'Montmartre tepesinde yer alan beyaz bazilika. Paris\'in panoramik manzarasÄ±nÄ± sunan bu yapÄ±, hem mimari gÃ¼zelliÄŸi hem de konumuyla bÃ¼yÃ¼ler.' },
               { name: 'Seine Nehri', category: 'DoÄŸal GÃ¼zellik', desc: 'Paris\'i ikiye bÃ¶len tarihi nehir. Nehir kÄ±yÄ±sÄ±nda yÃ¼rÃ¼yÃ¼ÅŸ yapmak, tekne turlarÄ± ve kÃ¶prÃ¼lerin altÄ±ndan geÃ§mek unutulmaz deneyimler sunar.' },
               { name: 'Versay SarayÄ±', category: 'Saray', desc: 'FransÄ±z kraliyet ailesinin gÃ¶rkemli sarayÄ±. AltÄ±n kaplÄ± odalarÄ±, ayna salonu ve muhteÅŸem bahÃ§eleriyle Barok mimarinin en gÃ¼zel Ã¶rneÄŸi.' },
               { name: 'Montmartre', category: 'Mahalle', desc: 'SanatÃ§Ä±lar mahallesi olarak Ã¼nlÃ¼ bÃ¶lge. Sokak sanatÃ§Ä±larÄ±, kabareler ve bohemyen atmosferiyle Paris\'in en romantik kÃ¶ÅŸelerinden biri.' },
               { name: 'Arc de Triomphe', category: 'AnÄ±t', desc: 'Champs-Ã‰lysÃ©es\'in sonunda yer alan zafer takÄ±. Napolyon\'un zaferlerini anmak iÃ§in inÅŸa edilen bu anÄ±t, Paris\'in en Ã¶nemli simgelerinden biri.' },
               { name: 'MusÃ©e d\'Orsay', category: 'MÃ¼ze', desc: 'Eski tren istasyonunda kurulmuÅŸ sanat mÃ¼zesi. Ä°zlenimci sanatÄ±n en Ã¶nemli eserlerini barÄ±ndÄ±rÄ±r. Van Gogh, Monet ve diÄŸer Ã¼nlÃ¼ sanatÃ§Ä±larÄ±n eserleri sergilenir.' },
               { name: 'Centre Pompidou', category: 'MÃ¼ze', desc: 'Modern sanat mÃ¼zesi. DÄ±ÅŸ cephesindeki renkli borular ve merdivenlerle Ã¼nlÃ¼ bu yapÄ±, Ã§aÄŸdaÅŸ sanatÄ±n merkezi.' },
               { name: 'Luxembourg BahÃ§eleri', category: 'Park', desc: 'SenatÃ¶rlÃ¼k sarayÄ±nÄ±n bahÃ§eleri. Ã‡iÃ§ek tarhlarÄ±, heykeller ve gÃ¶lÃ¼ ile Paris\'in en gÃ¼zel parklarÄ±ndan biri.' },
               { name: 'Palais Garnier', category: 'Opera BinasÄ±', desc: 'GÃ¶rkemli opera binasÄ±. Barok mimarisi, altÄ±n kaplÄ± dekorasyonu ve muhteÅŸem akustiÄŸi ile Ã¼nlÃ¼.' },
               { name: 'Place de la Concorde', category: 'Meydan', desc: 'Paris\'in en bÃ¼yÃ¼k meydanÄ±. MÄ±sÄ±r\'dan getirilen Obelisk ve Ã§eÅŸmeleri ile Ã¼nlÃ¼.' },
               { name: 'Tuileries BahÃ§eleri', desc: 'Louvre ile Place de la Concorde arasÄ±nda uzanan tarihi bahÃ§eler. Heykeller, Ã§iÃ§ek tarhlarÄ± ve havuzlarÄ± ile Ã¼nlÃ¼.' },
               { name: 'Sainte-Chapelle', category: 'Dini YapÄ±', desc: 'Gotik mimarinin harikasÄ±. Vitray camlarÄ± ile Ã¼nlÃ¼ bu ÅŸapel, OrtaÃ§aÄŸ sanatÄ±nÄ±n en gÃ¼zel Ã¶rneklerinden biri.' },
               { name: 'PanthÃ©on', category: 'AnÄ±t', desc: 'FransÄ±z bÃ¼yÃ¼klerinin gÃ¶mÃ¼ldÃ¼ÄŸÃ¼ anÄ±t mezar. Neoklasik mimarisi ve Foucault sarkacÄ± ile Ã¼nlÃ¼.' },
               { name: 'CimetiÃ¨re du PÃ¨re-Lachaise', category: 'MezarlÄ±k', desc: 'DÃ¼nyanÄ±n en Ã¼nlÃ¼ mezarlÄ±ÄŸÄ±. Jim Morrison, Oscar Wilde ve Edith Piaf gibi Ã¼nlÃ¼lerin gÃ¶mÃ¼ldÃ¼ÄŸÃ¼ yer.' },
               { name: 'Marais', category: 'Mahalle', desc: 'Tarihi mahalle. RÃ¶nesans saraylarÄ±, butik maÄŸazalar ve LGBT+ dostu mekanlarÄ± ile Ã¼nlÃ¼.' },
               { name: 'Latin Quarter', category: 'Mahalle', desc: 'Ãœniversite mahallesi. Sorbonne, kitapÃ§Ä±lar ve Ã¶ÄŸrenci barlarÄ± ile Ã¼nlÃ¼.' },
               { name: 'Le Marais', category: 'Mahalle', desc: 'Tarihi mahalle. RÃ¶nesans saraylarÄ±, butik maÄŸazalar ve LGBT+ dostu mekanlarÄ± ile Ã¼nlÃ¼.' },
               { name: 'Bastille', category: 'Meydan', desc: 'FransÄ±z Devrimi\'nin baÅŸladÄ±ÄŸÄ± yer. Opera Bastille ve modern anÄ±tÄ± ile Ã¼nlÃ¼.' },
               { name: 'Place des Vosges', category: 'Meydan', desc: 'Paris\'in en eski meydanÄ±. Kare ÅŸeklindeki tasarÄ±mÄ± ve tarihi binalarÄ± ile Ã¼nlÃ¼.' },
               { name: 'Canal Saint-Martin', category: 'Kanal', desc: 'Romantik kanal. Tekne turlarÄ±, kÃ¶prÃ¼ler ve kafeler ile Ã¼nlÃ¼.' },
               { name: 'Parc des Buttes-Chaumont', category: 'Park', desc: 'DoÄŸal park. GÃ¶lÃ¼, maÄŸaralarÄ± ve muhteÅŸem manzarasÄ± ile Ã¼nlÃ¼.' },
               { name: 'CitÃ© des Sciences', category: 'MÃ¼ze', desc: 'Bilim mÃ¼zesi. Ä°nteraktif sergiler ve planetarium ile Ã¼nlÃ¼.' },
               { name: 'Palais de Tokyo', category: 'MÃ¼ze', desc: 'Modern sanat mÃ¼zesi. Ã‡aÄŸdaÅŸ sanatÄ±n en Ã¶nemli eserlerini sergiler.' },
               { name: 'Fondation Louis Vuitton', category: 'MÃ¼ze', desc: 'Modern sanat mÃ¼zesi. Frank Gehry tarafÄ±ndan tasarlanan mimarisi ile Ã¼nlÃ¼.' },
               { name: 'MusÃ©e Rodin', category: 'MÃ¼ze', desc: 'Heykel mÃ¼zesi. DÃ¼ÅŸÃ¼nen Adam ve diÄŸer Rodin eserleri sergilenir.' },
               { name: 'MusÃ©e Picasso', category: 'MÃ¼ze', desc: 'Picasso mÃ¼zesi. SanatÃ§Ä±nÄ±n en Ã¶nemli eserlerini barÄ±ndÄ±rÄ±r.' },
               { name: 'MusÃ©e de l\'Orangerie', category: 'MÃ¼ze', desc: 'Ä°zlenimci sanat mÃ¼zesi. Monet\'nin NymphÃ©as serisi ile Ã¼nlÃ¼.' },
               { name: 'MusÃ©e Marmottan Monet', category: 'MÃ¼ze', desc: 'Monet mÃ¼zesi. SanatÃ§Ä±nÄ±n en bÃ¼yÃ¼k koleksiyonunu barÄ±ndÄ±rÄ±r.' },
               { name: 'MusÃ©e Jacquemart-AndrÃ©', category: 'MÃ¼ze', desc: 'Ã–zel koleksiyon mÃ¼zesi. RÃ¶nesans sanatÄ± ve dekoratif sanatlar sergilenir.' },
               { name: 'MusÃ©e Nissim de Camondo', category: 'MÃ¼ze', desc: '18. yÃ¼zyÄ±l dekoratif sanatlarÄ± mÃ¼zesi. Tarihi ev atmosferinde sergiler.' },
               { name: 'MusÃ©e des Arts DÃ©coratifs', category: 'MÃ¼ze', desc: 'Dekoratif sanatlar mÃ¼zesi. Mobilya, tekstil ve tasarÄ±m eserleri sergilenir.' },
               { name: 'MusÃ©e des Arts et MÃ©tiers', category: 'MÃ¼ze', desc: 'Bilim ve teknoloji mÃ¼zesi. Eski makineler ve bilimsel aletler sergilenir.' },
               { name: 'MusÃ©e de l\'ArmÃ©e', category: 'MÃ¼ze', desc: 'Askeri mÃ¼ze. Napolyon\'un mezarÄ± ve askeri tarih sergileri.' },
               { name: 'MusÃ©e de la Marine', category: 'MÃ¼ze', desc: 'Denizcilik mÃ¼zesi. Gemi modelleri ve denizcilik tarihi sergileri.' },
               { name: 'MusÃ©e de l\'Homme', category: 'MÃ¼ze', desc: 'Ä°nsanlÄ±k mÃ¼zesi. Antropoloji ve etnoloji sergileri.' },
               { name: 'MusÃ©e du Quai Branly', category: 'MÃ¼ze', desc: 'Etnoloji mÃ¼zesi. Afrika, Asya ve Okyanusya sanatlarÄ± sergilenir.' },
               { name: 'MusÃ©e Guimet', category: 'MÃ¼ze', desc: 'Asya sanatlarÄ± mÃ¼zesi. Ã‡in, Japonya ve Hindistan sanatlarÄ± sergilenir.' },
               { name: 'MusÃ©e Cernuschi', category: 'MÃ¼ze', desc: 'Asya sanatlarÄ± mÃ¼zesi. Ã‡in sanatÄ±nÄ±n Ã¶zel koleksiyonu.' },
               { name: 'MusÃ©e d\'Art Moderne de Paris', category: 'MÃ¼ze', desc: 'Modern sanat mÃ¼zesi. 20. yÃ¼zyÄ±l sanatÄ±nÄ±n Ã¶nemli eserleri.' },
               { name: 'MusÃ©e d\'Art et d\'Histoire du JudaÃ¯sme', category: 'MÃ¼ze', desc: 'Yahudi tarihi ve kÃ¼ltÃ¼rÃ¼ mÃ¼zesi. Dini eserler ve tarihi belgeler.' },
               { name: 'MusÃ©e de la Chasse et de la Nature', category: 'MÃ¼ze', desc: 'AvcÄ±lÄ±k ve doÄŸa mÃ¼zesi. Hayvan doldurmalarÄ± ve sanat eserleri.' },
               { name: 'MusÃ©e de la PoupÃ©e', category: 'MÃ¼ze', desc: 'Bebek mÃ¼zesi. Antika bebekler ve oyuncaklar sergilenir.' },
               { name: 'MusÃ©e de la Magie', category: 'MÃ¼ze', desc: 'Sihir mÃ¼zesi. SihirbazlÄ±k tarihi ve aletleri sergilenir.' },
               { name: 'MusÃ©e des Ã‰gouts de Paris', category: 'MÃ¼ze', desc: 'Kanalizasyon mÃ¼zesi. Paris\'in yeraltÄ± dÃ¼nyasÄ±nÄ± keÅŸfedin.' },
               { name: 'MusÃ©e des Plans-Reliefs', category: 'MÃ¼ze', desc: 'Harita mÃ¼zesi. Tarihi ÅŸehir planlarÄ± ve 3D modeller.' },
               { name: 'MusÃ©e de la Poste', category: 'MÃ¼ze', desc: 'Posta mÃ¼zesi. Posta tarihi ve pul koleksiyonlarÄ±.' },
               { name: 'MusÃ©e de la Monnaie de Paris', category: 'MÃ¼ze', desc: 'Para mÃ¼zesi. Para basma tarihi ve madeni para koleksiyonlarÄ±.' },
               { name: 'MusÃ©e de la PrÃ©fecture de Police', category: 'MÃ¼ze', desc: 'Polis mÃ¼zesi. Paris polisinin tarihi ve suÃ§ tarihi.' },
               { name: 'MusÃ©e de la RÃ©sistance', category: 'MÃ¼ze', desc: 'DireniÅŸ mÃ¼zesi. Ä°kinci DÃ¼nya SavaÅŸÄ± direniÅŸ hareketi.' },
               { name: 'MusÃ©e de la LibÃ©ration', category: 'MÃ¼ze', desc: 'KurtuluÅŸ mÃ¼zesi. Paris\'in Nazi iÅŸgalinden kurtuluÅŸu.' },
               { name: 'MusÃ©e de la Grande Guerre', category: 'MÃ¼ze', desc: 'BÃ¼yÃ¼k SavaÅŸ mÃ¼zesi. Birinci DÃ¼nya SavaÅŸÄ± tarihi.' },
               { name: 'MusÃ©e de l\'Air et de l\'Espace', category: 'MÃ¼ze', desc: 'HavacÄ±lÄ±k mÃ¼zesi. UÃ§aklar ve uzay araÃ§larÄ± sergilenir.' },
               { name: 'MusÃ©e de l\'ArmÃ©e', category: 'MÃ¼ze', desc: 'Askeri mÃ¼ze. Napolyon\'un mezarÄ± ve askeri tarih sergileri.' },
               { name: 'MusÃ©e de la Marine', category: 'MÃ¼ze', desc: 'Denizcilik mÃ¼zesi. Gemi modelleri ve denizcilik tarihi sergileri.' },
               { name: 'MusÃ©e de l\'Homme', category: 'MÃ¼ze', desc: 'Ä°nsanlÄ±k mÃ¼zesi. Antropoloji ve etnoloji sergileri.' },
               { name: 'MusÃ©e du Quai Branly', category: 'MÃ¼ze', desc: 'Etnoloji mÃ¼zesi. Afrika, Asya ve Okyanusya sanatlarÄ± sergilenir.' },
               { name: 'MusÃ©e Guimet', category: 'MÃ¼ze', desc: 'Asya sanatlarÄ± mÃ¼zesi. Ã‡in, Japonya ve Hindistan sanatlarÄ± sergilenir.' },
               { name: 'MusÃ©e Cernuschi', category: 'MÃ¼ze', desc: 'Asya sanatlarÄ± mÃ¼zesi. Ã‡in sanatÄ±nÄ±n Ã¶zel koleksiyonu.' },
               { name: 'MusÃ©e d\'Art Moderne de Paris', category: 'MÃ¼ze', desc: 'Modern sanat mÃ¼zesi. 20. yÃ¼zyÄ±l sanatÄ±nÄ±n Ã¶nemli eserleri.' },
               { name: 'MusÃ©e d\'Art et d\'Histoire du JudaÃ¯sme', category: 'MÃ¼ze', desc: 'Yahudi tarihi ve kÃ¼ltÃ¼rÃ¼ mÃ¼zesi. Dini eserler ve tarihi belgeler.' },
               { name: 'MusÃ©e de la Chasse et de la Nature', category: 'MÃ¼ze', desc: 'AvcÄ±lÄ±k ve doÄŸa mÃ¼zesi. Hayvan doldurmalarÄ± ve sanat eserleri.' },
               { name: 'MusÃ©e de la PoupÃ©e', category: 'MÃ¼ze', desc: 'Bebek mÃ¼zesi. Antika bebekler ve oyuncaklar sergilenir.' },
               { name: 'MusÃ©e de la Magie', category: 'MÃ¼ze', desc: 'Sihir mÃ¼zesi. SihirbazlÄ±k tarihi ve aletleri sergilenir.' },
               { name: 'MusÃ©e des Ã‰gouts de Paris', category: 'MÃ¼ze', desc: 'Kanalizasyon mÃ¼zesi. Paris\'in yeraltÄ± dÃ¼nyasÄ±nÄ± keÅŸfedin.' },
               { name: 'MusÃ©e des Plans-Reliefs', category: 'MÃ¼ze', desc: 'Harita mÃ¼zesi. Tarihi ÅŸehir planlarÄ± ve 3D modeller.' },
               { name: 'MusÃ©e de la Poste', category: 'MÃ¼ze', desc: 'Posta mÃ¼zesi. Posta tarihi ve pul koleksiyonlarÄ±.' },
               { name: 'MusÃ©e de la Monnaie de Paris', category: 'MÃ¼ze', desc: 'Para mÃ¼zesi. Para basma tarihi ve madeni para koleksiyonlarÄ±.' },
               { name: 'MusÃ©e de la PrÃ©fecture de Police', category: 'MÃ¼ze', desc: 'Polis mÃ¼zesi. Paris polisinin tarihi ve suÃ§ tarihi.' },
               { name: 'MusÃ©e de la RÃ©sistance', category: 'MÃ¼ze', desc: 'DireniÅŸ mÃ¼zesi. Ä°kinci DÃ¼nya SavaÅŸÄ± direniÅŸ hareketi.' },
               { name: 'MusÃ©e de la LibÃ©ration', category: 'MÃ¼ze', desc: 'KurtuluÅŸ mÃ¼zesi. Paris\'in Nazi iÅŸgalinden kurtuluÅŸu.' },
               { name: 'MusÃ©e de la Grande Guerre', category: 'MÃ¼ze', desc: 'BÃ¼yÃ¼k SavaÅŸ mÃ¼zesi. Birinci DÃ¼nya SavaÅŸÄ± tarihi.' },
               { name: 'MusÃ©e de l\'Air et de l\'Espace', category: 'MÃ¼ze', desc: 'HavacÄ±lÄ±k mÃ¼zesi. UÃ§aklar ve uzay araÃ§larÄ± sergilenir.' }
             ],
             'london': [
               { name: 'Big Ben', category: 'Saat Kulesi', desc: 'Londra\'nÄ±n simgesi olan Ã¼nlÃ¼ saat kulesi. Westminster SarayÄ±\'nÄ±n bir parÃ§asÄ± olan bu gotik yapÄ±, Thames Nehri kÄ±yÄ±sÄ±nda yer alÄ±r.' },
               { name: 'Buckingham SarayÄ±', category: 'Saray', desc: 'Ä°ngiliz kraliyet ailesinin resmi ikametgahÄ±. NÃ¶bet deÄŸiÅŸimi tÃ¶reni ve gÃ¶rkemli mimarisiyle ziyaretÃ§ilerin ilgisini Ã§eker.' },
               { name: 'Tower Bridge', category: 'KÃ¶prÃ¼', desc: 'Londra\'nÄ±n en Ã¼nlÃ¼ kÃ¶prÃ¼sÃ¼. Viktoryen dÃ¶neminin mÃ¼hendislik harikasÄ± olan bu aÃ§Ä±lÄ±r kÃ¶prÃ¼, Thames Nehri Ã¼zerinde yer alÄ±r.' },
               { name: 'British Museum', category: 'MÃ¼ze', desc: 'DÃ¼nyanÄ±n en eski ve en kapsamlÄ± mÃ¼zelerinden biri. Rosetta TaÅŸÄ±, MÄ±sÄ±r mumyalarÄ± ve antik Yunan heykelleri gibi paha biÃ§ilmez eserler barÄ±ndÄ±rÄ±r.' },
               { name: 'London Eye', category: 'DÃ¶nme Dolap', desc: '135 metre yÃ¼ksekliÄŸindeki dev dÃ¶nme dolap. Thames Nehri kÄ±yÄ±sÄ±nda yer alan bu modern yapÄ±, Londra\'nÄ±n 360 derece panoramik manzarasÄ±nÄ± sunar.' },
               { name: 'Hyde Park', category: 'Park', desc: 'Londra\'nÄ±n en bÃ¼yÃ¼k parklarÄ±ndan biri. Serpentine GÃ¶lÃ¼, Speaker\'s Corner ve Diana AnÄ±sÄ± ile Ã¼nlÃ¼ olan park, ÅŸehrin yeÅŸil ciÄŸeri.' },
               { name: 'Westminster Abbey', category: 'Dini YapÄ±', desc: 'Ä°ngiliz krallarÄ±nÄ±n taÃ§ giyme tÃ¶renleri ve dÃ¼ÄŸÃ¼nlerinin yapÄ±ldÄ±ÄŸÄ± tarihi manastÄ±r. Gotik mimarinin muhteÅŸem Ã¶rneÄŸi.' },
               { name: 'Tate Modern', category: 'MÃ¼ze', desc: 'Modern sanatÄ±n en Ã¶nemli eserlerini barÄ±ndÄ±ran mÃ¼ze. Eski bir elektrik santralinde kurulmuÅŸ olan mÃ¼ze, Thames Nehri kÄ±yÄ±sÄ±nda yer alÄ±r.' }
             ],
             'rome': [
               { name: 'Kolezyum', category: 'Antik YapÄ±', desc: 'Roma Ä°mparatorluÄŸu\'nun en bÃ¼yÃ¼k amfitiyatrosu. GladyatÃ¶r dÃ¶vÃ¼ÅŸlerinin yapÄ±ldÄ±ÄŸÄ± bu tarihi yapÄ±, antik dÃ¼nyanÄ±n mÃ¼hendislik harikasÄ±.' },
               { name: 'Vatikan MÃ¼zeleri', category: 'MÃ¼ze', desc: 'DÃ¼nyanÄ±n en zengin sanat koleksiyonlarÄ±ndan birine sahip mÃ¼ze kompleksi. Sistine Åapeli ve Michelangelo\'nun freskleri burada yer alÄ±r.' },
               { name: 'Trevi Ã‡eÅŸmesi', category: 'Ã‡eÅŸme', desc: 'Roma\'nÄ±n en Ã¼nlÃ¼ Ã§eÅŸmesi. Barok tarzÄ±nda inÅŸa edilen bu muhteÅŸem Ã§eÅŸmeye bozuk para atmak ÅŸans getirdiÄŸine inanÄ±lÄ±r.' },
               { name: 'Pantheon', category: 'Antik YapÄ±', desc: 'Roma\'nÄ±n en iyi korunmuÅŸ antik yapÄ±sÄ±. M.S. 126 yÄ±lÄ±nda inÅŸa edilen bu tapÄ±nak, kubbeli mimarinin en erken Ã¶rneklerinden biri.' },
               { name: 'Forum Romanum', category: 'Antik Alan', desc: 'Antik Roma\'nÄ±n siyasi, ticari ve sosyal merkezi. TapÄ±naklar, bazilika ve kemerlerin kalÄ±ntÄ±larÄ± Roma Ä°mparatorluÄŸu\'nun ihtiÅŸamÄ±nÄ± gÃ¶zler Ã¶nÃ¼ne serer.' },
               { name: 'Ä°spanyol Merdivenleri', category: 'Meydan', desc: '135 basamaklÄ± Ã¼nlÃ¼ merdivenler. TrinitÃ  dei Monti kilisesine Ã§Ä±kan bu merdivenler, Roma\'nÄ±n en popÃ¼ler buluÅŸma noktalarÄ±ndan biri.' },
               { name: 'Castel Sant\'Angelo', category: 'Kale', desc: 'Tiber Nehri kÄ±yÄ±sÄ±nda yer alan silindirik kale. BaÅŸlangÄ±Ã§ta Hadrian\'Ä±n mezarÄ± olarak inÅŸa edilen yapÄ±, daha sonra papa kalesi olarak kullanÄ±ldÄ±.' },
               { name: 'Villa Borghese', category: 'Park', desc: 'Roma\'nÄ±n en bÃ¼yÃ¼k parkÄ±. Ä°Ã§inde Borghese Galerisi, hayvanat bahÃ§esi ve gÃ¶l bulunan bu park, ÅŸehrin yeÅŸil oazÄ±.' }
             ],
             'tokyo': [
               { name: 'Tokyo Skytree', category: 'Kule', desc: '634 metre yÃ¼ksekliÄŸindeki televizyon kulesi. Tokyo\'nun modern simgesi olan bu yapÄ±, ÅŸehrin panoramik manzarasÄ±nÄ± sunar.' },
               { name: 'Senso-ji TapÄ±naÄŸÄ±', category: 'TapÄ±nak', desc: 'Tokyo\'nun en eski Budist tapÄ±naÄŸÄ±. Asakusa bÃ¶lgesinde yer alan bu tapÄ±nak, geleneksel Japon mimarisinin gÃ¼zel bir Ã¶rneÄŸi.' },
               { name: 'Shibuya GeÃ§idi', category: 'KavÅŸak', desc: 'DÃ¼nyanÄ±n en kalabalÄ±k yaya geÃ§idi. Her gÃ¼n milyonlarca insanÄ±n geÃ§tiÄŸi bu kavÅŸak, modern Tokyo\'nun sembolÃ¼.' },
               { name: 'Meiji TapÄ±naÄŸÄ±', category: 'TapÄ±nak', desc: 'Ä°mparator Meiji ve Ä°mparatoriÃ§e Shoken\'in anÄ±sÄ±na inÅŸa edilen Shinto tapÄ±naÄŸÄ±. Åehrin ortasÄ±nda yer alan huzurlu bir oaz.' },
               { name: 'Tsukiji BalÄ±k PazarÄ±', category: 'Pazar', desc: 'DÃ¼nyanÄ±n en bÃ¼yÃ¼k balÄ±k pazarÄ±. Taze sushi ve sashimi iÃ§in en iyi adres olan bu pazar, Japon mutfak kÃ¼ltÃ¼rÃ¼nÃ¼n kalbi.' },
               { name: 'Ä°mparatorluk SarayÄ±', category: 'Saray', desc: 'Japon Ä°mparatoru\'nun ikametgahÄ±. Geleneksel Japon bahÃ§eleri ve tarihi yapÄ±larÄ±yla Ã§evrili olan saray, Tokyo\'nun merkezinde yer alÄ±r.' },
               { name: 'Harajuku', category: 'Mahalle', desc: 'GenÃ§lik kÃ¼ltÃ¼rÃ¼ ve modanÄ±n merkezi. Renkli kostÃ¼mler, manga kÃ¼ltÃ¼rÃ¼ ve alternatif moda trendlerinin buluÅŸma noktasÄ±.' },
               { name: 'Ueno ParkÄ±', category: 'Park', desc: 'Tokyo\'nun kÃ¼ltÃ¼r merkezi. Ä°Ã§inde mÃ¼zeler, hayvanat bahÃ§esi ve bahar aylarÄ±nda kiraz Ã§iÃ§ekleri bulunan bu park, ÅŸehrin kÃ¼ltÃ¼rel kalbi.' }
             ],
             'istanbul': [
               { name: 'Ayasofya', category: 'Tarihi YapÄ±', desc: 'Bizans ve OsmanlÄ± mimarisinin muhteÅŸem sentezi. 1500 yÄ±llÄ±k bu yapÄ±, Ä°stanbul\'un en Ã¶nemli simgelerinden biri.' },
               { name: 'Sultanahmet Camii', category: 'Cami', desc: 'AltÄ± minaresi ile Ã¼nlÃ¼ Mavi Cami. Ä°Ã§indeki mavi Ã§iniler ve gÃ¶rkemli mimarisi ile OsmanlÄ± sanatÄ±nÄ±n en gÃ¼zel Ã¶rneÄŸi.' },
               { name: 'TopkapÄ± SarayÄ±', category: 'Saray', desc: 'OsmanlÄ± padiÅŸahlarÄ±nÄ±n 400 yÄ±l boyunca yaÅŸadÄ±ÄŸÄ± saray. Hazine dairesi, harem ve muhteÅŸem BoÄŸaz manzarasÄ± ile Ã¼nlÃ¼.' },
               { name: 'KapalÄ±Ã§arÅŸÄ±', category: 'Ã‡arÅŸÄ±', desc: 'DÃ¼nyanÄ±n en eski kapalÄ± Ã§arÅŸÄ±larÄ±ndan biri. 4000 dÃ¼kkanÄ± ile halÄ±, mÃ¼cevher, baharat ve hediyelik eÅŸya alÄ±ÅŸveriÅŸinin merkezi.' },
               { name: 'Galata Kulesi', category: 'Kule', desc: 'Cenevizliler tarafÄ±ndan inÅŸa edilen tarihi kule. Ä°stanbul\'un 360 derece panoramik manzarasÄ±nÄ± sunan en gÃ¼zel seyir noktasÄ±.' },
               { name: 'BoÄŸaziÃ§i', category: 'DoÄŸal GÃ¼zellik', desc: 'Avrupa ve Asya\'yÄ± birleÅŸtiren boÄŸaz. Tekne turlarÄ±, sahil yÃ¼rÃ¼yÃ¼ÅŸleri ve kÃ¶prÃ¼ manzaralarÄ± ile Ä°stanbul\'un en gÃ¼zel yanÄ±.' },
               { name: 'Basilika SarnÄ±cÄ±', category: 'Tarihi YapÄ±', desc: 'Bizans dÃ¶neminden kalma yeraltÄ± sarnÄ±cÄ±. 336 sÃ¼tunlu bu gizemli yapÄ±, Ä°stanbul\'un yeraltÄ± hazinelerinden biri.' },
               { name: 'DolmabahÃ§e SarayÄ±', category: 'Saray', desc: 'OsmanlÄ±\'nÄ±n son dÃ¶nem sarayÄ±. Barok ve neoklasik mimarinin harmanlandÄ±ÄŸÄ± bu gÃ¶rkemli saray, BoÄŸaz kÄ±yÄ±sÄ±nda yer alÄ±r.' },
               { name: 'Sultanahmet MeydanÄ±', category: 'Meydan', desc: 'Ä°stanbul\'un kalbi. Ayasofya, Sultanahmet Camii ve Hipodrom kalÄ±ntÄ±larÄ± ile Ã§evrili tarihi meydan.' },
               { name: 'Yerebatan SarnÄ±cÄ±', category: 'Tarihi YapÄ±', desc: 'Bizans dÃ¶neminden kalma yeraltÄ± sarnÄ±cÄ±. 336 sÃ¼tunlu bu gizemli yapÄ±, Ä°stanbul\'un yeraltÄ± hazinelerinden biri.' },
               { name: 'OrtakÃ¶y Camii', category: 'Cami', desc: 'BoÄŸaz kÄ±yÄ±sÄ±nda yer alan zarif cami. BoÄŸaziÃ§i KÃ¶prÃ¼sÃ¼ manzarasÄ± ile Ã¼nlÃ¼.' },
               { name: 'SÃ¼leymaniye Camii', category: 'Cami', desc: 'Mimar Sinan\'Ä±n baÅŸyapÄ±tÄ±. Ä°stanbul\'un en bÃ¼yÃ¼k camilerinden biri.' },
               { name: 'Rumeli HisarÄ±', category: 'Kale', desc: 'Fatih Sultan Mehmet tarafÄ±ndan inÅŸa edilen tarihi kale. BoÄŸaz\'Ä±n en gÃ¼zel noktalarÄ±ndan biri.' },
               { name: 'Anadolu HisarÄ±', category: 'Kale', desc: 'OsmanlÄ±\'nÄ±n Ä°stanbul\'u fethetmeden Ã¶nce inÅŸa ettiÄŸi kale. BoÄŸaz manzarasÄ± ile Ã¼nlÃ¼.' },
               { name: 'Beylerbeyi SarayÄ±', category: 'Saray', desc: 'BoÄŸaz kÄ±yÄ±sÄ±nda yer alan gÃ¶rkemli saray. OsmanlÄ± mimarisinin en gÃ¼zel Ã¶rneklerinden biri.' },
               { name: 'Ã‡Ä±raÄŸan SarayÄ±', category: 'Saray', desc: 'BoÄŸaz kÄ±yÄ±sÄ±nda yer alan lÃ¼ks otel. Tarihi saray yapÄ±sÄ± ve modern konforu birleÅŸtirir.' },
               { name: 'KÄ±z Kulesi', category: 'Kule', desc: 'BoÄŸaz\'Ä±n ortasÄ±nda yer alan efsanevi kule. Romantik atmosferi ile Ã¼nlÃ¼.' },
               { name: 'Taksim MeydanÄ±', category: 'Meydan', desc: 'Ä°stanbul\'un modern kalbi. Ä°stiklal Caddesi\'nin baÅŸlangÄ±Ã§ noktasÄ±.' },
               { name: 'Ä°stiklal Caddesi', category: 'Cadde', desc: 'Ä°stanbul\'un en Ã¼nlÃ¼ alÄ±ÅŸveriÅŸ ve eÄŸlence caddesi. Nostaljik tramvayÄ± ile Ã¼nlÃ¼.' },
               { name: 'Pera MÃ¼zesi', category: 'MÃ¼ze', desc: 'BeyoÄŸlu\'nda yer alan modern sanat mÃ¼zesi. KÃ¼ltÃ¼r ve sanat etkinliklerinin merkezi.' },
               { name: 'SakÄ±p SabancÄ± MÃ¼zesi', category: 'MÃ¼ze', desc: 'BoÄŸaz kÄ±yÄ±sÄ±nda yer alan Ã¶zel mÃ¼ze. OsmanlÄ± ve Ã§aÄŸdaÅŸ sanat koleksiyonlarÄ±.' },
               { name: 'Ä°stanbul Modern', category: 'MÃ¼ze', desc: 'Modern sanat mÃ¼zesi. Ã‡aÄŸdaÅŸ TÃ¼rk sanatÄ±nÄ±n en Ã¶nemli eserlerini sergiler.' },
               { name: 'Rahmi KoÃ§ MÃ¼zesi', category: 'MÃ¼ze', desc: 'EndÃ¼stri ve teknoloji mÃ¼zesi. Tarihi araÃ§lar ve makineler sergilenir.' },
               { name: 'MiniatÃ¼rk', category: 'MÃ¼ze', desc: 'TÃ¼rkiye\'nin minyatÃ¼r parkÄ±. Ãœlkenin Ã¶nemli yapÄ±larÄ±nÄ±n kÃ¼Ã§Ã¼k kopyalarÄ±.' },
               { name: 'Belgrad OrmanÄ±', category: 'Park', desc: 'Ä°stanbul\'un en bÃ¼yÃ¼k yeÅŸil alanÄ±. YÃ¼rÃ¼yÃ¼ÅŸ ve piknik iÃ§in ideal.' },
               { name: 'GÃ¼lhane ParkÄ±', category: 'Park', desc: 'TopkapÄ± SarayÄ±\'nÄ±n bahÃ§esi. Tarihi atmosferi ve gÃ¼zel manzarasÄ± ile Ã¼nlÃ¼.' },
               { name: 'Emirgan Korusu', category: 'Park', desc: 'BoÄŸaz kÄ±yÄ±sÄ±nda yer alan koru. Lale bahÃ§eleri ve piknik alanlarÄ± ile Ã¼nlÃ¼.' },
               { name: 'Bebek Sahili', category: 'Sahil', desc: 'BoÄŸaz\'Ä±n en gÃ¼zel sahil ÅŸeridi. Kafeler ve restoranlar ile Ã¼nlÃ¼.' },
               { name: 'ArnavutkÃ¶y', category: 'Mahalle', desc: 'BoÄŸaz kÄ±yÄ±sÄ±nda yer alan tarihi mahalle. BalÄ±k restoranlarÄ± ile Ã¼nlÃ¼.' },
               { name: 'KarakÃ¶y', category: 'Mahalle', desc: 'Tarihi liman mahallesi. Galata KÃ¶prÃ¼sÃ¼ ve balÄ±kÃ§Ä± tekneleri ile Ã¼nlÃ¼.' },
               { name: 'Balat', category: 'Mahalle', desc: 'Tarihi mahalle. Renkli evleri ve otantik atmosferi ile Ã¼nlÃ¼.' },
               { name: 'Fener', category: 'Mahalle', desc: 'Rum Ortodoks Patrikhanesi\'nin bulunduÄŸu tarihi mahalle.' },
               { name: 'KadÄ±kÃ¶y', category: 'Mahalle', desc: 'Anadolu yakasÄ±nÄ±n merkezi. Moda sahili ve canlÄ± atmosferi ile Ã¼nlÃ¼.' },
               { name: 'ÃœskÃ¼dar', category: 'Mahalle', desc: 'Anadolu yakasÄ±nÄ±n tarihi merkezi. Mimar Sinan\'Ä±n eserleri ile Ã¼nlÃ¼.' },
               { name: 'BeÅŸiktaÅŸ', category: 'Mahalle', desc: 'BoÄŸaz kÄ±yÄ±sÄ±nda yer alan mahalle. Barbaros AnÄ±tÄ± ve sahili ile Ã¼nlÃ¼.' },
               { name: 'ÅiÅŸli', category: 'Mahalle', desc: 'Modern Ä°stanbul\'un merkezi. AlÄ±ÅŸveriÅŸ merkezleri ve iÅŸ merkezleri ile Ã¼nlÃ¼.' },
               { name: 'BakÄ±rkÃ¶y', category: 'Mahalle', desc: 'Marmara Denizi kÄ±yÄ±sÄ±nda yer alan mahalle. Sahili ve parklarÄ± ile Ã¼nlÃ¼.' }
             ],
             'ankara': [
               { name: 'AnÄ±tkabir', category: 'AnÄ±t', desc: 'Mustafa Kemal AtatÃ¼rk\'Ã¼n anÄ±t mezarÄ±. TÃ¼rkiye\'nin en Ã¶nemli simgelerinden biri.' },
               { name: 'KÄ±zÄ±lay MeydanÄ±', category: 'Meydan', desc: 'Ankara\'nÄ±n merkezi. AlÄ±ÅŸveriÅŸ ve ulaÅŸÄ±m merkezi.' },
               { name: 'Ulus MeydanÄ±', category: 'Meydan', desc: 'Tarihi Ankara\'nÄ±n merkezi. KurtuluÅŸ SavaÅŸÄ±\'nÄ±n yÃ¶netildiÄŸi yer.' },
               { name: 'Ankara Kalesi', category: 'Kale', desc: 'Roma dÃ¶neminden kalma tarihi kale. Ankara\'nÄ±n en eski yapÄ±sÄ±.' },
               { name: 'HacÄ± Bayram-Ä± Veli Camii', category: 'Cami', desc: 'Ankara\'nÄ±n en Ã¶nemli dini yapÄ±sÄ±. HacÄ± Bayram-Ä± Veli\'nin tÃ¼rbesi.' },
               { name: 'Anadolu Medeniyetleri MÃ¼zesi', category: 'MÃ¼ze', desc: 'DÃ¼nyanÄ±n en Ã¶nemli arkeoloji mÃ¼zelerinden biri.' },
               { name: 'Etnografya MÃ¼zesi', category: 'MÃ¼ze', desc: 'TÃ¼rk kÃ¼ltÃ¼rÃ¼ ve etnografyasÄ± mÃ¼zesi.' },
               { name: 'Atakule', category: 'Kule', desc: 'Ankara\'nÄ±n simgesi olan televizyon kulesi.' },
               { name: 'GenÃ§lik ParkÄ±', category: 'Park', desc: 'Ankara\'nÄ±n en bÃ¼yÃ¼k parkÄ±. Lunapark ve gÃ¶lÃ¼ ile Ã¼nlÃ¼.' },
               { name: 'KuÄŸulu Park', category: 'Park', desc: 'KuÄŸularÄ± ile Ã¼nlÃ¼ park. Ankara\'nÄ±n en gÃ¼zel parklarÄ±ndan biri.' }
             ],
             'izmir': [
               { name: 'KemeraltÄ± Ã‡arÅŸÄ±sÄ±', category: 'Ã‡arÅŸÄ±', desc: 'Ä°zmir\'in tarihi Ã§arÅŸÄ±sÄ±. Geleneksel alÄ±ÅŸveriÅŸ merkezi.' },
               { name: 'Konak MeydanÄ±', category: 'Meydan', desc: 'Ä°zmir\'in kalbi. Saat Kulesi ile Ã¼nlÃ¼.' },
               { name: 'Saat Kulesi', category: 'AnÄ±t', desc: 'Ä°zmir\'in simgesi olan tarihi saat kulesi.' },
               { name: 'Kadifekale', category: 'Kale', desc: 'Ä°zmir\'in yÃ¼ksek tepesinde yer alan tarihi kale.' },
               { name: 'Alsancak', category: 'Mahalle', desc: 'Ä°zmir\'in modern mahallesi. Kordon boyu ile Ã¼nlÃ¼.' },
               { name: 'Kordon', category: 'Sahil', desc: 'Ä°zmir\'in en gÃ¼zel sahil ÅŸeridi. YÃ¼rÃ¼yÃ¼ÅŸ ve dinlenme yeri.' },
               { name: 'Bornova', category: 'Mahalle', desc: 'Ege Ãœniversitesi\'nin bulunduÄŸu mahalle.' },
               { name: 'Ã‡eÅŸme', category: 'Sahil', desc: 'Ä°zmir\'in en gÃ¼zel plajlarÄ±ndan biri.' },
               { name: 'AlaÃ§atÄ±', category: 'Mahalle', desc: 'RÃ¼zgar sÃ¶rfÃ¼ ile Ã¼nlÃ¼ sahil kasabasÄ±.' },
               { name: 'FoÃ§a', category: 'Sahil', desc: 'Antik Ä°yon kenti. GÃ¼zel plajlarÄ± ile Ã¼nlÃ¼.' }
             ],
             'antalya': [
               { name: 'KaleiÃ§i', category: 'Tarihi Mahalle', desc: 'Antalya\'nÄ±n tarihi merkezi. Dar sokaklarÄ± ve tarihi evleri ile Ã¼nlÃ¼.' },
               { name: 'Yivli Minare', category: 'Cami', desc: 'Antalya\'nÄ±n simgesi olan tarihi minare.' },
               { name: 'Hadrian KapÄ±sÄ±', category: 'Tarihi YapÄ±', desc: 'Roma dÃ¶neminden kalma zafer takÄ±.' },
               { name: 'KonyaaltÄ± PlajÄ±', category: 'Plaj', desc: 'Antalya\'nÄ±n en gÃ¼zel plajlarÄ±ndan biri.' },
               { name: 'Lara PlajÄ±', category: 'Plaj', desc: 'Uzun kumsalÄ± ile Ã¼nlÃ¼ plaj.' },
               { name: 'DÃ¼den Åelalesi', category: 'DoÄŸal GÃ¼zellik', desc: 'Antalya\'nÄ±n en gÃ¼zel ÅŸelalelerinden biri.' },
               { name: 'KurÅŸunlu Åelalesi', category: 'DoÄŸal GÃ¼zellik', desc: 'DoÄŸal gÃ¼zelliÄŸi ile Ã¼nlÃ¼ ÅŸelale.' },
               { name: 'Aspendos Tiyatrosu', category: 'Antik Tiyatro', desc: 'Roma dÃ¶neminden kalma antik tiyatro.' },
               { name: 'Perge Antik Kenti', category: 'Antik Kent', desc: 'Antik dÃ¶nemden kalma Ã¶nemli kent.' },
               { name: 'Side Antik Kenti', category: 'Antik Kent', desc: 'Antik dÃ¶nemden kalma liman kenti.' }
             ],
             'kapadokya': [
               { name: 'GÃ¶reme AÃ§Ä±k Hava MÃ¼zesi', category: 'MÃ¼ze', desc: 'UNESCO DÃ¼nya MirasÄ±. Kaya kiliseleri ve freskleri ile Ã¼nlÃ¼.' },
               { name: 'PeribacalarÄ±', category: 'DoÄŸal GÃ¼zellik', desc: 'Kapadokya\'nÄ±n simgesi olan doÄŸal kaya oluÅŸumlarÄ±.' },
               { name: 'UÃ§hisar Kalesi', category: 'Kale', desc: 'Kapadokya\'nÄ±n en yÃ¼ksek noktasÄ±. Panoramik manzara.' },
               { name: 'Ortahisar Kalesi', category: 'Kale', desc: 'Tarihi kale. Kapadokya manzarasÄ±.' },
               { name: 'ÃœrgÃ¼p', category: 'Mahalle', desc: 'Kapadokya\'nÄ±n merkezi. Turistik kasaba.' },
               { name: 'Avanos', category: 'Mahalle', desc: 'Ã‡Ã¶mlekÃ§ilik ile Ã¼nlÃ¼ kasaba.' },
               { name: 'Zelve Vadisi', category: 'DoÄŸal GÃ¼zellik', desc: 'Tarihi kaya yerleÅŸimleri.' },
               { name: 'Ihlara Vadisi', category: 'DoÄŸal GÃ¼zellik', desc: 'YÃ¼rÃ¼yÃ¼ÅŸ rotasÄ± ve kaya kiliseleri.' },
               { name: 'Derinkuyu YeraltÄ± Åehri', category: 'Tarihi YapÄ±', desc: 'Antik dÃ¶nemden kalma yeraltÄ± yerleÅŸimi.' },
               { name: 'KaymaklÄ± YeraltÄ± Åehri', category: 'Tarihi YapÄ±', desc: 'GeniÅŸ yeraltÄ± ÅŸehri.' }
             ],
             'beijing': [
               { name: 'Yasak Åehir', category: 'Saray', desc: 'Ming ve Qing hanedanlarÄ±nÄ±n 500 yÄ±l boyunca yaÅŸadÄ±ÄŸÄ± gÃ¶rkemli saray kompleksi. 9999 odasÄ± ile dÃ¼nyanÄ±n en bÃ¼yÃ¼k saray kompleksi.' },
               { name: 'Ã‡in Seddi', category: 'Tarihi YapÄ±', desc: 'DÃ¼nyanÄ±n en uzun yapÄ±sÄ± olan Ã‡in Seddi\'nin Beijing yakÄ±nlarÄ±ndaki bÃ¶lÃ¼mÃ¼. 2000 yÄ±llÄ±k bu muhteÅŸem savunma yapÄ±sÄ±, uzaydan gÃ¶rÃ¼lebilen tek yapÄ±.' },
               { name: 'Tiananmen MeydanÄ±', category: 'Meydan', desc: 'DÃ¼nyanÄ±n en bÃ¼yÃ¼k ÅŸehir meydanÄ±. Ã‡in\'in siyasi merkezi olan bu meydan, Ã¶nemli devlet tÃ¶renlerinin yapÄ±ldÄ±ÄŸÄ± yer.' },
               { name: 'Cennet TapÄ±naÄŸÄ±', category: 'TapÄ±nak', desc: 'Ming ve Qing imparatorlarÄ±nÄ±n cennet iÃ§in dua ettiÄŸi dairesel tapÄ±nak. Geleneksel Ã‡in mimarisinin en gÃ¼zel Ã¶rneÄŸi.' },
               { name: 'Yaz SarayÄ±', category: 'Saray', desc: 'Ä°mparatorluk ailesinin yaz ikametgahÄ±. Kunming GÃ¶lÃ¼ ve muhteÅŸem bahÃ§eleriyle Ã‡in bahÃ§e sanatÄ±nÄ±n en gÃ¼zel Ã¶rneÄŸi.' },
               { name: 'Lama TapÄ±naÄŸÄ±', category: 'TapÄ±nak', desc: 'Beijing\'in en Ã¶nemli Budist tapÄ±naÄŸÄ±. Tibet Budizmi\'nin merkezi olan bu tapÄ±nak, renkli mimarisi ve huzurlu atmosferiyle Ã¼nlÃ¼.' },
               { name: 'Hutong SokaklarÄ±', category: 'Tarihi Mahalle', desc: 'Geleneksel Beijing yaÅŸamÄ±nÄ±n sÃ¼rdÃ¼ÄŸÃ¼ dar sokaklar. Siheyuan evleri ve yerel yaÅŸam kÃ¼ltÃ¼rÃ¼nÃ¼ deneyimleyebileceÄŸiniz otantik bÃ¶lge.' },
               { name: 'Beihai ParkÄ±', category: 'Park', desc: 'Beijing\'in en eski imperial parkÄ±. Beyaz Pagoda ve gÃ¶l manzarasÄ± ile ÅŸehrin en huzurlu kÃ¶ÅŸelerinden biri.' }
             ],
             'shanghai': [
               { name: 'Bund', category: 'Sahil', desc: 'Shanghai\'Ä±n simgesi olan sahil ÅŸeridi. Art Deco binalarÄ± ve modern gÃ¶kdelenler arasÄ±ndaki kontrast, ÅŸehrin geÃ§miÅŸi ve geleceÄŸini yansÄ±tÄ±r.' },
               { name: 'Oriental Pearl Tower', category: 'Kule', desc: '468 metre yÃ¼ksekliÄŸindeki futuristik televizyon kulesi. Shanghai\'Ä±n modern simgesi olan bu kule, ÅŸehrin panoramik manzarasÄ±nÄ± sunar.' },
               { name: 'Yu Garden', category: 'BahÃ§e', desc: 'Ming hanedanÄ± dÃ¶neminden kalma geleneksel Ã‡in bahÃ§esi. Pavyonlar, gÃ¶letler ve kayalar ile Ã‡in bahÃ§e sanatÄ±nÄ±n mÃ¼kemmel Ã¶rneÄŸi.' },
               { name: 'Nanjing Road', category: 'AlÄ±ÅŸveriÅŸ Caddesi', desc: 'Ã‡in\'in en Ã¼nlÃ¼ alÄ±ÅŸveriÅŸ caddesi. Neon Ä±ÅŸÄ±klarÄ±, maÄŸazalar ve restoranlarla dolu olan bu cadde, Shanghai\'Ä±n ticari kalbi.' },
               { name: 'Shanghai Tower', category: 'GÃ¶kdelen', desc: '632 metre yÃ¼ksekliÄŸinde Ã‡in\'in en yÃ¼ksek binasÄ±. Spiral tasarÄ±mÄ± ve sÃ¼rdÃ¼rÃ¼lebilir mimarisiyle modern mÃ¼hendisliÄŸin harikasÄ±.' },
               { name: 'Tianzifang', category: 'Sanat Mahallesi', desc: 'Geleneksel shikumen evlerinin sanat galerilerine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼ldÃ¼ÄŸÃ¼ bohemyen mahalle. Kafeler, butik maÄŸazalar ve sanat atÃ¶lyeleri.' },
               { name: 'Huangpu Nehri', category: 'Nehir', desc: 'Shanghai\'Ä± ikiye bÃ¶len nehir. Gece tekne turlarÄ± ile ÅŸehrin Ä±ÅŸÄ±klÄ± siluetini izlemek unutulmaz bir deneyim.' },
               { name: 'Jing\'an Temple', category: 'TapÄ±nak', desc: 'Shanghai\'Ä±n merkezindeki altÄ±n renkli Budist tapÄ±nak. Modern gÃ¶kdelenler arasÄ±nda yer alan bu tapÄ±nak, geÃ§miÅŸ ve gelecek arasÄ±nda kÃ¶prÃ¼ kurar.' }
             ]
           };
           
           // Ã–zel ÅŸehir verisi varsa onu kullan
           const cityKey = cityName.toLowerCase();
           if (specialCities[cityKey]) {
             return specialCities[cityKey].map(place => ({
               name: place.name,
               city: cityName || 'Unknown City',
               country: selectedCountry || 'GERMANY',
               category: place.category,
               description: place.desc,
               visited: false,
               createdAt: new Date()
             }));
           }
           
           const commonAttractions = [
             { 
               suffix: 'Merkez', 
               category: 'Åehir Merkezi', 
               desc: `${cityName} ÅŸehrinin kalbi ve ana meydanÄ±. Tarihi binalar, cafeler ve restoranlarla Ã§evrili olan bu bÃ¶lge, ÅŸehrin sosyal ve kÃ¼ltÃ¼rel yaÅŸamÄ±nÄ±n merkezi konumundadÄ±r. YÃ¼rÃ¼yÃ¼ÅŸ yapmak ve yerel atmosferi hissetmek iÃ§in ideal bir yerdir.` 
             },
             { 
               suffix: 'MÃ¼zesi', 
               category: 'MÃ¼ze', 
               desc: `${cityName} ÅŸehrinin yerel tarih ve kÃ¼ltÃ¼r mÃ¼zesi. Åehrin geÃ§miÅŸinden gÃ¼nÃ¼mÃ¼ze kadar uzanan zengin koleksiyonu ile ziyaretÃ§ilere bÃ¶lgenin tarihini, sanatÄ±nÄ± ve kÃ¼ltÃ¼rÃ¼nÃ¼ tanÄ±ma fÄ±rsatÄ± sunar. Interaktif sergiler ve rehberli turlarla unutulmaz bir deneyim yaÅŸayabilirsiniz.` 
             },
             { 
               suffix: 'Katedrali', 
               category: 'Dini YapÄ±', 
               desc: `${cityName} ÅŸehrinin gÃ¶rkemli katedrali. Gotik mimarinin en gÃ¼zel Ã¶rneklerinden biri olan bu yapÄ±, yÃ¼zyÄ±llardÄ±r ÅŸehrin simgesi olmuÅŸtur. Ä°Ã§erisindeki vitray camlar, heykeller ve tarihi eserler gÃ¶rÃ¼lmeye deÄŸerdir. Sessiz bir atmosferde ibadet edebilir veya mimariyi inceleyebilirsiniz.` 
             },
             { 
               suffix: 'Kalesi', 
               category: 'Tarihi YapÄ±', 
               desc: `${cityName} ÅŸehrinin tarihi kalesi ve surlarÄ±. OrtaÃ§aÄŸ dÃ¶neminden kalma bu muhteÅŸem yapÄ±, ÅŸehrin savunma tarihini gÃ¶zler Ã¶nÃ¼ne serer. Kale duvarlarÄ±ndan ÅŸehrin panoramik manzarasÄ±nÄ± izleyebilir, tarihi odalarÄ± gezebilir ve geÃ§miÅŸe yolculuk yapabilirsiniz.` 
             },
             { 
               suffix: 'ParkÄ±', 
               category: 'Park', 
               desc: `${cityName} ÅŸehrinin en bÃ¼yÃ¼k ve en gÃ¼zel parkÄ±. GeniÅŸ yeÅŸil alanlarÄ±, yÃ¼rÃ¼yÃ¼ÅŸ yollarÄ±, gÃ¶letleri ve Ã§ocuk oyun alanlarÄ± ile ailecek vakit geÃ§irmek iÃ§in mÃ¼kemmel bir yerdir. Piknik yapabilir, spor aktivitelerine katÄ±labilir veya doÄŸayla iÃ§ iÃ§e dinlenebilirsiniz.` 
             },
             { 
               suffix: 'Ã‡arÅŸÄ±sÄ±', 
               category: 'AlÄ±ÅŸveriÅŸ', 
               desc: `${cityName} ÅŸehrinin geleneksel Ã§arÅŸÄ±sÄ± ve pazarÄ±. Yerel Ã¼rÃ¼nler, el sanatlarÄ±, taze gÄ±dalar ve hediyelik eÅŸyalar bulabileceÄŸiniz renkli bir alÄ±ÅŸveriÅŸ deneyimi sunar. PazarlÄ±k yapabilir, yerel lezzetleri tadabilir ve ÅŸehrin ticari yaÅŸamÄ±nÄ± yakÄ±ndan gÃ¶zlemleyebilirsiniz.` 
             },
             { 
               suffix: 'KÃ¶prÃ¼sÃ¼', 
               category: 'Mimari', 
               desc: `${cityName} ÅŸehrinin tarihi kÃ¶prÃ¼sÃ¼. Mimari aÃ§Ä±dan bÃ¼yÃ¼leyici olan bu kÃ¶prÃ¼, ÅŸehrin iki yakasÄ±nÄ± birleÅŸtiren Ã¶nemli bir ulaÅŸÄ±m noktasÄ±dÄ±r. KÃ¶prÃ¼ Ã¼zerinden nehir manzarasÄ±nÄ± izleyebilir, fotoÄŸraf Ã§ekebilir ve ÅŸehrin farklÄ± aÃ§Ä±lardan gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ keÅŸfedebilirsiniz.` 
             },
             { 
               suffix: 'MeydanÄ±', 
               category: 'Meydan', 
               desc: `${cityName} ÅŸehrinin ana meydanÄ± ve buluÅŸma noktasÄ±. Ã‡evresindeki tarihi binalar, heykeller ve Ã§eÅŸmelerle ÅŸehrin en canlÄ± bÃ¶lgelerinden biridir. Etkinlikler, festivaller ve konserler dÃ¼zenlenen bu meydan, yerel halkla tanÄ±ÅŸmak ve ÅŸehrin nabzÄ±nÄ± hissetmek iÃ§in ideal bir yerdir.` 
             },
             { 
               suffix: 'SarayÄ±', 
               category: 'Saray', 
               desc: `${cityName} ÅŸehrinin muhteÅŸem sarayÄ±. Kraliyet ailelerinin yaÅŸadÄ±ÄŸÄ± bu gÃ¶rkemli yapÄ±, lÃ¼ks mobilyalarÄ±, deÄŸerli sanat eserleri ve bÃ¼yÃ¼leyici bahÃ§eleriyle ziyaretÃ§ilerini bÃ¼yÃ¼ler. Rehberli turlarla sarayÄ±n tarihini Ã¶ÄŸrenebilir ve aristokrat yaÅŸamÄ±nÄ± keÅŸfedebilirsiniz.` 
             },
             { 
               suffix: 'BahÃ§esi', 
               category: 'BahÃ§e', 
               desc: `${cityName} ÅŸehrinin botanik bahÃ§esi. Binlerce farklÄ± bitki tÃ¼rÃ¼, egzotik Ã§iÃ§ekler ve tematik bÃ¶lÃ¼mlerle doÄŸa severlerin cenneti olan bu bahÃ§e, huzurlu bir atmosfer sunar. Sera bÃ¶lÃ¼mlerini gezebilir, nadir bitkileri inceleyebilir ve doÄŸanÄ±n gÃ¼zelliÄŸinde kaybolabilirsiniz.` 
             }
           ];
           
           return commonAttractions.map(attraction => ({
             name: `${cityName || 'Unknown City'} ${attraction.suffix}`,
             city: cityName || 'Unknown City',
             country: (selectedCountry || 'GERMANY').toUpperCase(),
             category: attraction.category,
             description: attraction.desc,
             visited: false,
             createdAt: new Date()
           }));
         }

         // Google Maps rota oluÅŸturma fonksiyonu
           function createGoogleMapsRoute() {
            const checkboxes = document.querySelectorAll('.route-checkbox:checked');
            if (checkboxes.length < 2) {
              alert('Rota oluÅŸturmak iÃ§in en az 2 yer seÃ§melisiniz!');
              return;
            }
            
            const selectedPlaces = [];
            checkboxes.forEach(checkbox => {
              const name = checkbox.getAttribute('data-name');
              const city = checkbox.getAttribute('data-city');
              const country = checkbox.getAttribute('data-country');
              selectedPlaces.push(`${name}, ${city}, ${country}`);
            });
            
            if (selectedPlaces.length === 0) {
              alert('SeÃ§ili yer bulunamadÄ±!');
              return;
            }
            
            // Google Maps Directions URL oluÅŸtur
            const origin = encodeURIComponent(selectedPlaces[0]);
            const destination = encodeURIComponent(selectedPlaces[selectedPlaces.length - 1]);
            let waypoints = '';
            
            if (selectedPlaces.length > 2) {
              const middlePoints = selectedPlaces.slice(1, -1);
              waypoints = '&waypoints=' + middlePoints.map(place => encodeURIComponent(place)).join('|');
            }
            
            const googleMapsUrl = `https://www.google.com/maps/dir/?api=1&origin=${origin}&destination=${destination}${waypoints}&travelmode=driving`;
            
            // Yeni sekmede aÃ§
            window.open(googleMapsUrl, '_blank');
          }

        // DOM Cache Sistemi - Performans Optimizasyonu
        const domCache = {
          elements: new Map(),
          
          get(id) {
            if (!this.elements.has(id)) {
              let element;
              // Ã–zel durumlar iÃ§in querySelector kullan
              if (id === 'placesTableBody') {
                element = document.querySelector('#placesTable tbody');
              } else {
                element = document.getElementById(id);
              }
              if (element) {
                this.elements.set(id, element);
              }
            }
            return this.elements.get(id) || null;
          },
          
          clear() {
            this.elements.clear();
          },
          
          // Ã‡oklu element seÃ§imi iÃ§in optimize edilmiÅŸ fonksiyon
          queryAll(selector) {
            return document.querySelectorAll(selector);
          }
        };

        // Debounce fonksiyonu - API Ã§aÄŸrÄ±larÄ±nÄ± optimize etmek iÃ§in
        function debounce(func, wait) {
          let timeout;
          return function executedFunction(...args) {
            const later = () => {
              clearTimeout(timeout);
              func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
          };
        }

        // Filtre deÄŸiÅŸince tabloyu gÃ¼ncelle - Optimize edilmiÅŸ versiyon
        document.addEventListener('DOMContentLoaded', () => {
          const countryFilter = domCache.get('countryFilter');
          const visitedFilter = domCache.get('visitedFilter');
          
          if (countryFilter && visitedFilter) {
            // Debounced fonksiyonlar oluÅŸtur
            const debouncedLoadTable = debounce(() => {
              const user = auth.currentUser;
              if (user) loadPlacesTable(user);
            }, 300);
            
            const debouncedUpdateBackground = debounce((value) => {
              if (window.enhancedBackgroundManager) {
                window.enhancedBackgroundManager.updateBackgroundForCountry(value);
              }
            }, 200);
            
            countryFilter.addEventListener('change', () => {
              debouncedLoadTable();
              debouncedUpdateBackground(countryFilter.value);
            });
            
            visitedFilter.addEventListener('change', debouncedLoadTable);
          }
          
                  // Login Ã¶ncesi dil deÄŸiÅŸikliÄŸi event listener
        if (preLoginLanguage) {
          preLoginLanguage.addEventListener('change', () => {
            currentLanguage = preLoginLanguage.value;
            updatePreLoginText();
          });
        }
        
        // Login sonrasÄ± dil deÄŸiÅŸikliÄŸi event listener
        if (languageFilter) {
          languageFilter.addEventListener('change', () => {
            currentLanguage = languageFilter.value;
            const user = auth.currentUser;
            if (user) {
              loadPlacesTable(user);
              updateUIText();
            }
          });
        }
        
        // Login Ã¶ncesi metinleri gÃ¼ncelle
        function updatePreLoginText() {
          const texts = {
            tr: {
              loginButtonText: 'Google ile GiriÅŸ Yap',
              languageLabel: 'Dil / Language:'
            },
            en: {
              loginButtonText: 'Sign in with Google',
              languageLabel: 'Language / Dil:'
            }
          };
          
          const currentTexts = texts[currentLanguage];
          
          if (loginButtonText) {
            loginButtonText.textContent = currentTexts.loginButtonText;
          }
          
          // Dil seÃ§ici label'Ä±nÄ± gÃ¼ncelle
          const languageLabel = document.querySelector('label[for="preLoginLanguage"]');
          if (languageLabel) {
            languageLabel.textContent = currentTexts.languageLabel;
          }
        }
        
        // UI metinlerini gÃ¼ncelle
        function updateUIText() {
          const texts = {
            tr: {
              addPlaceBtn: 'Ekle',
              addLocationBtn: 'Turistik Yerleri Ekle',
              searchBox: 'Yeni yer adÄ±...',
              locationSuggestionBox: 'Åehir veya Ã¼lke adÄ±...',
              createRouteBtn: 'ğŸ—ºï¸ SeÃ§ili Yerler Ä°Ã§in Rota OluÅŸtur',
              visitedFilter: {
                all: 'TÃ¼mÃ¼',
                visited: 'Gezildi',
                notvisited: 'Gezilmedi'
              },
              tableHeaders: {
                name: 'Yer AdÄ±',
                city: 'Åehir',
                category: 'Kategori',
                description: 'AÃ§Ä±klama',
                visited: 'Ziyaret Edildi mi?',
                select: 'Rota Ä°Ã§in SeÃ§',
                maps: 'Google Maps',
                delete: 'Sil'
              }
            },
            en: {
              addPlaceBtn: 'Add',
              addLocationBtn: 'Add Tourist Places',
              searchBox: 'New place name...',
              locationSuggestionBox: 'City or country name...',
              createRouteBtn: 'ğŸ—ºï¸ Create Route for Selected Places',
              visitedFilter: {
                all: 'All',
                visited: 'Visited',
                notvisited: 'Not Visited'
              },
              tableHeaders: {
                name: 'Place Name',
                city: 'City',
                category: 'Category',
                description: 'Description',
                visited: 'Visited?',
                select: 'Select for Route',
                maps: 'Google Maps',
                delete: 'Delete'
              }
            }
          };
          
          const currentTexts = texts[currentLanguage];
          
          // Buton metinlerini gÃ¼ncelle
          if (addPlaceBtn) addPlaceBtn.textContent = currentTexts.addPlaceBtn;
          if (document.getElementById('addLocationBtn')) {
            document.getElementById('addLocationBtn').textContent = currentTexts.addLocationBtn;
          }
          if (document.getElementById('createRouteBtn')) {
            document.getElementById('createRouteBtn').textContent = currentTexts.createRouteBtn;
          }
          
          // Placeholder metinlerini gÃ¼ncelle
          if (searchBox) searchBox.placeholder = currentTexts.searchBox;
          if (document.getElementById('locationSuggestionBox')) {
            document.getElementById('locationSuggestionBox').placeholder = currentTexts.locationSuggestionBox;
          }
          
          // Filtre metinlerini gÃ¼ncelle
          const visitedFilter = document.getElementById('visitedFilter');
          if (visitedFilter) {
            visitedFilter.options[0].text = currentTexts.visitedFilter.all;
            visitedFilter.options[1].text = currentTexts.visitedFilter.visited;
            visitedFilter.options[2].text = currentTexts.visitedFilter.notvisited;
          }
          
          // Tablo baÅŸlÄ±klarÄ±nÄ± gÃ¼ncelle
          const tableHeaders = document.querySelectorAll('#placesTable th');
          if (tableHeaders.length >= 8) {
            tableHeaders[0].textContent = currentTexts.tableHeaders.name;
            tableHeaders[1].textContent = currentTexts.tableHeaders.city;
            tableHeaders[2].textContent = currentTexts.tableHeaders.category;
            tableHeaders[3].textContent = currentTexts.tableHeaders.description;
            tableHeaders[4].textContent = currentTexts.tableHeaders.visited;
            tableHeaders[5].textContent = currentTexts.tableHeaders.select;
            tableHeaders[6].textContent = currentTexts.tableHeaders.maps;
            tableHeaders[7].textContent = currentTexts.tableHeaders.delete;
          }
        }
        
        // UI metinlerini gÃ¼ncelle
        updatePreLoginText();
        updateUIText();
        });
        
        // Sayfa tamamen yÃ¼klendikten sonra arka planÄ± gÃ¼ncelle
        window.addEventListener('load', () => {
          const countryFilter = document.getElementById('countryFilter');
          if (countryFilter && window.enhancedBackgroundManager) {
            console.log('Sayfa yÃ¼klendi, arka plan gÃ¼ncelleniyor:', countryFilter.value);
            window.enhancedBackgroundManager.updateBackgroundForCountry(countryFilter.value);
          }
        });

        // TÃ¼m popÃ¼ler Ã¼lke JSON dosyalarÄ±nÄ± otomatik bul ve oku
        async function getAllPopularCountryFiles() {
          // public/json/popular-*.json dosyalarÄ±nÄ± bulmak iÃ§in bir endpoint veya sabit liste gerekir
          // Burada sabit bir listeyle ilerliyoruz (daha sonra dinamik yapÄ±labilir)
          const countryFiles = [
            'popular-germany.json', 'popular-france.json', 'popular-italy.json', 'popular-spain.json', 'popular-netherlands.json',
            'popular-switzerland.json', 'popular-belgium.json', 'popular-austria.json', 'popular-poland.json', 'popular-czech-republic.json',
            'popular-hungary.json', 'popular-romania.json', 'popular-greece.json', 'popular-portugal.json', 'popular-croatia.json',
            'popular-slovenia.json', 'popular-bulgaria.json', 'popular-slovakia.json', 'popular-estonia.json', 'popular-latvia.json',
            'popular-lithuania.json', 'popular-south-korea.json', 'popular-japan.json', 'popular-turkey.json', 'popular-uk.json', 'popular-ireland.json'
          ];
          const base = '/json/';
          const all = [];
          for (const file of countryFiles) {
            try {
              const resp = await fetch(base + file);
              if (resp.ok) {
                const arr = await resp.json();
                all.push({ file, arr });
              }
            } catch {}
          }
          return all;
        }

        // TÃ¼m Ã¼lkelerin kodlarÄ±nÄ± ve isimlerini dÃ¶ndÃ¼r
        async function getAllPopularCountryCodes() {
          const all = await getAllPopularCountryFiles();
          const codes = new Set();
          all.forEach(({ arr }) => {
            arr.forEach(p => {
              if (p.country_tr) codes.add(p.country_tr.toUpperCase());
              if (p.country_en) codes.add(p.country_en.toUpperCase());
            });
          });
          return Array.from(codes).sort();
        }

        // TÃ¼m popÃ¼ler yerleri tek dizi olarak dÃ¶ndÃ¼r
        async function getAllPopularPlaces() {
          const all = await getAllPopularCountryFiles();
          return all.flatMap(({ arr }) => arr);
        }

        // Ãœlke dropdown'Ä±nÄ± tÃ¼m popÃ¼ler Ã¼lkelerle gÃ¼ncelle
        async function updateCountryDropdown(user, allCountryCodes) {
          const countryFilter = document.getElementById('countryFilter');
          if (!countryFilter) return;
          countryFilter.innerHTML = '';
          allCountryCodes.forEach(c => {
            const opt = document.createElement('option');
            opt.value = c;
            opt.textContent = c;
            countryFilter.appendChild(opt);
          });
          // KullanÄ±cÄ±nÄ±n mevcut Ã¼lkesini koru
          if (!countryFilter.value) countryFilter.value = 'ALMANYA';
        }

        function getEnglishCountryKeySafe(country) {
          if (window.enhancedBackgroundManager && typeof window.enhancedBackgroundManager.getEnglishCountryKey === 'function') {
            return window.enhancedBackgroundManager.getEnglishCountryKey(country);
          }
          // Local fallback (kÄ±sa versiyon)
          const map = {
            'tÃ¼rkiye': 'turkey', 'almanya': 'germany', 'fransa': 'france', 'italya': 'italy', 'ispanya': 'spain',
            'yunanistan': 'greece', 'hollanda': 'netherlands', 'belÃ§ika': 'belgium', 'avusturya': 'austria',
            'isviÃ§re': 'switzerland', 'portekiz': 'portugal', 'Ã§ek cumhuriyeti': 'czech republic', 'polonya': 'poland',
            'romanya': 'romania', 'bulgaristan': 'bulgaria', 'letonya': 'latvia', 'litvanya': 'lithuania',
            'estonya': 'estonia', 'macaristan': 'hungary', 'slovakya': 'slovakia', 'slovenya': 'slovenia',
            'hirvatistan': 'croatia', 'sÄ±rbistan': 'serbia', 'ukrayna': 'ukraine', 'norveÃ§': 'norway',
            'isveÃ§': 'sweden', 'finlandiya': 'finland', 'gÃ¼ney kore': 'south korea', 'japonya': 'japan',
            'Ã§in': 'china', 'abd': 'usa', 'amerika': 'usa', 'birleÅŸik krallÄ±k': 'uk'
          };
          const norm = country.toLowerCase().replace(/Ã§/g,'c').replace(/ÄŸ/g,'g').replace(/Ä±/g,'i').replace(/Ã¶/g,'o').replace(/ÅŸ/g,'s').replace(/Ã¼/g, 'u');
          return map[norm] || norm;
        }

        // GeliÅŸmiÅŸ TÃ¼rkÃ§e bÃ¼yÃ¼k harf dÃ¶nÃ¼ÅŸÃ¼mÃ¼ fonksiyonu
        function toTurkishUpper(str) {
          return str
            .replace(/i/g, 'Ä°')
            .replace(/Ä±/g, 'I')
            .replace(/I/g, 'Ä°')
            .replace(/ÅŸ/g, 'Å')
            .replace(/ÄŸ/g, 'Ä')
            .replace(/Ã¼/g, 'Ãœ')
            .replace(/Ã¶/g, 'Ã–')
            .replace(/Ã§/g, 'Ã‡')
            .toUpperCase();
        }

        // --- Ãœlke combobox'Ä±nÄ± TÃ¼rkÃ§e isme gÃ¶re alfabetik sÄ±rala ---
        async function updateCountryDropdownWithPopularOnly() {
          const countryFilter = document.getElementById('countryFilter');
          if (!countryFilter) return;
          // 1. PopÃ¼ler Ã¼lkeleri oku
          const allPopular = await getAllPopularCountryCodes(); // normalize edilmiÅŸ Ä°ngilizce anahtarlar
          // 2. TekrarlarÄ± engelle
          const allCountries = Array.from(new Set(allPopular));
          // 3. TÃ¼rkÃ§e isme gÃ¶re sÄ±rala
          allCountries.sort((a, b) => {
            const trA = toTurkishUpper(countryNames[a]?.[currentLang] || a);
            const trB = toTurkishUpper(countryNames[b]?.[currentLang] || b);
            return trA.localeCompare(trB, 'tr');
          });
          // 4. Dropdown'u doldur
          countryFilter.innerHTML = '';
          allCountries.forEach(englishKey => {
            const opt = document.createElement('option');
            opt.value = englishKey;
            const trName = countryNames[englishKey]?.[currentLang] || englishKey;
            opt.textContent = toTurkishUpper(trName);
            countryFilter.appendChild(opt);
          });
          // VarsayÄ±lan Ã¼lke: ALMANYA
          if (!countryFilter.value && allCountries.includes('germany')) {
            countryFilter.value = 'germany';
            // Ãœlke seÃ§ildiÄŸinde arka planÄ± gÃ¼ncelle
            if (window.enhancedBackgroundManager) {
              console.log('VarsayÄ±lan Ã¼lke seÃ§ildi, arka plan gÃ¼ncelleniyor:', countryFilter.value);
              setTimeout(() => {
                window.enhancedBackgroundManager.updateBackgroundForCountry(countryFilter.value);
              }, 200);
            }
          }
        }

        // --- Sayfa ilk aÃ§Ä±ldÄ±ÄŸÄ±nda ve kullanÄ±cÄ± deÄŸiÅŸtiÄŸinde Ã¼lke dropdown'unu gÃ¼ncelle ---
        document.addEventListener('DOMContentLoaded', () => {
          updateCountryDropdownWithPopularOnly();
        });
    </script>
    <script src="/js/enhanced-background-manager.js"></script>
</body>

</html>