<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotam Benim - Basit Login Test</title>

    
    <!-- Tabler CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler.min.css">
    
    <!-- Awesomplete CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.5/awesomplete.min.css" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tabler Autocomplete JS -->
    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/js/tabler.min.js"></script>
    
    <!-- Awesomplete JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.5/awesomplete.min.js"></script>
    
    <style>
        :root {
            --card-opacity: 0.50;
        }
          body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .bg-overlay {
            position: fixed;
            z-index: 0;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            opacity: 0.5;
            background-size: cover;
            background-position: center;
            transition: opacity 0.5s;
        }
        
        .login-container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .login-card {
            background: rgba(255,255,255,var(--card-opacity)) !important;
            border-radius: 16px;
            padding: 32px;
            max-width: 1200px;
            width: 100%;
            text-align: center;
        }
        
        .login-logo {
            font-size: 2rem;
            font-weight: 700;
            color: #206bc4;
            margin-bottom: 10px;
        }
        
        .login-subtitle {
            color: #626976;
            margin-bottom: 30px;
        }
        
        .google-btn {
            background: #4285f4;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            margin-bottom: 20px;
        }
        
        .google-btn:hover {
            background: #3367d6;
            transform: translateY(-2px);
        }
        
        .google-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .user-info {
            background: transparent !important;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
        }
        
        .status-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .status-success {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status-info {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .logout-btn:hover {
            background: #c82333;
        }
        
        .table-responsive {
            width: 100%;
            overflow-x: auto;
            margin-top: 30px;
        }
        .table {
            width: 100%;
            min-width: 900px;
            font-size: 14px;
            background: white;
            border-radius: 8px;
            border-collapse: separate;
            border-spacing: 0;
        }
        .table th, .table td {
            padding: 16px 14px;
            white-space: nowrap;
            vertical-align: top;
            min-height: 32px;
            line-height: 1.6;
            text-align: left;
        }
        .table td:last-child {
            text-align: center;
        }
        .table th {
            background: #f1f3f9;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        .table tr:nth-child(even) {
            background: #f8f9fa;
        }
        .table td {
            max-width: 180px;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .table td.description {
            max-width: 350px;
            white-space: normal;
            word-break: break-word;
        }
        .country-group-row {
            background: rgba(255,255,255,var(--card-opacity)) !important;
            font-weight: bold;
            font-size: 16px;
            text-align: left;
        }
        #filters { 
            position: relative;
        }
        #suggestions {
            position: absolute;
            left: 0;
            top: 100%;
            width: 350px;
            z-index: 9999;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 6px;
            min-height: 0;
        }
        .awesomplete {
            z-index: 99999 !important;
            position: relative;
        }
        .awesomplete > ul {
            z-index: 99999 !important;
            position: absolute;
        }
        .login-card, #filters {
            overflow: visible !important;
        }
        .table td.name {
            white-space: normal !important;
            word-break: break-word;
        }
        
        /* Settings Modal Styles */
        .settings-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .settings-modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        .settings-header {
            padding: 20px 24px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .settings-title {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin: 0;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
            padding: 4px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .close-btn:hover {
            background-color: #f3f4f6;
        }
        
        .settings-body {
            padding: 24px;
        }
        
        .profile-section {
            margin-bottom: 32px;
        }
        
        .profile-info {
            display: flex;
            align-items: center;
            padding: 16px;
            background-color: #f9fafb;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin-right: 16px;
        }
        
        .profile-details h3 {
            margin: 0 0 4px 0;
            font-size: 16px;
            font-weight: 600;
            color: #111827;
        }
        
        .profile-details p {
            margin: 0;
            color: #6b7280;
            font-size: 14px;
        }
        
        .edit-profile-btn {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            background: none;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: #374151;
            transition: all 0.2s;
        }
        
        .edit-profile-btn:hover {
            background-color: #f9fafb;
        }
        
        .edit-profile-btn svg {
            margin-right: 8px;
        }
        
        .connection-settings {
            margin-bottom: 32px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            margin: 0 0 16px 0;
        }
        
        .connection-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .connection-item:last-child {
            border-bottom: none;
        }
        
        .connection-info {
            display: flex;
            align-items: center;
        }
        
        .connection-icon {
            width: 24px;
            height: 24px;
            margin-right: 12px;
        }
        
        .connection-name {
            font-size: 16px;
            color: #111827;
        }
        
        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
            background-color: #d1d5db;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .toggle-switch.active {
            background-color: #3b82f6;
        }
        
        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        
        .toggle-switch.active::after {
            transform: translateX(24px);
        }
        
        /* Account Management Styles */
        .account-management {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #f3f4f6;
        }
        
        .danger-zone {
            padding: 16px;
            border: 1px solid #fecaca;
            border-radius: 8px;
            background-color: #fef2f2;
        }
        
        .delete-account-btn {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .delete-account-btn:hover {
            background-color: #c82333;
        }
        
        .delete-account-btn svg {
            margin-right: 8px;
        }
        
        #settingsBtn:hover {
            background: rgba(98, 105, 118, 0.1) !important;
            border-radius: 6px;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="bg-overlay" style="position:fixed;z-index:0;top:0;left:0;width:100vw;height:100vh;pointer-events:none;opacity:0.35;background-size:cover;background-position:center;transition:opacity 0.5s;"></div>
    <div class="login-container">
        <div class="login-card">
            <div class="login-logo">üåç Rotam Benim</div>
            
            <!-- Language Selection (before login) -->
            <div style="margin-bottom: 20px; text-align: center;">
                <label for="preLoginLanguage" style="display: block; margin-bottom: 8px; color: #626976; font-size: 14px;">Dil / Language:</label>
                <select id="preLoginLanguage" style="min-width: 120px; padding: 8px 12px; border-radius: 6px; border: 1px solid #ccc; background: white; font-size: 14px;">
                    <option value="tr">üáπüá∑ T√ºrk√ße</option>
                    <option value="en">üá∫üá∏ English</option>
                </select>
            </div>
            
            <!-- Login Button -->
            <button id="googleSignInBtn" class="google-btn">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                <span id="loginButtonText">Google ile Giri≈ü Yap</span>
            </button>
            
            <!-- User Info (hidden by default) -->
            <div id="userInfo" class="user-info" style="display: none;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <div style="display: flex; align-items: center;">
                        <img id="userAvatar" class="user-avatar" src="" alt="User Avatar">
                        <div>
                            <div id="userName" style="font-weight: 600; font-size: 16px;"></div>
                            <div id="userEmail" style="color: #626976; font-size: 14px;"></div>
                        </div>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <button id="logoutBtn" class="logout-btn">√áƒ±kƒ±≈ü Yap</button>
                    <button id="settingsBtn" onclick="openSettingsModal()" style="background: transparent; border: none; cursor: pointer; padding: 6px; transition: all 0.3s ease; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;" title="Ayarlar">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="#626976">
                            <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Status Messages -->
            <div id="statusMessage"></div>
            
            <!-- Filtreler -->
            <div id="filters" style="display: flex; gap: 16px; justify-content: flex-start; align-items: center; margin-bottom: 18px; margin-top: 18px; position: relative;">

              <select id="countryFilter" style="min-width: 140px; padding: 6px 10px; border-radius: 6px; border: 1px solid #ccc;"></select>
              <label for="visitedFilter">Ziyaret:</label>
              <select id="visitedFilter" style="min-width: 120px; padding: 6px 10px; border-radius: 6px; border: 1px solid #ccc;">
                <option value="all">T√ºm√º</option>
                <option value="visited">Gezildi</option>
                <option value="notvisited" selected>Gezilmedi</option>
              </select>
              <input id="universalSearchBox" class="form-control awesomplete" type="text" placeholder="Yer, ≈üehir veya √ºlke adƒ±..." style="min-width: 300px; padding: 8px 12px; border-radius: 6px; border: 1px solid #ccc;" autocomplete="off" list="locationSuggestions" />
              <button id="universalAddBtn" style="padding: 8px 20px; border-radius: 6px; border: none; background: #206bc4; color: white; font-weight: 500; cursor: pointer; margin-left: 10px;">Akƒ±llƒ± Ekle</button>
              
              <datalist id="locationSuggestions">
                <!-- Dinamik √∂neriler buraya eklenecek -->
              </datalist>
            </div>
            
            <!-- Gezilecek Yerler Tablosu -->
            <div id="placesTableWrapper" class="table-responsive">
              <div id="placesTableContainer" style="margin-top: 0; display: none;">
                <div style="margin-bottom: 15px; text-align: center;">
                  <button id="createRouteBtn" style="padding: 8px 20px; border-radius: 6px; border: none; background: #28a745; color: white; font-weight: 500; cursor: pointer; font-size: 14px;">üó∫Ô∏è Se√ßili Yerler ƒ∞√ßin Rota Olu≈ütur</button>
                </div>
                <table id="placesTable" class="table table-sm">
                  <thead>
                    <tr>
                      <th>Yer Adƒ±</th>
                      <th>≈ûehir</th>
                      <th>Kategori</th>
                      <th>A√ßƒ±klama</th>
                      <th>Ziyaret Edildi mi?</th>
                      <th>Rota ƒ∞√ßin Se√ß</th>
                      <th>Google Maps</th>
                      <th>Sil</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Satƒ±rlar buraya eklenecek -->
                  </tbody>
                </table>
              </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Firebase imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInWithPopup, linkWithPopup, GoogleAuthProvider, TwitterAuthProvider, signOut, onAuthStateChanged, deleteUser } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";
        import { getFirestore, collection, getDocs, addDoc, query, where, doc, deleteDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB6bIJOkooeRSKWtb09zdNmMIjHDbXCzYA",
            authDomain: "rotambenim.firebaseapp.com",
            projectId: "rotambenim",
            storageBucket: "rotambenim.firebasestorage.app",
            messagingSenderId: "374285362920",
            appId: "1:374285362920:web:b4058cf4a93e7337168b5d",
            measurementId: "G-0QVZ4LDYPJ"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const analytics = getAnalytics(app);
        const db = getFirestore(app);

        // DOM elements
        const googleSignInBtn = document.getElementById('googleSignInBtn');
        const userInfo = document.getElementById('userInfo');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const userEmail = document.getElementById('userEmail');
        const logoutBtn = document.getElementById('logoutBtn');
        const statusMessage = document.getElementById('statusMessage');
        const placesTableContainer = document.getElementById('placesTableContainer');
        const placesTableBody = document.querySelector('#placesTable tbody');
        const universalAddBtn = document.getElementById('universalAddBtn');
        const universalSearchBox = document.getElementById('universalSearchBox');

        const preLoginLanguage = document.getElementById('preLoginLanguage');
        const loginButtonText = document.getElementById('loginButtonText');
        let suggestionResults = [];

        
        // Dil ayarlarƒ±
        let currentLanguage = 'tr';

        // √úlke isimleri mapping (tr/en)
        const countryNames = {
          'turkey': { tr: 'T√úRKƒ∞YE', en: 'TURKEY' },
          'germany': { tr: 'ALMANYA', en: 'GERMANY' },
          'france': { tr: 'FRANSA', en: 'FRANCE' },
          'italy': { tr: 'ƒ∞TALYA', en: 'ITALY' },
          'spain': { tr: 'ƒ∞SPANYA', en: 'SPAIN' },
          'greece': { tr: 'YUNANƒ∞STAN', en: 'GREECE' },
          'netherlands': { tr: 'HOLLANDA', en: 'NETHERLANDS' },
          'belgium': { tr: 'BEL√áƒ∞KA', en: 'BELGIUM' },
          'austria': { tr: 'AVUSTURYA', en: 'AUSTRIA' },
          'switzerland': { tr: 'ƒ∞SVƒ∞√áRE', en: 'SWITZERLAND' },
          'portugal': { tr: 'PORTEKƒ∞Z', en: 'PORTUGAL' },
          'czech republic': { tr: '√áEK CUMHURƒ∞YETƒ∞', en: 'CZECH REPUBLIC' },
          'poland': { tr: 'POLONYA', en: 'POLAND' },
          'romania': { tr: 'ROMANYA', en: 'ROMANIA' },
          'bulgaria': { tr: 'BULGARƒ∞STAN', en: 'BULGARIA' },
          'latvia': { tr: 'LETONYA', en: 'LATVIA' },
          'lithuania': { tr: 'Lƒ∞TVANYA', en: 'LITHUANIA' },
          'estonia': { tr: 'ESTONYA', en: 'ESTONIA' },
          'hungary': { tr: 'MACARƒ∞STAN', en: 'HUNGARY' },
          'slovakia': { tr: 'SLOVAKYA', en: 'SLOVAKIA' },
          'slovenia': { tr: 'SLOVENYA', en: 'SLOVENIA' },
          'croatia': { tr: 'HIRVATƒ∞STAN', en: 'CROATIA' },
          'serbia': { tr: 'SIRBƒ∞STAN', en: 'SERBIA' },
          'ukraine': { tr: 'UKRAYNA', en: 'UKRAINE' },
          'norway': { tr: 'NORVE√á', en: 'NORWAY' },
          'sweden': { tr: 'ƒ∞SVE√á', en: 'SWEDEN' },
          'finland': { tr: 'Fƒ∞NLANDƒ∞YA', en: 'FINLAND' },
          'south korea': { tr: 'G√úNEY KORE', en: 'SOUTH KOREA' },
          'japan': { tr: 'JAPONYA', en: 'JAPAN' },
          'china': { tr: '√áƒ∞N', en: 'CHINA' },
          'usa': { tr: 'AMERƒ∞KA', en: 'USA' },
          'uk': { tr: 'Bƒ∞RLE≈ûƒ∞K KRALLIK', en: 'UK' },
          // Diƒüer √ºlkeler eklenebilir
        };
        const currentLang = 'tr'; // ƒ∞leride 'en' yapƒ±labilir

        // Show status message
        function showStatus(message, type = 'info') {
            // Modal a√ßƒ±k mƒ± kontrol et
            const modal = document.getElementById('settingsModal');
            const isModalOpen = modal && modal.style.display === 'block';
            
            // Modal a√ßƒ±ksa modal i√ßindeki status div'i kullan, deƒüilse normal status div'i
            const statusDiv = isModalOpen ? 
                document.getElementById('modalStatusMessage') : 
                document.getElementById('statusMessage');
                
            if (!statusDiv) return;
            
            // Mesaj tipine g√∂re stil belirle
            let bgColor, textColor;
            switch(type) {
                case 'success':
                    bgColor = '#d4edda';
                    textColor = '#155724';
                    break;
                case 'error':
                    bgColor = '#f8d7da';
                    textColor = '#721c24';
                    break;
                case 'info':
                default:
                    bgColor = '#d1ecf1';
                    textColor = '#0c5460';
                    break;
            }
            
            // Modal i√ßindeyse farklƒ± stil, dƒ±≈üƒ±ndaysa fixed positioning
            const styleProps = isModalOpen ? 
                `background-color: ${bgColor};
                 color: ${textColor};
                 padding: 10px 15px;
                 border-radius: 5px;
                 margin: 0 0 15px 0;
                 border: 1px solid ${textColor}20;
                 font-size: 14px;` :
                `background-color: ${bgColor};
                 color: ${textColor};
                 padding: 10px 15px;
                 border-radius: 5px;
                 margin: 10px 0;
                 border: 1px solid ${textColor}20;
                 font-size: 14px;
                 position: fixed;
                 top: 20px;
                 right: 20px;
                 z-index: 10000;
                 max-width: 400px;
                 box-shadow: 0 4px 12px rgba(0,0,0,0.15);`;
            
            statusDiv.innerHTML = `
                <div style="${styleProps}">
                    ${message}
                </div>
            `;
            
            // 10 saniye sonra mesajƒ± temizle
            setTimeout(() => {
                if (statusDiv) {
                    statusDiv.innerHTML = '';
                }
            }, 10000);
        }
        
        // Make showStatus globally accessible
        window.showStatus = showStatus;
        
        // Make Firebase auth providers globally accessible
        window.TwitterAuthProvider = TwitterAuthProvider;
        window.GoogleAuthProvider = GoogleAuthProvider;
        window.signInWithPopup = signInWithPopup;
        window.linkWithPopup = linkWithPopup;
        window.auth = auth;

        // Handle Google Sign In
        async function handleGoogleSignIn() {
            try {
                googleSignInBtn.disabled = true;
                showStatus('Google ile giri≈ü yapƒ±lƒ±yor...', 'info');
                
                const provider = new GoogleAuthProvider();
                const result = await signInWithPopup(auth, provider);
                
                console.log('Giri≈ü ba≈üarƒ±lƒ±:', result.user);
                showStatus('Giri≈ü ba≈üarƒ±lƒ±!', 'success');
                
            } catch (error) {
                console.error('Giri≈ü hatasƒ±:', error);
                
                let errorMessage = 'Giri≈ü yapƒ±lƒ±rken bir hata olu≈ütu.';
                if (error.code === 'auth/popup-closed-by-user') {
                    errorMessage = 'Giri≈ü iptal edildi.';
                } else if (error.code === 'auth/network-request-failed') {
                    errorMessage = 'Aƒü hatasƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin.';
                } else if (error.code === 'auth/unauthorized-domain') {
                    errorMessage = 'Bu domain i√ßin giri≈ü yetkisi yok. Firebase Console\'da domain\'i ekleyin.';
                }
                
                showStatus(errorMessage, 'error');
                googleSignInBtn.disabled = false;
            }
        }

        // Handle Sign Out
        async function handleSignOut() {
            try {
                await signOut(auth);
                console.log('√áƒ±kƒ±≈ü ba≈üarƒ±lƒ±');
                showStatus('√áƒ±kƒ±≈ü yapƒ±ldƒ±.', 'success');
                // √áƒ±kƒ±≈ü sonrasƒ± login sayfasƒ±na y√∂nlendir
                setTimeout(() => {
                    window.location.href = '/index.html';
                }, 1000);
            } catch (error) {
                console.error('√áƒ±kƒ±≈ü hatasƒ±:', error);
                showStatus('√áƒ±kƒ±≈ü yapƒ±lƒ±rken hata olu≈ütu.', 'error');
            }
        }

        // Update UI based on auth state
        function updateUI(user) {
            const placesTableContainer = document.getElementById('placesTableContainer');
            const preLoginLanguage = document.getElementById('preLoginLanguage');
            
            if (user) {
                // User is signed in
                googleSignInBtn.style.display = 'none';
                userInfo.style.display = 'block';
                
                userName.textContent = user.displayName || 'Kullanƒ±cƒ±';
                userEmail.textContent = user.email || '';
                
                if (user.photoURL) {
                    userAvatar.src = user.photoURL;
                } else {
                    userAvatar.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiM2MjY5NzYiLz4KPHN2ZyB4PSIxMiIgeT0iMTIiIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAxMmMyLjIxIDAgNC0xLjc5IDQtNHMtMS43OS00LTQtNC00IDEuNzktNCA0IDEuNzkgNCA0IDR6bTAgMmMtMi42NyAwLTggMS4zNC04IDR2MmgxNnYtMmMwLTIuNjYtNS4zMy00LTgtNHoiLz4KPC9zdmc+Cjwvc3ZnPgo=';
                }
                
            } else {
                // User is signed out - login sayfasƒ±na y√∂nlendir
                console.log('Kullanƒ±cƒ± √ßƒ±kƒ±≈ü yaptƒ±, login sayfasƒ±na y√∂nlendiriliyor...');
                window.location.href = '/index.html';
            }
        }

        // Auth state listener
        onAuthStateChanged(auth, async (user) => {
            console.log('Auth state changed:', user ? 'User signed in' : 'User signed out');
            updateUI(user);
            
            if (user) {
                // T√ºm pop√ºler yerleri ve √ºlkeleri topla
                const allPopularPlaces = await getAllPopularPlaces();
                const allCountryCodes = await getAllPopularCountryCodes();
                // Kullanƒ±cƒ±nƒ±n mevcut yerlerini √ßek
                const userPlacesRef = collection(db, `users/${user.uid}/places`);
                const snapshot = await getDocs(userPlacesRef);
                const existingPlaces = new Map();
                snapshot.forEach(doc => {
                    const d = doc.data();
                    const key = `${(d.country || '').toUpperCase()}|||${(d.name || '').trim()}`;
                    existingPlaces.set(key, { ...d, docId: doc.id });
                });
                // Eksik pop√ºler yerleri ekle
                let addedCount = 0;
                for (const p of allPopularPlaces) {
                    const country = (p.country_tr || p.country_en || '').toUpperCase();
                    const name = p.name_tr;
                    const key = `${country}|||${name}`;
                    if (!existingPlaces.has(key)) {
                        await addDoc(userPlacesRef, filterUndefinedFields({
                            name: p.name_tr,
                            city: p.city_tr,
                            country: p.country_tr ? p.country_tr.toUpperCase() : undefined,
                            category: p.category_tr,
                            description: p.description_tr,
                            visited: false,
                            name_en: p.name_en,
                            city_en: p.city_en,
                            country_en: p.country_en ? p.country_en.toUpperCase() : undefined,
                            category_en: p.category_en,
                            description_en: p.description_en
                        }));
                        addedCount++;
                    } else {
                        // A√ßƒ±klama eksikse g√ºncelle
                        const place = existingPlaces.get(key);
                        if (!place.description || place.description.trim() === '') {
                            const { doc, updateDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
                            const docRef = doc(db, `users/${user.uid}/places`, place.docId);
                            await updateDoc(docRef, filterUndefinedFields({
                                description: p.description_tr,
                                name_en: p.name_en,
                                city_en: p.city_en,
                                country_en: p.country_en ? p.country_en.toUpperCase() : undefined,
                                category_en: p.category_en,
                                description_en: p.description_en
                            }));
                        }
                    }
                }
                if (addedCount > 0) showStatus(`${addedCount} yeni pop√ºler yer otomatik eklendi!`, 'success');
                else showStatus('T√ºm pop√ºler yerler zaten mevcut.', 'info');
                // √úlke dropdown'ƒ±nƒ± g√ºncelle
                await updateCountryDropdown(user, allCountryCodes);
            }
            
            loadPlacesTable(user);
        });

        // Event listeners
        googleSignInBtn.addEventListener('click', handleGoogleSignIn);
        logoutBtn.addEventListener('click', handleSignOut);
        
        // ≈ûehir/√úlke √∂nerileri i√ßin input event listener (sayfa y√ºklendiƒüinde hemen √ßalƒ±≈üƒ±r)
        universalSearchBox.addEventListener('input', function() {
          const inputValue = this.value.toLowerCase();
          const locationSuggestions = document.getElementById('locationSuggestions');
          
          if (inputValue.length < 2) {
            locationSuggestions.innerHTML = '';
            return;
          }
          
          // ≈ûehir ve √ºlke √∂nerileri listesi
          const suggestions = [
            // Pop√ºler ≈üehirler
            'Aachen', 'Berlin', 'M√ºnchen', 'Hamburg', 'K√∂ln', 'Frankfurt', 'Stuttgart', 'D√ºsseldorf',
            'Paris', 'Lyon', 'Marseille', 'Toulouse', 'Nice', 'Bordeaux', 'Lille', 'Strasbourg',
            'Roma', 'Milano', 'Napoli', 'Torino', 'Venezia', 'Firenze', 'Bologna', 'Palermo',
            'Madrid', 'Barcelona', 'Valencia', 'Sevilla', 'Bilbao', 'M√°laga', 'Zaragoza', 'Murcia',
            'London', 'Manchester', 'Birmingham', 'Liverpool', 'Leeds', 'Glasgow', 'Edinburgh', 'Bristol',
            'New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix', 'Philadelphia', 'San Antonio', 'San Diego',
            'Tokyo', 'Osaka', 'Kyoto', 'Yokohama', 'Nagoya', 'Sapporo', 'Fukuoka', 'Kobe',
            'Istanbul', 'Ankara', 'ƒ∞zmir', 'Bursa', 'Antalya', 'Adana', 'Konya', 'Gaziantep',
            // √úlkeler
            'Germany', 'Almanya', 'France', 'Fransa', 'Italy', 'ƒ∞talya', 'Spain', 'ƒ∞spanya', 
            'United Kingdom', 'ƒ∞ngiltere', 'United States', 'Amerika', 'Japan', 'Japonya', 'Turkey', 'T√ºrkiye',
            'Netherlands', 'Hollanda', 'Belgium', 'Bel√ßika', 'Switzerland', 'ƒ∞svi√ßre', 'Austria', 'Avusturya', 
            'Portugal', 'Portekiz', 'Greece', 'Yunanistan', 'Poland', 'Polonya',
            'Czech Republic', '√áek Cumhuriyeti', 'Hungary', 'Macaristan', 'Romania', 'Romanya', 
            'Bulgaria', 'Bulgaristan', 'Croatia', 'Hƒ±rvatistan', 'Slovakia', 'Slovakya', 'Slovenia', 'Slovenya',
            'Estonia', 'Estonya', 'Latvia', 'Letonya', 'Lithuania', 'Litvanya', 'Canada', 'Kanada', 
            'Australia', 'Avustralya', 'South Korea', 'G√ºney Kore', 'China', '√áin', 'India', 'Hindistan',
            'Brazil', 'Brezilya', 'Russia', 'Rusya', 'Mexico', 'Meksika', 'Argentina', 'Arjantin'
          ];
          
          // Filtreleme
          const filteredSuggestions = suggestions.filter(suggestion => 
            suggestion.toLowerCase().includes(inputValue)
          ).slice(0, 10); // ƒ∞lk 10 √∂neriyi g√∂ster
          
          // Datalist'i g√ºncelle
          locationSuggestions.innerHTML = '';
          filteredSuggestions.forEach(suggestion => {
            const option = document.createElement('option');
            option.value = suggestion;
            locationSuggestions.appendChild(option);
          });
        });
        
        // Awesomplete ile √∂neri getir
        const awesomplete = new Awesomplete(universalSearchBox, {
          minChars: 2,
          maxItems: 10,
          autoFirst: true,
          list: [],
          item: function(suggestion, input) {
            // A√ßƒ±klama ba≈ülƒ±ƒüƒ±n altƒ±nda deƒüil, ba≈ülƒ±ƒüƒ±n hemen √ºst√ºnde olacak ≈üekilde d√ºzenle
            const html = `<div style='display:flex;flex-direction:column;'>
              <span style='font-size:12px;color:#888;margin-bottom:2px;'>${suggestion.description || ''}</span>
              <strong>${suggestion.label}</strong>
            </div>`;
            const li = document.createElement('li');
            li.innerHTML = html;
            return li;
          },
          replace: function(suggestion) {
            this.input.value = suggestion.label;
          }
        });
        let lastSuggestions = [];
        universalSearchBox.addEventListener('input', async () => {
          const query = universalSearchBox.value.trim();
          console.log('Search query:', query); // Debug log
          if (!query || query.length < 2) {
            awesomplete.list = [];
            lastSuggestions = [];
            return;
          }
          // Wikipedia'dan √ßek
          let wikiResults = [];
  try {
            const url = `https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(query)}+tourism+attraction+place&format=json&origin=*`;
            const resp = await fetch(url);
            const data = await resp.json();
            if (data.query && data.query.search) {
              // Sƒ±kƒ± filtre: sadece gezilecek yer anahtar kelimeleriyle filtrele
              const touristKeywords = [
                "city", "town", "village", "park", "mountain", "lake", "museum", "site", "ruins", "castle", "beach", "island", "national park", "tourist attraction", "region", "province", "district", "valley", "canyon", "bay", "forest", "archaeological", "ancient", "historic", "landmark", "monument", "temple", "cathedral", "mosque", "church", "palace", "bazaar", "market", "bridge", "tower", "garden", "zoo", "aquarium", "harbor", "square", "plaza", "waterfall", "thermal", "spa", "resort", "cave", "gorge", "cliff", "fortress", "citadel", "basilica", "synagogue", "pagoda", "shrine", "observatory", "amphitheater", "arena", "stadium", "theater", "opera", "gallery", "exhibition", "statue", "sculpture", "fountain", "lighthouse", "botanical", "safari", "viewpoint", "panorama", "vista", "lookout", "observation", "peak", "summit"
              ];
              
              // Ki≈üi isimlerini ve yazarlarƒ± filtrelemek i√ßin negatif anahtar kelimeler
              const negativeKeywords = [
                "author", "writer", "novelist", "poet", "politician", "actor", "actress", "director", "producer", "singer", "musician", "composer", "artist", "painter", "sculptor", "philosopher", "scientist", "inventor", "entrepreneur", "businessman", "businesswoman", "athlete", "player", "born", "died", "biography"
              ];
              
              wikiResults = data.query.search.filter(item => {
                const text = (item.title + ' ' + item.snippet).toLowerCase();
                
                // Turistik yer anahtar kelimelerinden en az birini i√ßermeli
                const hasTouristKeyword = touristKeywords.some(kw => text.includes(kw));
                
                // Negatif anahtar kelimelerden hi√ßbirini i√ßermemeli
                const hasNegativeKeyword = negativeKeywords.some(kw => text.includes(kw));
                
                // Turistik yer anahtar kelimesi i√ßermeli VE negatif anahtar kelime i√ßermemeli
                return hasTouristKeyword && !hasNegativeKeyword;
              }).map(item => ({
                label: item.title,
                value: item.title,
                description: item.snippet.replace(/<[^>]+>/g, ''),
                source: 'wikipedia'
              }));
            }
          } catch {}
          // Nominatim'den √ßek
          let nominatimResults = [];
          try {
            const nominatimUrl = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(query)}&format=json&addressdetails=1&limit=10&accept-language=tr,en`;
            console.log('Nominatim URL:', nominatimUrl); // Debug log
            const nominatimResp = await fetch(nominatimUrl, {
              headers: {
                'User-Agent': 'RotamBenim/1.0 (https://github.com/balacam/RotamBenim)'
              }
            });
            const nominatimData = await nominatimResp.json();
            console.log('Nominatim response:', nominatimData); // Debug log
            
            if (nominatimData && nominatimData.length > 0) {
              // Ki≈üi isimlerini filtrelemek i√ßin negatif anahtar kelimeler
              const negativeKeywords = [
                "author", "writer", "novelist", "poet", "politician", "actor", "actress", "director", "producer", "singer", "musician", "composer", "artist", "painter", "sculptor", "philosopher", "scientist", "inventor", "entrepreneur", "businessman", "businesswoman", "athlete", "player"
              ];
              
              nominatimResults = nominatimData
                .filter(item => {
                  // Ki≈üi isimlerini filtrele
                  const text = (item.display_name || '').toLowerCase();
                  return !negativeKeywords.some(kw => text.includes(kw));
                })
                .map(item => {
                  const address = item.address || {};
                  const country = address.country || '';
                  const state = address.state || address.region || '';
                  const city = address.city || address.town || address.village || '';
                  
                  let description = '';
                  if (city && country) {
                    description = `${city}, ${country}`;
                  } else if (state && country) {
                    description = `${state}, ${country}`;
                  } else if (country) {
                    description = country;
                  }
                  
                  return {
                    label: item.name || item.display_name.split(',')[0],
                    value: item.name || item.display_name.split(',')[0],
                    description: description,
                    source: 'nominatim',
                    lat: parseFloat(item.lat),
                    lon: parseFloat(item.lon)
                  };
                });
            }
          } catch {}
          // Pop√ºler yerlerden arama yap
          let popularResults = [];
          try {
            const response = await fetch('/popular-places.json');
            const popularPlaces = await response.json();
            // Hem T√ºrk√ße hem ƒ∞ngilizce isimlerde arama yap
            popularResults = popularPlaces
              .filter(p => {
                const nameTr = (p.name_tr || '').toLowerCase();
                const nameEn = (p.name_en || '').toLowerCase();
                const cityTr = (p.city_tr || '').toLowerCase();
                const cityEn = (p.city_en || '').toLowerCase();
                const searchQuery = query.toLowerCase();
                
                return nameTr.includes(searchQuery) || 
                       nameEn.includes(searchQuery) || 
                       cityTr.includes(searchQuery) || 
                       cityEn.includes(searchQuery);
              })
              .map(p => ({
                label: p.name_tr,
                value: p.name_tr,
                description: `${p.city_tr || ''}, ${p.country_tr || ''} - ${p.category_tr || ''}`,
                source: 'popular',
                data: p // T√ºm veriyi sakla
              }));
          } catch {}
          
          // Sonu√ßlarƒ± birle≈ütir ve sƒ±rala (pop√ºler yerler √∂nce gelsin)
          const allResults = [...popularResults, ...wikiResults, ...nominatimResults].filter((v, i, a) =>
            a.findIndex(t => t.value === v.value) === i
          );
          console.log('All results:', allResults); // Debug log
          awesomplete.list = allResults;
          lastSuggestions = allResults;
        });
        // Se√ßim veya enter ile ekle
        universalSearchBox.addEventListener('awesomplete-selectcomplete', async (e) => {
          const user = auth.currentUser;
          if (!user) {
            showStatus('Giri≈ü yapmadan yer ekleyemezsiniz.', 'error');
            return;
          }
          const selectedLabel = universalSearchBox.value.trim();
          const item = lastSuggestions.find(s => s.label === selectedLabel) || { value: selectedLabel, description: '', source: 'manual' };
          universalAddBtn.disabled = true;
          try {
            // Eƒüer se√ßilen √∂ƒüe pop√ºler yerlerden geldiyse, doƒürudan o veriyi kullan
            if (item.source === 'popular' && item.data) {
              const placeData = item.data;
              await addDoc(collection(db, `users/${user.uid}/places`), {
                name: placeData.name_tr || item.value,
                city: placeData.city_tr || '',
                country: (placeData.country_tr || '').toUpperCase(),
                category: placeData.category_tr || '',
                description: placeData.description_tr || item.description || '',
                visited: false,
                name_en: placeData.name_en || '',
                city_en: placeData.city_en || '',
                country_en: (placeData.country_en || '').toUpperCase(),
                category_en: placeData.category_en || '',
                description_en: placeData.description_en || ''
              });
            } else {
              // Pop√ºler yerler JSON'unda arama
              let placeData = null;
              try {
                const response = await fetch('/popular-places.json');
                const popularPlaces = await response.json();
                // Hem T√ºrk√ße hem ƒ∞ngilizce isme bak
                placeData = popularPlaces.find(p =>
                  p.name_tr?.toLowerCase() === selectedLabel.toLowerCase() ||
                  p.name_en?.toLowerCase() === selectedLabel.toLowerCase()
                );
              } catch {}
              
              // Eƒüer pop√ºler yerler JSON'unda varsa, t√ºm alanlarƒ± oradan doldur
              if (placeData) {
                await addDoc(collection(db, `users/${user.uid}/places`), {
                  name: placeData.name_tr || item.value,
                  city: placeData.city_tr || '',
                  country: (placeData.country_tr || '').toUpperCase(),
                  category: placeData.category_tr || '',
                  description: placeData.description_tr || item.description || '',
                  visited: false,
                  name_en: placeData.name_en || '',
                  city_en: placeData.city_en || '',
                  country_en: (placeData.country_en || '').toUpperCase(),
                  category_en: placeData.category_en || '',
                  description_en: placeData.description_en || ''
                });
              } else {
                // Yoksa, mevcut mantƒ±kla ekle ama √ºlkeyi se√ßili √ºlke yap
                await addDoc(collection(db, `users/${user.uid}/places`), {
                  name: item.value,
                  city: '',
                  country: (countryFilter.value || '').toUpperCase(),
                  category: '',
                  description: item.description || '',
                  visited: false
                });
              }
            }
            showStatus('Yeni yer eklendi!', 'success');
            universalSearchBox.value = '';
            universalAddBtn.disabled = false;
            loadPlacesTable(user);
          } catch (err) {
            showStatus('Yer eklenirken hata: ' + err.message, 'error');
            universalAddBtn.disabled = false;
          }
        });

        // Initialize
        console.log('Firebase initialized successfully');
        showStatus('Uygulama hazƒ±r. Giri≈ü yapabilirsiniz.', 'info');

        // Pop√ºler yerler JSON'ƒ±nƒ± y√ºkle ve i≈üle
        async function loadPopularPlaces() {
          try {
            const response = await fetch('/popular-places.json');
            const popularPlaces = await response.json();
            return popularPlaces;
          } catch (error) {
            console.error('Pop√ºler yerler y√ºklenemedi:', error);
            return [];
          }
        }

        // Yeni kullanƒ±cƒ± i√ßin pop√ºler yerleri y√ºkle
        async function loadPopularPlacesForNewUser(user) {
          try {
            const popularPlaces = await loadPopularPlaces();
            const userPlacesRef = collection(db, `users/${user.uid}/places`);
            
            // Kullanƒ±cƒ±nƒ±n mevcut yerlerini kontrol et
            const existingSnapshot = await getDocs(userPlacesRef);
            const existingPlaces = new Set();
            existingSnapshot.forEach(doc => {
              const data = doc.data();
              // Hem T√ºrk√ße hem ƒ∞ngilizce isimleri kontrol et
              existingPlaces.add(`${data.name}-${data.country}`);
              if (data.name_en) {
                existingPlaces.add(`${data.name_en}-${data.country_en || data.country}`);
              }
            });

            // Pop√ºler yerleri ekle (eƒüer yoksa)
            let addedCount = 0;
            for (const place of popularPlaces) {
              const placeKeyTr = `${place.name_tr}-${place.country_tr.toUpperCase()}`;
              const placeKeyEn = `${place.name_en}-${place.country_en.toUpperCase()}`;
              
              if (!existingPlaces.has(placeKeyTr) && !existingPlaces.has(placeKeyEn)) {
                await addDoc(userPlacesRef, {
                  name: place.name_tr,
                  city: place.city_tr,
                  country: place.country_tr.toUpperCase(),
                  category: place.category_tr,
                  description: place.description_tr,
                  visited: false,
                  name_en: place.name_en,
                  city_en: place.city_en,
                  country_en: place.country_en.toUpperCase(),
                  category_en: place.category_en,
                  description_en: place.description_en
                });
                addedCount++;
              }
            }
            
            if (addedCount > 0) {
              showStatus(`${addedCount} pop√ºler yer eklendi!`, 'success');
            } else {
              showStatus('T√ºm pop√ºler yerler zaten mevcut.', 'info');
            }
          } catch (error) {
            console.error('Pop√ºler yerler y√ºklenirken hata:', error);
            showStatus('Pop√ºler yerler y√ºklenirken hata olu≈ütu: ' + error.message, 'error');
          }
        }

        // Firestore'a undefined alan g√∂ndermeyi engelleyen yardƒ±mcƒ± fonksiyon
        function filterUndefinedFields(obj) {
          const result = {};
          for (const key in obj) {
            if (obj[key] !== undefined) {
              result[key] = obj[key];
            }
          }
          return result;
        }

        // Mevcut kullanƒ±cƒ± i√ßin eksik a√ßƒ±klamalarƒ± doldur
        async function fillMissingDescriptions(user) {
          try {
            const popularPlaces = await loadPopularPlaces();
            const userPlacesRef = collection(db, `users/${user.uid}/places`);
            const snapshot = await getDocs(userPlacesRef);
            
            let updatedCount = 0;
            const { doc, updateDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
            
            for (const docSnapshot of snapshot.docs) {
              const data = docSnapshot.data();
              // A√ßƒ±klama eksikse pop√ºler yerlerden bul
              if (!data.description || data.description.trim() === '') {
                // Hem T√ºrk√ße hem ƒ∞ngilizce isimlerle e≈üle≈ütir
                let matchingPlace = popularPlaces.find(place => 
                  (place.name_tr === data.name && place.country_tr.toUpperCase() === data.country) ||
                  (place.name_en === data.name && place.country_en.toUpperCase() === data.country)
                );
                
                // Eƒüer bulunamazsa, sadece isimle e≈üle≈ütir
                if (!matchingPlace) {
                  matchingPlace = popularPlaces.find(place => 
                    place.name_tr === data.name || place.name_en === data.name
                  );
                }
                
                if (matchingPlace) {
                  const docRef = doc(db, `users/${user.uid}/places`, docSnapshot.id);
                  await updateDoc(docRef, {
                    description: matchingPlace.description_tr,
                    name_en: matchingPlace.name_en,
                    city_en: matchingPlace.city_en,
                    country_en: matchingPlace.country_en.toUpperCase(),
                    category_en: matchingPlace.category_en,
                    description_en: matchingPlace.description_en
                  });
                  updatedCount++;
                }
              }
            }
            
            if (updatedCount > 0) {
              showStatus(`${updatedCount} yerin a√ßƒ±klamasƒ± g√ºncellendi!`, 'success');
            } else {
              showStatus('G√ºncellenecek a√ßƒ±klama bulunamadƒ±.', 'info');
            }
          } catch (error) {
            console.error('A√ßƒ±klamalar doldurulurken hata:', error);
            showStatus('A√ßƒ±klamalar doldurulurken hata olu≈ütu: ' + error.message, 'error');
          }
        }

        // √úlke kayƒ±tlarƒ±nƒ± birle≈ütir ve eksik yerleri ekle
        async function mergeCountriesAndAddMissingPlaces(user) {
          try {
            const popularPlaces = await loadPopularPlaces();
            const userPlacesRef = collection(db, `users/${user.uid}/places`);
            const snapshot = await getDocs(userPlacesRef);
            const { doc, updateDoc, deleteDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');

            // T√ºm yerleri √ºlke+isim kombinasyonuna g√∂re grupla
            const placeMap = new Map();
            const toDelete = [];
            for (const docSnapshot of snapshot.docs) {
              const data = docSnapshot.data();
              const country = (data.country || '').toUpperCase();
              const name = (data.name || '').trim();
              const key = `${country}|||${name}`;
              if (!placeMap.has(key)) {
                placeMap.set(key, { ...data, docId: docSnapshot.id });
              } else {
                // Aynƒ± √ºlke ve isimde birden fazla kayƒ±t varsa, sadece birini bƒ±rak
                toDelete.push(docSnapshot.id);
              }
            }

            // Silinecek tekrar eden kayƒ±tlarƒ± sil
            for (const docId of toDelete) {
              const docRef = doc(db, `users/${user.uid}/places`, docId);
              await deleteDoc(docRef);
            }

            // A√ßƒ±klamalarƒ± g√ºncelle ve eksik pop√ºler yerleri ekle
            let updatedCount = 0;
            let addedCount = 0;
            const existingKeys = new Set(placeMap.keys());
            // A√ßƒ±klamalarƒ± g√ºncelle
            for (const [key, place] of placeMap.entries()) {
              if (!place.description || place.description.trim() === '') {
                const [country, name] = key.split('|||');
                const matching = popularPlaces.find(p =>
                  (p.country_tr && p.country_tr.toUpperCase() === country && p.name_tr === name) ||
                  (p.country_en && p.country_en.toUpperCase() === country && p.name_en === name)
                );
                if (matching) {
                  const docRef = doc(db, `users/${user.uid}/places`, place.docId);
                  await updateDoc(docRef, filterUndefinedFields({
                    description: matching.description_tr,
                    name_en: matching.name_en,
                    city_en: matching.city_en,
                    country_en: matching.country_en ? matching.country_en.toUpperCase() : undefined,
                    category_en: matching.category_en,
                    description_en: matching.description_en
                  }));
                  updatedCount++;
                }
              }
            }
            // Eksik pop√ºler yerleri ekle
            for (const p of popularPlaces) {
              const country = (p.country_tr || p.country_en || '').toUpperCase();
              const name = p.name_tr;
              const key = `${country}|||${name}`;
              if (!existingKeys.has(key)) {
                await addDoc(userPlacesRef, filterUndefinedFields({
                  name: p.name_tr,
                  city: p.city_tr,
                  country: p.country_tr ? p.country_tr.toUpperCase() : undefined,
                  category: p.category_tr,
                  description: p.description_tr,
                  visited: false,
                  name_en: p.name_en,
                  city_en: p.city_en,
                  country_en: p.country_en ? p.country_en.toUpperCase() : undefined,
                  category_en: p.category_en,
                  description_en: p.description_en
                }));
                addedCount++;
              }
            }
            let msg = '';
            if (toDelete.length > 0) msg += `${toDelete.length} tekrar eden kayƒ±t silindi. `;
            if (updatedCount > 0) msg += `${updatedCount} a√ßƒ±klama g√ºncellendi. `;
            if (addedCount > 0) msg += `${addedCount} yeni yer eklendi.`;
            if (!msg) msg = 'Herhangi bir deƒüi≈üiklik yapƒ±lmadƒ±.';
            showStatus(msg, 'success');
          } catch (error) {
            console.error('√úlke birle≈ütirme hatasƒ±:', error);
            showStatus('√úlke birle≈ütirme hatasƒ±: ' + error.message, 'error');
          }
        }

        async function loadPlacesTable(user) {
          if (!user) {
            placesTableContainer.style.display = 'none';
            return;
          }
          // Kullanƒ±cƒ±ya ait places koleksiyonu yolu
          const placesCol = collection(db, `users/${user.uid}/places`);
          const snapshot = await getDocs(placesCol);

          // Tabloyu temizle
          placesTableBody.innerHTML = '';

          // Filtre comboboxlarƒ±nƒ± hazƒ±rla
          const countryFilter = document.getElementById('countryFilter');
          const visitedFilter = document.getElementById('visitedFilter');
          // Arama kutusu sadece √∂neri i√ßin, filtreleme yok

          // T√ºm √ºlkeleri topla ve normalize et
          const places = [];
          const countrySet = new Set();
          snapshot.forEach(doc => {
            const data = doc.data();
            places.push({ ...data, _docId: doc.id });
            if (data.country) {
              // ƒ∞ngilizce anahtara normalize et
              const englishKey = getEnglishCountryKeySafe(data.country);
              countrySet.add(englishKey);
            }
          });
          const countries = Array.from(countrySet).sort();

          // T√ºrk√ße isme g√∂re sƒ±rala
          countries.sort((a, b) => {
            const trA = toTurkishUpper(countryNames[a]?.[currentLang] || a);
            const trB = toTurkishUpper(countryNames[b]?.[currentLang] || b);
            return trA.localeCompare(trB, 'tr');
          });
          // √úlke combobox'ƒ±nƒ± doldur (sadece ilk y√ºklemede veya √ºlke sayƒ±sƒ± deƒüi≈ütiyse)
          if (countryFilter.options.length === 0 || countryFilter.options.length !== countries.length) {
            countryFilter.innerHTML = '';
            countries.forEach(englishKey => {
              const opt = document.createElement('option');
              opt.value = englishKey;
              const trName = countryNames[englishKey]?.[currentLang] || englishKey;
              opt.textContent = toTurkishUpper(trName);
              countryFilter.appendChild(opt);
            });
          }
          // Varsayƒ±lan √ºlke: ALMANYA
          if (!countryFilter.value) countryFilter.value = 'ALMANYA';
          // Varsayƒ±lan ziyaret filtresi: Gezilmedi
          if (!visitedFilter.value) visitedFilter.value = 'notvisited';

          // Filtreye g√∂re verileri s√ºz
          let filtered = [];
          const selectedCountry = countryFilter.value;
          const selectedVisited = visitedFilter.value;
          filtered = places.filter(p => getEnglishCountryKeySafe(p.country) === selectedCountry);
          if (selectedVisited === 'visited') filtered = filtered.filter(p => p.visited);
          else if (selectedVisited === 'notvisited') filtered = filtered.filter(p => !p.visited);

          filtered.sort((a, b) => (a.city || '').localeCompare(b.city || ''));
          filtered.forEach(data => {
            const row = document.createElement('tr');
            const categoryHtml = (data.category || '').replace(/\s*\/\s*/g, '<br>');
            const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent((data.name || '') + ' ' + (data.city || '') + ' ' + (data.country || ''))}`;
            row.innerHTML = `
              <td class="name">${data.name || ''}</td>
              <td>${data.city || ''}</td>
              <td>${categoryHtml}</td>
              <td class="description">${data.description || ''}</td>
              <td style="text-align:center;"><input type="checkbox" class="visited-checkbox" data-docid="${data._docId}" ${data.visited ? 'checked' : ''}></td>
              <td style="text-align:center;"><input type="checkbox" class="route-checkbox" data-name="${data.name || ''}" data-city="${data.city || ''}" data-country="${data.country || ''}"></td>
              <td style="text-align:center;"><a href="${googleMapsUrl}" target="_blank" style="background:#4285f4;color:white;border:none;padding:4px 8px;border-radius:5px;text-decoration:none;font-size:12px;">üó∫Ô∏è Maps</a></td>
              <td style="text-align:center;"><button class="delete-place-btn" data-docid="${data._docId}" style="background:#dc3545;color:white;border:none;padding:4px 10px;border-radius:5px;cursor:pointer;">Sil</button></td>
            `;
            placesTableBody.appendChild(row);
          });

          // Checkbox event listener
          document.querySelectorAll('.visited-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', async (e) => {
              const docId = e.target.getAttribute('data-docid');
              const checked = e.target.checked;
              try {
                const placeDocRef = collection(db, `users/${user.uid}/places`);
                // Firestore doc() ile referans olu≈ütur
                const { doc, updateDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
                const ref = doc(db, `users/${user.uid}/places`, docId);
                await updateDoc(ref, { visited: checked });
              } catch (err) {
                alert('G√ºncelleme hatasƒ±: ' + err.message);
                e.target.checked = !checked; // Hata olursa eski haline d√∂nd√ºr
              }
            });
          });

          // Silme butonu event listener
          document.querySelectorAll('.delete-place-btn').forEach(btn => {
            btn.addEventListener('click', async (e) => {
              const docId = e.target.getAttribute('data-docid');
              if (!confirm('Bu yeri silmek istediƒüinize emin misiniz?')) return;
              try {
                const { doc, deleteDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
                const ref = doc(db, `users/${user.uid}/places`, docId);
                await deleteDoc(ref);
                showStatus('Yer silindi.', 'success');
                loadPlacesTable(user);
              } catch (err) {
                showStatus('Silme hatasƒ±: ' + err.message, 'error');
              }
            });
          });

          // Rota olu≈üturma butonu event listener
          const createRouteBtn = document.getElementById('createRouteBtn');
          if (createRouteBtn) {
            createRouteBtn.addEventListener('click', () => {
              createGoogleMapsRoute();
            });
          }

          // Akƒ±llƒ± ekleme butonu event listener
          universalAddBtn.addEventListener('click', async () => {
            const inputValue = universalSearchBox.value.trim();
            if (!inputValue) {
              showStatus('L√ºtfen bir yer, ≈üehir veya √ºlke adƒ± girin!', 'error');
              return;
            }
            
            const user = auth.currentUser;
            if (!user) {
              showStatus('L√ºtfen √∂nce giri≈ü yapƒ±n!', 'error');
              return;
            }
            
            // Akƒ±llƒ± tespit sistemi
            await smartAddLocation(inputValue, user);
          });
          
          // Akƒ±llƒ± tespit fonksiyonu
          async function smartAddLocation(inputValue, user) {
            try {
              showStatus('Girilen metin analiz ediliyor...', 'info');
              
              // 1. √ñnce pop√ºler yerler JSON'unda ara (√∂zel yer)
              let placeData = null;
              try {
                const response = await fetch('/popular-places.json');
                const popularPlaces = await response.json();
                placeData = popularPlaces.find(p =>
                  p.name_tr?.toLowerCase().includes(inputValue.toLowerCase()) ||
                  p.name_en?.toLowerCase().includes(inputValue.toLowerCase())
                );
              } catch {}
              
              if (placeData) {
                // √ñzel yer olarak ekle
                await addDoc(collection(db, `users/${user.uid}/places`), {
                  name: placeData.name_tr || inputValue,
                  city: placeData.city_tr || '',
                  country: (placeData.country_tr || '').toUpperCase(),
                  category: placeData.category_tr || '',
                  description: placeData.description_tr || '',
                  visited: false,
                  name_en: placeData.name_en || '',
                  city_en: placeData.city_en || '',
                  country_en: (placeData.country_en || '').toUpperCase(),
                  category_en: placeData.category_en || '',
                  description_en: placeData.description_en || ''
                });
                showStatus(`${inputValue} √∂zel yer olarak eklendi!`, 'success');
                universalSearchBox.value = '';
                loadPlacesTable(user);
                return;
              }
              
              // 2. ≈ûehir/√ºlke kontrol√º - b√ºy√ºk harfle ba≈ülƒ±yorsa veya bilinen ≈üehir/√ºlke isimleri
              const cityCountryKeywords = ['city', '≈üehir', '√ºlke', 'country'];
              const knownCities = ['istanbul', 'ankara', 'izmir', 'berlin', 'paris', 'london', 'rome', 'madrid', 'barcelona', 'munich', 'vienna', 'prague', 'budapest', 'warsaw', 'amsterdam', 'brussels', 'zurich', 'geneva', 'milan', 'florence', 'venice', 'naples', 'lisbon', 'porto', 'athens', 'dublin', 'edinburgh', 'stockholm', 'oslo', 'copenhagen', 'helsinki'];
              const knownCountries = ['turkey', 't√ºrkiye', 'germany', 'almanya', 'france', 'fransa', 'italy', 'italya', 'spain', 'ispanya', 'england', 'ingiltere', 'netherlands', 'hollanda', 'belgium', 'bel√ßika', 'austria', 'avusturya', 'switzerland', 'isvi√ßre', 'portugal', 'portekiz', 'greece', 'yunanistan'];
              
              const isCity = knownCities.some(city => inputValue.toLowerCase().includes(city));
              const isCountry = knownCountries.some(country => inputValue.toLowerCase().includes(country));
              const startsWithCapital = /^[A-Z√áƒûƒ∞√ñ≈û√ú]/.test(inputValue);
              
              if (isCity || isCountry || startsWithCapital) {
                // ≈ûehir/√ºlke i√ßin turistik yerler ekle
                await addTouristPlacesForLocation(inputValue, user);
                return;
              }
              
              // 3. Varsayƒ±lan: √∂zel yer olarak ekle
              await addDoc(collection(db, `users/${user.uid}/places`), {
                name: inputValue,
                city: '',
                country: (countryFilter.value || '').toUpperCase(),
                category: '',
                description: '',
                visited: false
              });
              showStatus(`${inputValue} yer olarak eklendi!`, 'success');
              universalSearchBox.value = '';
              loadPlacesTable(user);
              
            } catch (err) {
              showStatus('Ekleme sƒ±rasƒ±nda hata: ' + err.message, 'error');
            }
          }

          placesTableContainer.style.display = '';
        }

        // ≈ûehir/√úlke i√ßin turistik yerler ekleme fonksiyonu
         async function addTouristPlacesForLocation(location, user) {
           if (!location) {
             showStatus('L√ºtfen bir ≈üehir veya √ºlke adƒ± girin!', 'error');
             return;
           }
           
           if (!user) {
             showStatus('L√ºtfen √∂nce giri≈ü yapƒ±n!', 'error');
             return;
           }
           
           try {
             showStatus(`${location} i√ßin turistik yerler ara≈ütƒ±rƒ±lƒ±yor...`, 'info');
             
             // T√ºrkiye i√ßin √∂zel durum - ≈üehir isimleri √∂ner
             if (location.toLowerCase() === 't√ºrkiye' || location.toLowerCase() === 'turkey') {
               showStatus('T√ºrkiye i√ßin l√ºtfen ≈üehir adƒ± girin (√∂rn: ƒ∞stanbul, Ankara, ƒ∞zmir, Antalya, Kapadokya). √úlke geneli i√ßin √ßok fazla yer bulunur.', 'info');
               return;
             }
             
             // √ñnce ≈üehir kontrol√º yap - ≈üehir haritasƒ±nda var mƒ±?
             const detectedCountry = detectCountryFromCity(location);
             if (detectedCountry) {
               // Bu bir ≈üehir, ≈üehir yerlerini ekle
             await addCityPlaces(user, location);
             return;
           }
           
           // ≈ûehir deƒüilse, √ºlke kontrol√º yap
           const countryData = await checkIfCountryExists(location);
           if (countryData) {
             await addCountryPlaces(user, countryData, location);
             return;
           }
             
             // Ne ≈üehir ne de √ºlke olarak tanƒ±nmƒ±yorsa
             showStatus(`${location} ≈üehir veya √ºlke olarak tanƒ±nmadƒ±. L√ºtfen ge√ßerli bir ≈üehir veya √ºlke adƒ± girin.`, 'error');
             
           } catch (error) {
             console.error('Turistik yerler eklenirken hata:', error);
             showStatus('Turistik yerler eklenirken bir hata olu≈ütu: ' + error.message, 'error');
           }
         }
         
         // √úlke kontrol√º - dinamik web ara≈ütƒ±rmasƒ± ile
         async function checkIfCountryExists(countryName) {
           const countryFiles = {
             'almanya': 'popular-germany.json', 'germany': 'popular-germany.json',
             'fransa': 'popular-france.json', 'france': 'popular-france.json',
             'italya': 'popular-italy.json', 'italy': 'popular-italy.json',
             'ispanya': 'popular-spain.json', 'spain': 'popular-spain.json',
             'hollanda': 'popular-netherlands.json', 'netherlands': 'popular-netherlands.json',
             'isvi√ßre': 'popular-switzerland.json', 'switzerland': 'popular-switzerland.json',
             'bel√ßika': 'popular-belgium.json', 'belgium': 'popular-belgium.json',
             'avusturya': 'popular-austria.json', 'austria': 'popular-austria.json',
             'polonya': 'popular-poland.json', 'poland': 'popular-poland.json',
             '√ßek cumhuriyeti': 'popular-czech-republic.json', 'czech republic': 'popular-czech-republic.json',
             'macaristan': 'popular-hungary.json', 'hungary': 'popular-hungary.json',
             'romanya': 'popular-romania.json', 'romania': 'popular-romania.json',
             'yunanistan': 'popular-greece.json', 'greece': 'popular-greece.json',
             'portekiz': 'popular-portugal.json', 'portugal': 'popular-portugal.json',
             'hƒ±rvatistan': 'popular-croatia.json', 'croatia': 'popular-croatia.json',
             'slovenya': 'popular-slovenia.json', 'slovenia': 'popular-slovenia.json',
             'bulgaristan': 'popular-bulgaria.json', 'bulgaria': 'popular-bulgaria.json',
             'slovakya': 'popular-slovakia.json', 'slovakia': 'popular-slovakia.json',
             'estonya': 'popular-estonia.json', 'estonia': 'popular-estonia.json',
             'letonya': 'popular-latvia.json', 'latvia': 'popular-latvia.json',
             'litvanya': 'popular-lithuania.json', 'lithuania': 'popular-lithuania.json',
             'g√ºney kore': 'popular-south-korea.json', 'south korea': 'popular-south-korea.json',
             'japonya': 'popular-japan.json', 'japan': 'popular-japan.json',
             '√ßin': 'popular-china.json', 'china': 'popular-china.json'
           };
           
           const fileName = countryFiles[countryName.toLowerCase()];
           if (fileName) {
             try {
               const response = await fetch(`/json/${fileName}`);
               if (response.ok) {
                 const data = await response.json();
                 return { fileName, data };
               }
             } catch (error) {
               console.error('√úlke dosyasƒ± y√ºklenirken hata:', error);
             }
           }
           
           // Eƒüer mevcut dosyalarda yoksa, dinamik olarak web ara≈ütƒ±rmasƒ± yap
           return await generateCountryPlacesFromWeb(countryName);
         }
         
         // Web ara≈ütƒ±rmasƒ± ile √ºlke turistik yerlerini olu≈ütur
         async function generateCountryPlacesFromWeb(countryName) {
           try {
             // Kullanƒ±cƒ±ya bilgi ver
             showStatus(`${countryName} i√ßin turistik yerler ara≈ütƒ±rƒ±lƒ±yor...`, 'info');
             
             // Foursquare API'den √ºlke i√ßin turistik yerler √ßek
             const foursquarePlaces = await getOpenTripMapPlaces(countryName);
             
             if (foursquarePlaces && foursquarePlaces.length >= 10) {
               return {
                 fileName: `dynamic-${countryName.toLowerCase().replace(/\s+/g, '-')}.json`,
                 data: foursquarePlaces
               };
             } else {
               console.warn(`${countryName} i√ßin yeterli turistik yer bulunamadƒ±:`, foursquarePlaces?.length || 0);
               return null;
             }
           } catch (error) {
             console.error(`${countryName} i√ßin web ara≈ütƒ±rmasƒ± hatasƒ±:`, error);
             return null;
           }
         }
         
         // √úlke i√ßin turistik yerler ara
         async function searchTouristPlacesForCountry(countryName) {
           // √úlke adƒ±nƒ± normalize et
           const normalizedCountry = normalizeCountryName(countryName);
           
           // √úlkeye √∂zel turistik yerler veritabanƒ±
           const countryAttractions = {
             'brezilya': [
               { name: 'Christ the Redeemer', city: 'Rio de Janeiro', category: 'Anƒ±t', description: 'Rio de Janeiro\'da bulunan d√ºnyaca √ºnl√º ƒ∞sa heykeli. Art Deco tarzƒ±nda in≈üa edilen bu 30 metre y√ºksekliƒüindeki heykel, ≈üehrin simgesi ve Brezilya\'nƒ±n en √∂nemli turistik yerlerinden biridir.' },
               { name: 'Sugarloaf Daƒüƒ±', city: 'Rio de Janeiro', category: 'Doƒüal G√ºzellik', description: 'Rio de Janeiro\'nƒ±n simgesel daƒüƒ±. Teleferikle √ßƒ±kƒ±lan bu 396 metre y√ºksekliƒüindeki daƒüdan ≈üehrin ve Copacabana plajƒ±nƒ±n muhte≈üem manzarasƒ± izlenir.' },
               { name: 'Iguazu ≈ûelaleleri', city: 'Foz do Igua√ßu', category: 'Doƒüal G√ºzellik', description: 'Arjantin sƒ±nƒ±rƒ±nda bulunan d√ºnyaca √ºnl√º ≈üelaleler. 275 adet ≈üelaleden olu≈üan bu doƒüa harikasƒ±, UNESCO D√ºnya Mirasƒ± listesindedir.' },
               { name: 'Copacabana Plajƒ±', city: 'Rio de Janeiro', category: 'Plaj', description: 'D√ºnyanƒ±n en √ºnl√º plajlarƒ±ndan biri. 4 km uzunluƒüundaki bu plaj, beyaz kumlarƒ± ve canlƒ± atmosferiyle Rio\'nun kalbidir.' },
               { name: 'Amazon Yaƒümur Ormanlarƒ±', city: 'Manaus', category: 'Doƒüal G√ºzellik', description: 'D√ºnyanƒ±n en b√ºy√ºk yaƒümur ormanƒ±. Binlerce bitki ve hayvan t√ºr√ºne ev sahipliƒüi yapan bu orman, d√ºnyanƒ±n akciƒüerleri olarak bilinir.' },
               { name: 'Pantanal', city: 'Cuiab√°', category: 'Doƒüal G√ºzellik', description: 'D√ºnyanƒ±n en b√ºy√ºk sulak alanƒ±. Jaguar, kaiman ve y√ºzlerce ku≈ü t√ºr√ºn√ºn ya≈üadƒ±ƒüƒ± bu b√∂lge, doƒüa severler i√ßin cennet.' },
               { name: 'Salvador Tarihi Merkezi', city: 'Salvador', category: 'Tarihi B√∂lge', description: 'Kolonyal d√∂nem mimarisinin en g√ºzel √∂rneklerinin bulunduƒüu tarihi merkez. Renkli evleri ve cobblestone sokaklarƒ± ile UNESCO D√ºnya Mirasƒ±.' },
               { name: 'Fernando de Noronha', city: 'Fernando de Noronha', category: 'Ada', description: 'Brezilya\'nƒ±n cennet adasƒ±. Kristal berraklƒ±ƒüƒ±ndaki sularƒ±, renkli mercan resifleri ve egzotik deniz ya≈üamƒ± ile dalƒ±≈ü tutkunlarƒ±nƒ±n g√∂zdesi.' },
               { name: 'Len√ß√≥is Maranhenses', city: 'Barreirinhas', category: 'Doƒüal G√ºzellik', description: 'Beyaz kum tepeleri ve turkuaz g√∂ller arasƒ±nda olu≈üan s√ºrreal manzara. Yaƒümur mevsiminde olu≈üan bu doƒüa harikasƒ±, d√ºnyanƒ±n en benzersiz yerlerinden biri.' },
               { name: 'Ouro Preto', city: 'Ouro Preto', category: 'Tarihi ≈ûehir', description: 'Altƒ±n madenciliƒüi d√∂neminden kalma barok mimarisi ile √ºnl√º tarihi ≈üehir. Ta≈ü d√∂≈üeli sokaklarƒ± ve kolonyal kiliseler ile UNESCO D√ºnya Mirasƒ±.' }
             ],
             'arjantin': [
               { name: 'Iguazu ≈ûelaleleri', city: 'Puerto Iguazu', category: 'Doƒüal G√ºzellik', description: 'Brezilya sƒ±nƒ±rƒ±nda bulunan muhte≈üem ≈üelaleler. 275 adet ≈üelaleden olu≈üan bu doƒüa harikasƒ±, UNESCO D√ºnya Mirasƒ± listesindedir.' },
               { name: 'Perito Moreno Buzulu', city: 'El Calafate', category: 'Buzul', description: 'Patagonia\'da bulunan aktif buzul. 250 km¬≤ alana sahip bu buzul, s√ºrekli hareket halinde olup buzul kƒ±rƒ±lmalarƒ± izlenebilir.' },
               { name: 'Buenos Aires Tango Mahallesi', city: 'Buenos Aires', category: 'K√ºlt√ºrel B√∂lge', description: 'Tango\'nun doƒüduƒüu renkli mahalle La Boca. Caminito sokaƒüƒ±, renkli evleri ve sokak sanat√ßƒ±larƒ± ile √ºnl√ºd√ºr.' },
               { name: 'Mendoza ≈ûarap B√∂lgesi', city: 'Mendoza', category: '≈ûarap B√∂lgesi', description: 'And Daƒülarƒ± eteklerinde bulunan d√ºnyaca √ºnl√º ≈üarap b√∂lgesi. Malbec √ºz√ºm√º ile √ºnl√º bu b√∂lgede ≈üarap tadƒ±mlarƒ± yapƒ±lƒ±r.' },
               { name: 'Ushuaia', city: 'Ushuaia', category: '≈ûehir', description: 'D√ºnyanƒ±n en g√ºney ≈üehri. Tierra del Fuego\'da bulunan bu ≈üehir, Antarktika turlarƒ±nƒ±n ba≈ülangƒ±√ß noktasƒ±dƒ±r.' },
               { name: 'Salta', city: 'Salta', category: 'Tarihi ≈ûehir', description: 'Kolonyal mimarisi ile √ºnl√º g√ºzel ≈üehir. And Daƒülarƒ±\'nƒ±n eteklerinde bulunan bu ≈üehir, geleneksel Arjantin k√ºlt√ºr√ºn√ºn merkezi.' },
               { name: 'Bariloche', city: 'San Carlos de Bariloche', category: 'Doƒüal G√ºzellik', description: 'G√∂ller b√∂lgesinde bulunan tatil ≈üehri. Nahuel Huapi G√∂l√º kƒ±yƒ±sƒ±nda yer alan bu ≈üehir, kayak ve doƒüa sporlarƒ± i√ßin √ºnl√º.' },
               { name: 'Pen√≠nsula Vald√©s', city: 'Puerto Madryn', category: 'Doƒüal G√ºzellik', description: 'Balina g√∂zlemi i√ßin d√ºnyaca √ºnl√º yarƒ±mada. G√ºney balinalarƒ±nƒ±n √ºreme alanƒ± olan bu b√∂lge, UNESCO D√ºnya Mirasƒ±.' },
               { name: 'Quebrada de Humahuaca', city: 'Humahuaca', category: 'Doƒüal G√ºzellik', description: 'Renkli kayalƒ±klarƒ± ile √ºnl√º vadi. And Daƒülarƒ±\'nda bulunan bu vadi, UNESCO D√ºnya Mirasƒ± listesindedir.' },
               { name: 'El Chalten', city: 'El Chalten', category: 'Doƒüal G√ºzellik', description: 'Fitz Roy Daƒüƒ±\'nƒ±n eteklerinde bulunan trekking cenneti. Patagonia\'nƒ±n en g√ºzel manzaralarƒ±na sahip bu b√∂lge, daƒücƒ±larƒ±n g√∂zdesi.' }
             ],
             'meksika': [
               { name: 'Chichen Itza', city: 'Yucatan', category: 'Tarihi Yapƒ±', description: 'Maya medeniyetinin en √∂nemli kalƒ±ntƒ±larƒ±ndan biri. El Castillo piramidi ile √ºnl√º bu antik ≈üehir, UNESCO D√ºnya Mirasƒ± ve D√ºnyanƒ±n Yedi Harikasƒ±\'ndan biri.' },
               { name: 'Teotihuacan', city: 'Mexico City', category: 'Tarihi Yapƒ±', description: 'G√ºne≈ü ve Ay piramitleri ile √ºnl√º antik ≈üehir. M√ñ 100-650 yƒ±llarƒ± arasƒ±nda Mesoamerika\'nƒ±n en b√ºy√ºk ≈üehri olan bu yer, UNESCO D√ºnya Mirasƒ±.' },
               { name: 'Cancun', city: 'Cancun', category: 'Plaj', description: 'Karayip Denizi kƒ±yƒ±sƒ±nda bulunan tatil cenneti. Beyaz kumlu plajlarƒ±, turkuaz denizi ve Maya kalƒ±ntƒ±larƒ± ile √ºnl√º.' },
               { name: 'Tulum', city: 'Tulum', category: 'Tarihi Yapƒ±', description: 'Karayip kƒ±yƒ±sƒ±nda bulunan Maya kalƒ±ntƒ±larƒ±. Deniz manzaralƒ± konumu ile d√ºnyanƒ±n en g√ºzel antik ≈üehirlerinden biri.' },
               { name: 'Palenque', city: 'Chiapas', category: 'Tarihi Yapƒ±', description: 'Yaƒümur ormanlarƒ± i√ßinde bulunan Maya ≈üehri. Tapƒ±nak ve saraylarƒ± ile Maya mimarisinin en g√ºzel √∂rneklerini sunar.' },
               { name: 'Guanajuato', city: 'Guanajuato', category: 'Tarihi ≈ûehir', description: 'Renkli evleri ve yeraltƒ± t√ºnelleri ile √ºnl√º kolonyal ≈üehir. G√ºm√º≈ü madenciliƒüi d√∂neminden kalma mimarisi ile UNESCO D√ºnya Mirasƒ±.' },
               { name: 'Oaxaca', city: 'Oaxaca', category: 'K√ºlt√ºrel ≈ûehir', description: 'Geleneksel Meksika k√ºlt√ºr√ºn√ºn kalbi. El sanatlarƒ±, yerel mutfaƒüƒ± ve kolonyal mimarisi ile √ºnl√º UNESCO D√ºnya Mirasƒ± ≈üehri.' },
               { name: 'Copper Canyon', city: 'Chihuahua', category: 'Doƒüal G√ºzellik', description: 'Grand Canyon\'dan daha derin olan kanyon sistemi. Tarahumara yerlilerinin ya≈üadƒ±ƒüƒ± bu b√∂lge, tren yolculuƒüu ile ke≈üfedilir.' },
               { name: 'Isla Mujeres', city: 'Quintana Roo', category: 'Ada', description: 'Cancun yakƒ±nlarƒ±nda bulunan k√º√ß√ºk ada. Kristal berraklƒ±ƒüƒ±ndaki sularƒ± ve rahat atmosferi ile balayƒ± √ßiftlerinin g√∂zdesi.' },
               { name: 'Puebla', city: 'Puebla', category: 'Tarihi ≈ûehir', description: 'Barok mimarisi ve renkli √ßinileri ile √ºnl√º kolonyal ≈üehir. Mole poblano\'nun doƒüduƒüu yer olan bu ≈üehir, UNESCO D√ºnya Mirasƒ±.' }
             ]
           };
           
           // √úlke adƒ±nƒ± kontrol et ve e≈üle≈ütir
           const countryKey = Object.keys(countryAttractions).find(key => 
             key.toLowerCase() === normalizedCountry.toLowerCase() ||
             translateCountryName(key).toLowerCase() === normalizedCountry.toLowerCase()
           );
           
           if (countryKey) {
             return countryAttractions[countryKey].map(place => ({
               name: place.name,
               city: place.city,
               country: countryName,
               category: place.category,
               description: place.description,
               visited: false
             }));
           }
           
           // Eƒüer √∂zel veritabanƒ±nda yoksa, genel turistik yerler olu≈ütur
           return generateGenericTouristPlaces(countryName);
         }
         
         // √úlke adƒ±nƒ± normalize et
         function normalizeCountryName(countryName) {
           const countryMap = {
             'brazil': 'brezilya', 'brasil': 'brezilya', 'brezilya': 'brezilya',
             'argentina': 'arjantin', 'arjantin': 'arjantin',
             'mexico': 'meksika', 'm√©xico': 'meksika', 'meksika': 'meksika',
             'united states': 'amerika', 'usa': 'amerika', 'amerika': 'amerika',
             'canada': 'kanada', 'kanada': 'kanada',
             'australia': 'avustralya', 'avustralya': 'avustralya',
             'india': 'hindistan', 'hindistan': 'hindistan',
             'russia': 'rusya', 'rusya': 'rusya'
           };
           
           return countryMap[countryName.toLowerCase()] || countryName;
         }
         
         // √úlke adƒ±nƒ± √ßevir
         function translateCountryName(countryKey) {
           const translations = {
             'brezilya': 'brazil',
             'arjantin': 'argentina', 
             'meksika': 'mexico'
           };
           
           return translations[countryKey] || countryKey;
         }
         
         // Genel turistik yerler olu≈ütur
         function generateGenericTouristPlaces(countryName) {
           const genericPlaces = [
             { name: `${countryName} Ulusal M√ºzesi`, category: 'M√ºze', description: `${countryName}'nƒ±n en √∂nemli m√ºzesi. √úlkenin tarihi, k√ºlt√ºr√º ve sanatƒ± hakkƒ±nda kapsamlƒ± bilgi sunar.` },
             { name: `${countryName} Merkez Meydanƒ±`, category: 'Meydan', description: `${countryName}'nƒ±n kalbi olan ana meydan. Tarihi binalar ve √∂nemli anƒ±tlarla √ßevrili.` },
             { name: `${countryName} Sarayƒ±`, category: 'Saray', description: `${countryName}'nƒ±n tarihi sarayƒ±. Kraliyet mimarisi ve muhte≈üem bah√ßeleri ile √ºnl√º.` },
             { name: `${countryName} Katedrali`, category: 'Dini Yapƒ±', description: `${countryName}'nƒ±n en √∂nemli dini yapƒ±sƒ±. Gotik mimarisi ve tarihi √∂nemi ile dikkat √ßeker.` },
             { name: `${countryName} Ulusal Parkƒ±`, category: 'Doƒüal G√ºzellik', description: `${countryName}'nƒ±n en g√ºzel doƒüal alanƒ±. Endemik bitki ve hayvan t√ºrleri barƒ±ndƒ±rƒ±r.` },
             { name: `${countryName} Sanat Galerisi`, category: 'Galeri', description: `${countryName}'nƒ±n en prestijli sanat galerisi. Yerel ve uluslararasƒ± sanat eserlerini sergiler.` },
             { name: `${countryName} Kalesi`, category: 'Kale', description: `${countryName}'nƒ±n tarihi kalesi. Orta√ßaƒü mimarisi ve savunma sistemleri ile √ºnl√º.` },
             { name: `${countryName} Botanik Bah√ßesi`, category: 'Bah√ße', description: `${countryName}'nƒ±n en b√ºy√ºk botanik bah√ßesi. Binlerce bitki t√ºr√º ve huzurlu atmosfer.` },
             { name: `${countryName} Opera Binasƒ±`, category: 'K√ºlt√ºr Merkezi', description: `${countryName}'nƒ±n en prestijli opera binasƒ±. Klasik mimarisi ve m√ºkemmel akustiƒüi ile √ºnl√º.` },
             { name: `${countryName} Tarihi K√∂pr√ºs√º`, category: 'K√∂pr√º', description: `${countryName}'nƒ±n simgesel k√∂pr√ºs√º. M√ºhendislik harikasƒ± olan bu yapƒ±, ≈üehrin √∂nemli ge√ßi≈ü noktasƒ±.` },
             { name: `${countryName} Plajƒ±`, category: 'Plaj', description: `${countryName}'nƒ±n en g√ºzel plajƒ±. Altƒ±n sarƒ±sƒ± kumlarƒ± ve berrak denizi ile tatil cenneti.` },
             { name: `${countryName} Daƒüƒ±`, category: 'Daƒü', description: `${countryName}'nƒ±n en y√ºksek daƒüƒ±. Muhte≈üem manzarasƒ± ve trekking rotalarƒ± ile doƒüa severlerinin g√∂zdesi.` }
           ];
           
           return genericPlaces.slice(0, 10); // ƒ∞lk 10 yeri d√∂nd√ºr
         }
         
         // √úlke yerlerini ekle (en az 10 yer kontrol√º)
         async function addCountryPlaces(user, countryData, countryName) {
           // Dinamik olarak olu≈üturulan veriler i√ßin data array'ini kontrol et
           const places = Array.isArray(countryData.data) ? countryData.data : countryData.data.places || [];
           
           // √úlke i√ßin en az 10 yer kontrol√º
           if (places.length < 10) {
             alert(`${countryName} i√ßin yeterli pop√ºler yer bulunamadƒ± (${places.length} yer mevcut, en az 10 gerekli). Yerler eklenmedi.`);
             return;
           }
           
           // Var olan √ºlke yerlerini kontrol et
           const existingCountryPlaces = await checkExistingCountryPlaces(user, countryName);
           if (existingCountryPlaces.length > 0) {
             alert(`${countryName} i√ßin yerler zaten eklenmi≈ütir. ${existingCountryPlaces.length} yer mevcut.`);
             return;
           }
           
           // ƒ∞lk 15 yeri al (veya mevcut sayƒ± kadar)
           const selectedPlaces = places.slice(0, Math.min(15, places.length));
           
           // Kullanƒ±cƒ±ya i≈ülem durumu bildir
           showStatus(`${countryName} i√ßin ${selectedPlaces.length} turistik yer ekleniyor...`, 'info');
           
           let addedCount = 0;
           for (const place of selectedPlaces) {
             const placeData = {
               name: place.name || 'Unknown Place',
               city: place.city || 'Unknown City',
               country: place.country || countryName || 'Unknown Country',
               category: place.category || 'Turistik Yer',
               description: place.description || '',
               visited: false,
               createdAt: new Date()
             };
             
             // Her bir yerin daha √∂nce eklenip eklenmediƒüini kontrol et
             const placeExists = await checkIfPlaceExists(user, placeData.name, placeData.city);
             if (!placeExists) {
               await addDoc(collection(db, 'users', user.uid, 'places'), placeData);
               addedCount++;
             }
           }
           
           if (addedCount > 0) {
             showStatus(`${countryName} i√ßin ${addedCount} yeni turistik yer ba≈üarƒ±yla eklendi!`, 'success');
           } else {
             showStatus(`${countryName} i√ßin t√ºm yerler zaten mevcut.`, 'info');
           }
           loadPlacesTable(user);
         }
         
         // Var olan ≈üehir yerlerini kontrol et
         async function checkExistingPlaces(user, cityName) {
           const placesRef = collection(db, 'users', user.uid, 'places');
           const q = query(placesRef, where('city', '==', cityName));
           const querySnapshot = await getDocs(q);
           return querySnapshot.docs.map(doc => doc.data());
         }
         
         // Belirli bir yerin daha √∂nce eklenip eklenmediƒüini kontrol et
         async function checkIfPlaceExists(user, placeName, cityName) {
           try {
             const placesRef = collection(db, 'users', user.uid, 'places');
             const q = query(placesRef, where('name', '==', placeName), where('city', '==', cityName));
             const querySnapshot = await getDocs(q);
             
             console.log(`Kontrol ediliyor: ${placeName} - ${cityName}, Sonu√ß: ${querySnapshot.size} adet`);
             
             return querySnapshot.size > 0;
           } catch (error) {
             console.error('Yer kontrol√º hatasƒ±:', error);
             return false;
           }
         }
         
         // Var olan √ºlke yerlerini kontrol et
         async function checkExistingCountryPlaces(user, countryName) {
           const placesRef = collection(db, 'users', user.uid, 'places');
           const q = query(placesRef, where('country', '==', countryName.toUpperCase()));
           const querySnapshot = await getDocs(q);
           return querySnapshot.docs.map(doc => doc.data());
         }
         
         // ≈ûehir yerlerini ekle (≈üehirler i√ßin minimum yer kontrol√º yok)
         async function addCityPlaces(user, cityName) {
           try {
             // √ñnce Firebase Functions'ƒ± test et
             console.log('Firebase Functions test ba≈ülatƒ±lƒ±yor...');
             const testResult = await testFirebaseFunctions();
             
             // √ñnce Foursquare API'den dinamik veri √ßek
             showStatus(`${cityName} i√ßin Foursquare'den turistik yerler aranƒ±yor...`, 'info');
             
             const foursquarePlaces = await getOpenTripMapPlaces(cityName);
             
             if (foursquarePlaces && foursquarePlaces.length > 0) {
               // Foursquare'den gelen verileri kullan
               showStatus(`${cityName} i√ßin ${foursquarePlaces.length} turistik yer bulundu. Ekleniyor...`, 'info');
               
               let addedCount = 0;
               let skippedCount = 0;
               for (const place of foursquarePlaces) {
                 console.log(`ƒ∞≈üleniyor: ${place.name} - ${place.city}`);
                 const placeExists = await checkIfPlaceExists(user, place.name, place.city);
                 if (!placeExists) {
                   console.log(`Ekleniyor: ${place.name}`);
                   await addDoc(collection(db, 'users', user.uid, 'places'), place);
                   addedCount++;
                 } else {
                   console.log(`Zaten mevcut, atlanƒ±yor: ${place.name}`);
                   skippedCount++;
                 }
               }
               
               if (addedCount > 0) {
                 showStatus(`${cityName} i√ßin ${addedCount} yeni turistik yer ba≈üarƒ±yla eklendi! ${skippedCount} yer zaten mevcut olduƒüu i√ßin atlandƒ±.`, 'success');
               } else {
                 showStatus(`${cityName} i√ßin t√ºm yerler zaten mevcut. ${skippedCount} yer kontrol edildi.`, 'info');
               }
               loadPlacesTable(user);
               return;
             }
             
             // Eƒüer Foursquare'den veri gelmezse, eski sistemi kullan
             showStatus(`${cityName} i√ßin yerel veritabanƒ±ndan yerler aranƒ±yor...`, 'info');
             
             // ≈ûehir i√ßin √ºlke tespiti
             const detectedCountry = detectCountryFromCity(cityName);
             
             // ≈ûehir i√ßin yerler olu≈ütur
             const cityPlaces = generateCityPlaces(cityName, detectedCountry);
             
             // ≈ûehirler i√ßin en az 1 yer yeterli
             if (!cityPlaces || cityPlaces.length === 0) {
               showStatus(`${cityName} i√ßin hi√ß pop√ºler yer bulunamadƒ±.`, 'error');
               return;
             }
             
             const countryFilter = document.getElementById('countryFilter');
             
             // √úlke filtresini otomatik ayarla (tespit edildiyse)
             if (detectedCountry && countryFilter) {
               countryFilter.value = detectedCountry;
               // Arka planƒ± da g√ºncelle
               if (window.enhancedBackgroundManager) {
                 window.enhancedBackgroundManager.updateBackgroundForCountry(detectedCountry);
               }
             }
             
             // ƒ∞lk 30 yeri al (veya mevcut sayƒ± kadar) - daha fazla yer g√∂ster
             const selectedPlaces = cityPlaces.slice(0, Math.min(30, cityPlaces.length));
             
             // Kullanƒ±cƒ±ya i≈ülem durumu bildir
             showStatus(`${cityName} i√ßin ${selectedPlaces.length} turistik yer ekleniyor...`, 'info');
             
             let addedCount = 0;
             let skippedCount = 0;
             for (const place of selectedPlaces) {
               console.log(`ƒ∞≈üleniyor: ${place.name} - ${place.city}`);
               // Her bir yerin daha √∂nce eklenip eklenmediƒüini kontrol et
               const placeExists = await checkIfPlaceExists(user, place.name, place.city);
               if (!placeExists) {
                 console.log(`Ekleniyor: ${place.name}`);
                 await addDoc(collection(db, 'users', user.uid, 'places'), place);
                 addedCount++;
               } else {
                 console.log(`Zaten mevcut, atlanƒ±yor: ${place.name}`);
                 skippedCount++;
               }
             }
             
             if (addedCount > 0) {
               showStatus(`${cityName} i√ßin ${addedCount} yeni turistik yer ba≈üarƒ±yla eklendi! ${skippedCount} yer zaten mevcut olduƒüu i√ßin atlandƒ±.`, 'success');
             } else {
               showStatus(`${cityName} i√ßin t√ºm yerler zaten mevcut. ${skippedCount} yer kontrol edildi.`, 'info');
             }
             loadPlacesTable(user);
           } catch (error) {
             console.error(`${cityName} ≈üehir yerleri eklenirken hata:`, error);
             showStatus(`${cityName} i√ßin yerler eklenirken hata olu≈ütu: ${error.message}`, 'error');
           }
         }
         
         // Test fonksiyonu - Firebase Functions'ƒ±n √ßalƒ±≈üƒ±p √ßalƒ±≈ümadƒ±ƒüƒ±nƒ± kontrol et
         async function testFirebaseFunctions() {
           try {
             const response = await fetch('https://us-central1-rotambenim.cloudfunctions.net/test');
             const data = await response.json();
             console.log('Firebase Functions test:', data);
             return data;
           } catch (error) {
             console.error('Firebase Functions test hatasƒ±:', error);
             return null;
           }
         }
         
         // OpenTripMap API'den turistik yerler √ßek
         async function getOpenTripMapPlaces(cityName) {
           try {
             console.log(`OpenTripMap API √ßaƒürƒ±sƒ± ba≈ülatƒ±lƒ±yor: ${cityName}`);
             
             // √ñnce ≈üehrin koordinatlarƒ±nƒ± al
             const geonameUrl = `https://api.opentripmap.com/0.1/en/places/geoname?name=${encodeURIComponent(cityName)}&apikey=5ae2e3f221c38a28845f05b65ba166329393551235361ab9b66e2889`;
             console.log('OpenTripMap Geoname URL:', geonameUrl);
             
             const geoResponse = await fetch(geonameUrl);
             
             if (!geoResponse.ok) {
               console.error('OpenTripMap Geoname API hatasƒ±:', geoResponse.status);
               return null;
             }
             
             const geoData = await geoResponse.json();
             console.log('OpenTripMap Geoname response:', geoData);
             
             if (!geoData.lat || !geoData.lon) {
               console.error('≈ûehir koordinatlarƒ± bulunamadƒ±');
               return null;
             }
             
             // ≈ûehir etrafƒ±ndaki turistik yerleri al
             const placesUrl = `https://api.opentripmap.com/0.1/en/places/radius?radius=50000&lat=${geoData.lat}&lon=${geoData.lon}&kinds=tourist_facilities,museums,theatres,architecture,historic,monuments,cultural,natural,religion,sport,amusements&limit=50&rate=2&apikey=5ae2e3f221c38a28845f05b65ba166329393551235361ab9b66e2889`;
             console.log('OpenTripMap Places URL:', placesUrl);
             
             const placesResponse = await fetch(placesUrl);
             
             if (!placesResponse.ok) {
               console.error('OpenTripMap Places API hatasƒ±:', placesResponse.status);
               return null;
             }
             
             const placesData = await placesResponse.json();
             console.log('OpenTripMap Places response:', placesData);
             
             if (placesData && placesData.length > 0) {
               console.log(`OpenTripMap'den ${placesData.length} yer bulundu`);
               
               // Her yer i√ßin detay bilgilerini al
               const detailedPlaces = [];
               
               for (let i = 0; i < Math.min(placesData.length, 20); i++) {
                 const place = placesData[i];
                 
                 try {
                   // Detay bilgilerini al
                   const detailUrl = `https://api.opentripmap.com/0.1/en/places/xid/${place.xid}?apikey=5ae2e3f221c38a28845f05b65ba166329393551235361ab9b66e2889`;
                   const detailResponse = await fetch(detailUrl);
                   
                   if (detailResponse.ok) {
                     const detailData = await detailResponse.json();
                     
                     // Sadece ismi olan ve a√ßƒ±klamasƒ± bulunan yerleri ekle
                     if (detailData.name && (detailData.wikipedia_extracts?.text || detailData.info?.descr)) {
                       detailedPlaces.push({
                         name: detailData.name,
                         city: cityName,
                         country: geoData.country || 'Bilinmeyen √úlke',
                         category: translateOpenTripMapCategory(detailData.kinds) || 'Turistik Yer',
                         description: detailData.wikipedia_extracts?.text || detailData.info?.descr || `${detailData.name} hakkƒ±nda detaylƒ± bilgi.`,
                         visited: false,
                         createdAt: new Date(),
                         source: 'opentripmap',
                         xid: detailData.xid,
                         address: detailData.address ? `${detailData.address.city || ''} ${detailData.address.state || ''} ${detailData.address.country || ''}`.trim() : '',
                         rating: detailData.rate ? parseInt(detailData.rate) : null,
                         image: detailData.preview?.source || null,
                         wikipedia: detailData.wikipedia || null,
                         coordinates: {
                           lat: detailData.point?.lat || place.geometry?.coordinates?.[1],
                           lon: detailData.point?.lon || place.geometry?.coordinates?.[0]
                         }
                       });
                     }
                   }
                   
                   // API rate limit i√ßin kƒ±sa bekleme
                   await new Promise(resolve => setTimeout(resolve, 100));
                 } catch (detailError) {
                   console.error('Detay bilgisi alƒ±nƒ±rken hata:', detailError);
                 }
               }
               
               console.log(`OpenTripMap'den ${detailedPlaces.length} detaylƒ± yer i≈ülendi`);
               return detailedPlaces;
             } else {
               console.log('OpenTripMap API\'den sonu√ß d√∂nd√ºr√ºlmedi veya bo≈ü');
             }
             
             return null;
           } catch (error) {
             console.error('OpenTripMap API √ßaƒürƒ±sƒ± hatasƒ±:', error);
             return null;
           }
         }
         
         // OpenTripMap kategori √ßevirisi
         function translateOpenTripMapCategory(kinds) {
           if (!kinds) return 'Turistik Yer';
           
           const kindsList = kinds.toLowerCase();
           
           if (kindsList.includes('museum')) return 'M√ºze';
           if (kindsList.includes('church') || kindsList.includes('religion')) return 'Dini Yapƒ±';
           if (kindsList.includes('monument') || kindsList.includes('historic')) return 'Tarihi Yapƒ±';
           if (kindsList.includes('architecture')) return 'Mimari Yapƒ±';
           if (kindsList.includes('theatre') || kindsList.includes('cultural')) return 'K√ºlt√ºrel Mekan';
           if (kindsList.includes('natural') || kindsList.includes('park')) return 'Doƒüal Alan';
           if (kindsList.includes('sport')) return 'Spor Tesisi';
           if (kindsList.includes('amusement')) return 'Eƒülence Merkezi';
           if (kindsList.includes('tourist')) return 'Turistik Tesis';
           
           return 'Turistik Yer';
         }
         
         // Foursquare API'den turistik yerler √ßek (yedek olarak)
         async function getFoursquarePlaces(cityName) {
           try {
             console.log(`Foursquare API √ßaƒürƒ±sƒ± ba≈ülatƒ±lƒ±yor: ${cityName}`);
             
             // Firebase Functions kullanarak Foursquare API √ßaƒürƒ±sƒ±
             const queryString = cityName + ' tourist attractions landmarks';
             const url = `https://us-central1-rotambenim.cloudfunctions.net/foursquare?query=${encodeURIComponent(queryString)}`;
             console.log('Foursquare API URL:', url);
             
             const response = await fetch(url);
             
             console.log('Foursquare API response status:', response.status);
             
             if (!response.ok) {
               console.error('Foursquare API hatasƒ±:', response.status);
               return null;
             }
             
             const data = await response.json();
             console.log('Foursquare API response data:', data);
             
             if (data.results && data.results.length > 0) {
               console.log(`Foursquare'den ${data.results.length} yer bulundu`);
               
               // Sadece ger√ßekten turistik yerleri filtrele
               const touristPlaces = data.results.filter(place => {
                 const category = place.categories?.[0]?.name?.toLowerCase() || '';
                 const name = place.name?.toLowerCase() || '';
                 
                 // Turistik kategori listesi
                 const touristCategories = [
                   'landmark', 'historic site', 'museum', 'park', 'church', 'mosque', 'temple',
                   'palace', 'castle', 'bridge', 'tower', 'monument', 'statue', 'fountain',
                   'garden', 'beach', 'mountain', 'lake', 'river', 'cave', 'waterfall',
                   'island', 'harbor', 'airport', 'university', 'library', 'theater',
                   'cinema', 'concert hall', 'opera house', 'stadium', 'arena', 'marina',
                   'amusement park', 'zoo', 'aquarium', 'planetarium', 'observatory',
                   'botanical garden', 'arboretum', 'conservatory', 'art gallery',
                   'tourist information', 'travel agency', 'resort', 'spa'
                 ];
                 
                 // Turistik isim anahtar kelimeleri
                 const touristKeywords = [
                   'museum', 'palace', 'castle', 'tower', 'bridge', 'cathedral', 'mosque',
                   'temple', 'park', 'garden', 'square', 'plaza', 'monument', 'statue',
                   'fountain', 'beach', 'mountain', 'lake', 'river', 'cave', 'waterfall',
                   'island', 'harbor', 'port', 'airport', 'university', 'library',
                   'theater', 'cinema', 'concert', 'opera', 'stadium', 'arena',
                   'amusement', 'zoo', 'aquarium', 'planetarium', 'observatory',
                   'botanical', 'arboretum', 'conservatory', 'gallery', 'tourist',
                   'travel', 'resort', 'spa', 'historic', 'ancient', 'old', 'traditional'
                 ];
                 
                 // Kategori kontrol√º
                 const isTouristCategory = touristCategories.some(cat => category.includes(cat));
                 
                 // ƒ∞sim kontrol√º
                 const isTouristName = touristKeywords.some(keyword => name.includes(keyword));
                 
                 // Rating kontrol√º (eƒüer rating varsa ve d√º≈ü√ºkse filtrele)
                 const hasGoodRating = !place.rating || place.rating >= 7.0;
                 
                 return isTouristCategory || isTouristName || hasGoodRating;
               });
               
               console.log(`Filtrelenmi≈ü turistik yerler: ${touristPlaces.length}`);
               
               return touristPlaces.map(place => ({
                 name: place.name || 'Bilinmeyen Yer',
                 city: cityName,
                 country: place.location?.country || 'Bilinmeyen √úlke',
                 category: translateCategory(place.categories?.[0]?.name) || 'Turistik Yer',
                 description: generateDetailedDescription(place, cityName),
                 visited: false,
                 createdAt: new Date(),
                 source: 'foursquare',
                 fsq_id: place.fsq_id,
                 address: place.location?.formatted_address || '',
                 rating: place.rating || null
               }));
             } else {
               console.log('Foursquare API\'den sonu√ß d√∂nd√ºr√ºlmedi veya bo≈ü');
             }
             
             return null;
           } catch (error) {
             console.error('Foursquare API √ßaƒürƒ±sƒ± hatasƒ±:', error);
             return null;
           }
         }
         
         // Kategori √ßeviri fonksiyonu
         function translateCategory(englishCategory) {
           const categoryTranslations = {
             tr: {
               'Landmark': 'Tarihi Yapƒ±',
               'Historic Site': 'Tarihi Yer',
               'Museum': 'M√ºze',
               'Park': 'Park',
               'Restaurant': 'Restoran',
               'Cafe': 'Kafe',
               'Bar': 'Bar',
               'Hotel': 'Otel',
               'Shopping Center': 'Alƒ±≈üveri≈ü Merkezi',
               'Church': 'Kilise',
               'Mosque': 'Cami',
               'Temple': 'Tapƒ±nak',
               'Palace': 'Saray',
               'Castle': 'Kale',
               'Bridge': 'K√∂pr√º',
               'Tower': 'Kule',
               'Monument': 'Anƒ±t',
               'Statue': 'Heykel',
               'Fountain': '√áe≈üme',
               'Garden': 'Bah√ße',
               'Beach': 'Sahil',
               'Mountain': 'Daƒü',
               'Lake': 'G√∂l',
               'River': 'Nehir',
               'Forest': 'Orman',
               'Cave': 'Maƒüara',
               'Waterfall': '≈ûelale',
               'Island': 'Ada',
               'Harbor': 'Liman',
               'Airport': 'Havalimanƒ±',
               'Train Station': 'Tren ƒ∞stasyonu',
               'Bus Station': 'Otob√ºs Duraƒüƒ±',
               'Metro Station': 'Metro ƒ∞stasyonu',
               'University': '√úniversite',
               'School': 'Okul',
               'Library': 'K√ºt√ºphane',
               'Hospital': 'Hastane',
               'Police Station': 'Polis Karakolu',
               'Fire Station': 'ƒ∞tfaiye',
               'Post Office': 'Postane',
               'Bank': 'Banka',
               'Pharmacy': 'Eczane',
               'Gas Station': 'Benzin ƒ∞stasyonu',
               'Car Wash': 'Oto Yƒ±kama',
               'Parking': 'Otopark',
               'ATM': 'Banka ATM',
               'Tourist Information': 'Turizm Bilgi',
               'Travel Agency': 'Seyahat Acentesi',
               'Hostel': 'Pansiyon',
               'Guest House': 'Misafirhane',
               'Apartment': 'Apartman',
               'Villa': 'Villa',
               'Resort': 'Tatil K√∂y√º',
               'Spa': 'Spa',
               'Gym': 'Spor Salonu',
               'Swimming Pool': 'Y√ºzme Havuzu',
               'Tennis Court': 'Tenis Kortu',
               'Golf Course': 'Golf Sahasƒ±',
               'Ski Resort': 'Kayak Merkezi',
               'Amusement Park': 'Eƒülence Parkƒ±',
               'Zoo': 'Hayvanat Bah√ßesi',
               'Aquarium': 'Akvaryum',
               'Planetarium': 'Gezegen Evi',
               'Observatory': 'G√∂zlemevi',
               'Botanical Garden': 'Botanik Bah√ße',
               'Arboretum': 'Aƒüa√ß M√ºzesi',
               'Conservatory': 'Konservatuvar',
               'Theater': 'Tiyatro',
               'Cinema': 'Sinema',
               'Concert Hall': 'Konser Salonu',
               'Opera House': 'Opera Binasƒ±',
               'Stadium': 'Stadyum',
               'Arena': 'Arena',
               'Race Track': 'Yarƒ±≈ü Pisti',
               'Marina': 'Marina',
               'Yacht Club': 'Yat Kul√ºb√º',
               'Fishing Spot': 'Balƒ±k Tutma Yeri',
               'Hiking Trail': 'Y√ºr√ºy√º≈ü Yolu',
               'Bike Path': 'Bisiklet Yolu',
               'Climbing Wall': 'Tƒ±rmanma Duvarƒ±',
               'Skate Park': 'Kaykay Parkƒ±',
               'Playground': 'Oyun Alanƒ±',
               'Sports Complex': 'Spor Kompleksi',
               'Fitness Center': 'Fitness Merkezi',
               'Yoga Studio': 'Yoga St√ºdyosu',
               'Pilates Studio': 'Pilates St√ºdyosu',
               'Dance Studio': 'Dans St√ºdyosu',
               'Art Gallery': 'Sanat Galerisi',
               'Antique Shop': 'Antika D√ºkkanƒ±',
               'Jewelry Store': 'Kuyumcu',
               'Bookstore': 'Kitap√ßƒ±',
               'Music Store': 'M√ºzik Maƒüazasƒ±',
               'Electronics Store': 'Elektronik Maƒüazasƒ±',
               'Clothing Store': 'Giyim Maƒüazasƒ±',
               'Shoe Store': 'Ayakkabƒ± Maƒüazasƒ±',
               'Department Store': 'Maƒüaza',
               'Supermarket': 'S√ºpermarket',
               'Market': 'Pazar',
               'Bakery': 'Fƒ±rƒ±n',
               'Butcher': 'Kasap',
               'Fish Market': 'Balƒ±k Pazarƒ±',
               'Flower Shop': '√ái√ßek√ßi',
               'Gift Shop': 'Hediye Maƒüazasƒ±',
               'Souvenir Shop': 'Hatƒ±ra E≈üya Maƒüazasƒ±',
               'Tattoo Parlor': 'D√∂vme Salonu',
               'Hair Salon': 'Kuaf√∂r',
               'Beauty Salon': 'G√ºzellik Salonu',
               'Nail Salon': 'Tƒ±rnak Salonu',
               'Massage Parlor': 'Masaj Salonu',
               'Dental Clinic': 'Di≈ü Kliniƒüi',
               'Medical Clinic': 'Tƒ±p Kliniƒüi',
               'Veterinary Clinic': 'Veteriner Kliniƒüi',
               'Pet Store': 'Evcil Hayvan Maƒüazasƒ±',
               'Hardware Store': 'Hƒ±rdavat√ßƒ±',
               'Home Improvement Store': 'Ev Geli≈ütirme Maƒüazasƒ±',
               'Furniture Store': 'Mobilya Maƒüazasƒ±',
               'Garden Center': 'Bah√ße Merkezi',
               'Nursery': 'Fide Yeri',
               'Greenhouse': 'Sera',
               'Farm': '√áiftlik',
               'Vineyard': 'Baƒü',
               'Winery': '≈ûarap Evi',
               'Brewery': 'Bira Evi',
               'Distillery': 'Rakƒ± Evi',
               'Factory': 'Fabrika',
               'Warehouse': 'Depo',
               'Office Building': 'Ofis Binasƒ±',
               'Shopping Mall': 'AVM',
               'Outlet': 'Outlet',
               'Flea Market': 'Bit Pazarƒ±',
               'Street Market': 'Sokak Pazarƒ±',
               'Food Court': 'Yemek Merkezi',
               'Food Truck': 'Yemek Kamyonu',
               'Street Food': 'Sokak Yemeƒüi',
               'Fast Food': 'Fast Food',
               'Pizza Place': 'Pizza Yeri',
               'Burger Joint': 'Burgerci',
               'Sushi Restaurant': 'Su≈üi Restoranƒ±',
               'Thai Restaurant': 'Tay Restoranƒ±',
               'Chinese Restaurant': '√áin Restoranƒ±',
               'Japanese Restaurant': 'Japon Restoranƒ±',
               'Korean Restaurant': 'Kore Restoranƒ±',
               'Indian Restaurant': 'Hint Restoranƒ±',
               'Mexican Restaurant': 'Meksika Restoranƒ±',
               'Italian Restaurant': 'ƒ∞talyan Restoranƒ±',
               'French Restaurant': 'Fransƒ±z Restoranƒ±',
               'Greek Restaurant': 'Yunan Restoranƒ±',
               'Turkish Restaurant': 'T√ºrk Restoranƒ±',
               'Lebanese Restaurant': 'L√ºbnan Restoranƒ±',
               'Moroccan Restaurant': 'Fas Restoranƒ±',
               'Spanish Restaurant': 'ƒ∞spanyol Restoranƒ±',
               'Portuguese Restaurant': 'Portekiz Restoranƒ±',
               'German Restaurant': 'Alman Restoranƒ±',
               'Austrian Restaurant': 'Avusturya Restoranƒ±',
               'Swiss Restaurant': 'ƒ∞svi√ßre Restoranƒ±',
               'Dutch Restaurant': 'Hollanda Restoranƒ±',
               'Belgian Restaurant': 'Bel√ßika Restoranƒ±',
               'Polish Restaurant': 'Polonya Restoranƒ±',
               'Czech Restaurant': '√áek Restoranƒ±',
               'Hungarian Restaurant': 'Macar Restoranƒ±',
               'Romanian Restaurant': 'Romanya Restoranƒ±',
               'Bulgarian Restaurant': 'Bulgar Restoranƒ±',
               'Serbian Restaurant': 'Sƒ±rp Restoranƒ±',
               'Croatian Restaurant': 'Hƒ±rvat Restoranƒ±',
               'Slovenian Restaurant': 'Sloven Restoranƒ±',
               'Slovak Restaurant': 'Slovak Restoranƒ±',
               'Ukrainian Restaurant': 'Ukrayna Restoranƒ±',
               'Russian Restaurant': 'Rus Restoranƒ±',
               'Georgian Restaurant': 'G√ºrc√º Restoranƒ±',
               'Armenian Restaurant': 'Ermeni Restoranƒ±',
               'Azerbaijani Restaurant': 'Azerbaycan Restoranƒ±',
               'Iranian Restaurant': 'ƒ∞ran Restoranƒ±',
               'Iraqi Restaurant': 'Irak Restoranƒ±',
               'Syrian Restaurant': 'Suriye Restoranƒ±',
               'Jordanian Restaurant': '√úrd√ºn Restoranƒ±',
               'Israeli Restaurant': 'ƒ∞srail Restoranƒ±',
               'Palestinian Restaurant': 'Filistin Restoranƒ±',
               'Egyptian Restaurant': 'Mƒ±sƒ±r Restoranƒ±',
               'Libyan Restaurant': 'Libya Restoranƒ±',
               'Tunisian Restaurant': 'Tunus Restoranƒ±',
               'Algerian Restaurant': 'Cezayir Restoranƒ±',
               'Mauritanian Restaurant': 'Moritanya Restoranƒ±',
               'Senegalese Restaurant': 'Senegal Restoranƒ±',
               'Gambian Restaurant': 'Gambiya Restoranƒ±',
               'Guinea-Bissau Restaurant': 'Gine-Bissau Restoranƒ±',
               'Guinean Restaurant': 'Gine Restoranƒ±',
               'Sierra Leonean Restaurant': 'Sierra Leone Restoranƒ±',
               'Liberian Restaurant': 'Liberya Restoranƒ±',
               'Ivorian Restaurant': 'Fildi≈üi Sahili Restoranƒ±',
               'Ghanaian Restaurant': 'Gana Restoranƒ±',
               'Togolese Restaurant': 'Togo Restoranƒ±',
               'Beninese Restaurant': 'Benin Restoranƒ±',
               'Nigerian Restaurant': 'Nijerya Restoranƒ±',
               'Cameroonian Restaurant': 'Kamerun Restoranƒ±',
               'Chadian Restaurant': '√áad Restoranƒ±',
               'Central African Restaurant': 'Orta Afrika Restoranƒ±',
               'Equatorial Guinean Restaurant': 'Ekvator Ginesi Restoranƒ±',
               'Gabonese Restaurant': 'Gabon Restoranƒ±',
               'Congolese Restaurant': 'Kongo Restoranƒ±',
               'Democratic Republic of the Congo Restaurant': 'Demokratik Kongo Cumhuriyeti Restoranƒ±',
               'Angolan Restaurant': 'Angola Restoranƒ±',
               'Zambian Restaurant': 'Zambiya Restoranƒ±',
               'Malawian Restaurant': 'Malavi Restoranƒ±',
               'Mozambican Restaurant': 'Mozambik Restoranƒ±',
               'Zimbabwean Restaurant': 'Zimbabve Restoranƒ±',
               'Botswanan Restaurant': 'Botsvana Restoranƒ±',
               'Namibian Restaurant': 'Namibya Restoranƒ±',
               'South African Restaurant': 'G√ºney Afrika Restoranƒ±',
               'Lesothoan Restaurant': 'Lesotho Restoranƒ±',
               'Eswatini Restaurant': 'Esvatini Restoranƒ±',
               'Madagascan Restaurant': 'Madagaskar Restoranƒ±',
               'Comorian Restaurant': 'Komor Restoranƒ±',
               'Mauritian Restaurant': 'Mauritius Restoranƒ±',
               'Seychellois Restaurant': 'Sey≈üel Restoranƒ±',
               'Djiboutian Restaurant': 'Cibuti Restoranƒ±',
               'Eritrean Restaurant': 'Eritre Restoranƒ±',
               'Ethiopian Restaurant': 'Etiyopya Restoranƒ±',
               'Somali Restaurant': 'Somali Restoranƒ±',
               'Kenyan Restaurant': 'Kenya Restoranƒ±',
               'Ugandan Restaurant': 'Uganda Restoranƒ±',
               'Tanzanian Restaurant': 'Tanzanya Restoranƒ±',
               'Rwandan Restaurant': 'Ruanda Restoranƒ±',
               'Burundian Restaurant': 'Burundi Restoranƒ±',
               'South Sudanese Restaurant': 'G√ºney Sudan Restoranƒ±',
               'Sudanese Restaurant': 'Sudan Restoranƒ±'
             },
             en: {
               'Landmark': 'Landmark',
               'Historic Site': 'Historic Site',
               'Museum': 'Museum',
               'Park': 'Park',
               'Restaurant': 'Restaurant',
               'Cafe': 'Cafe',
               'Bar': 'Bar',
               'Hotel': 'Hotel',
               'Shopping Center': 'Shopping Center',
               'Church': 'Church',
               'Mosque': 'Mosque',
               'Temple': 'Temple',
               'Palace': 'Palace',
               'Castle': 'Castle',
               'Bridge': 'Bridge',
               'Tower': 'Tower',
               'Monument': 'Monument',
               'Statue': 'Statue',
               'Fountain': 'Fountain',
               'Garden': 'Garden',
               'Beach': 'Beach',
               'Mountain': 'Mountain',
               'Lake': 'Lake',
               'River': 'River',
               'Forest': 'Forest',
               'Cave': 'Cave',
               'Waterfall': 'Waterfall',
               'Island': 'Island',
               'Harbor': 'Harbor',
               'Airport': 'Airport',
               'Train Station': 'Train Station',
               'Bus Station': 'Bus Station',
               'Metro Station': 'Metro Station',
               'University': 'University',
               'School': 'School',
               'Library': 'Library',
               'Hospital': 'Hospital',
               'Police Station': 'Police Station',
               'Fire Station': 'Fire Station',
               'Post Office': 'Post Office',
               'Bank': 'Bank',
               'Pharmacy': 'Pharmacy',
               'Gas Station': 'Gas Station',
               'Car Wash': 'Car Wash',
               'Parking': 'Parking',
               'ATM': 'ATM',
               'Tourist Information': 'Tourist Information',
               'Travel Agency': 'Travel Agency',
               'Hostel': 'Hostel',
               'Guest House': 'Guest House',
               'Apartment': 'Apartment',
               'Villa': 'Villa',
               'Resort': 'Resort',
               'Spa': 'Spa',
               'Gym': 'Gym',
               'Swimming Pool': 'Swimming Pool',
               'Tennis Court': 'Tennis Court',
               'Golf Course': 'Golf Course',
               'Ski Resort': 'Ski Resort',
               'Amusement Park': 'Amusement Park',
               'Zoo': 'Zoo',
               'Aquarium': 'Aquarium',
               'Planetarium': 'Planetarium',
               'Observatory': 'Observatory',
               'Botanical Garden': 'Botanical Garden',
               'Arboretum': 'Arboretum',
               'Conservatory': 'Conservatory',
               'Theater': 'Theater',
               'Cinema': 'Cinema',
               'Concert Hall': 'Concert Hall',
               'Opera House': 'Opera House',
               'Stadium': 'Stadium',
               'Arena': 'Arena',
               'Race Track': 'Race Track',
               'Marina': 'Marina',
               'Yacht Club': 'Yacht Club',
               'Fishing Spot': 'Fishing Spot',
               'Hiking Trail': 'Hiking Trail',
               'Bike Path': 'Bike Path',
               'Climbing Wall': 'Climbing Wall',
               'Skate Park': 'Skate Park',
               'Playground': 'Playground',
               'Sports Complex': 'Sports Complex',
               'Fitness Center': 'Fitness Center',
               'Yoga Studio': 'Yoga Studio',
               'Pilates Studio': 'Pilates Studio',
               'Dance Studio': 'Dance Studio',
               'Art Gallery': 'Art Gallery',
               'Antique Shop': 'Antique Shop',
               'Jewelry Store': 'Jewelry Store',
               'Bookstore': 'Bookstore',
               'Music Store': 'Music Store',
               'Electronics Store': 'Electronics Store',
               'Clothing Store': 'Clothing Store',
               'Shoe Store': 'Shoe Store',
               'Department Store': 'Department Store',
               'Supermarket': 'Supermarket',
               'Market': 'Market',
               'Bakery': 'Bakery',
               'Butcher': 'Butcher',
               'Fish Market': 'Fish Market',
               'Flower Shop': 'Flower Shop',
               'Gift Shop': 'Gift Shop',
               'Souvenir Shop': 'Souvenir Shop',
               'Tattoo Parlor': 'Tattoo Parlor',
               'Hair Salon': 'Hair Salon',
               'Beauty Salon': 'Beauty Salon',
               'Nail Salon': 'Nail Salon',
               'Massage Parlor': 'Massage Parlor',
               'Dental Clinic': 'Dental Clinic',
               'Medical Clinic': 'Medical Clinic',
               'Veterinary Clinic': 'Veterinary Clinic',
               'Pet Store': 'Pet Store',
               'Hardware Store': 'Hardware Store',
               'Home Improvement Store': 'Home Improvement Store',
               'Furniture Store': 'Furniture Store',
               'Garden Center': 'Garden Center',
               'Nursery': 'Nursery',
               'Greenhouse': 'Greenhouse',
               'Farm': 'Farm',
               'Vineyard': 'Vineyard',
               'Winery': 'Winery',
               'Brewery': 'Brewery',
               'Distillery': 'Distillery',
               'Factory': 'Factory',
               'Warehouse': 'Warehouse',
               'Office Building': 'Office Building',
               'Shopping Mall': 'Shopping Mall',
               'Outlet': 'Outlet',
               'Flea Market': 'Flea Market',
               'Street Market': 'Street Market',
               'Food Court': 'Food Court',
               'Food Truck': 'Food Truck',
               'Street Food': 'Street Food',
               'Fast Food': 'Fast Food',
               'Pizza Place': 'Pizza Place',
               'Burger Joint': 'Burger Joint',
               'Sushi Restaurant': 'Sushi Restaurant',
               'Thai Restaurant': 'Thai Restaurant',
               'Chinese Restaurant': 'Chinese Restaurant',
               'Japanese Restaurant': 'Japanese Restaurant',
               'Korean Restaurant': 'Korean Restaurant',
               'Indian Restaurant': 'Indian Restaurant',
               'Mexican Restaurant': 'Mexican Restaurant',
               'Italian Restaurant': 'Italian Restaurant',
               'French Restaurant': 'French Restaurant',
               'Greek Restaurant': 'Greek Restaurant',
               'Turkish Restaurant': 'Turkish Restaurant',
               'Lebanese Restaurant': 'Lebanese Restaurant',
               'Moroccan Restaurant': 'Moroccan Restaurant',
               'Spanish Restaurant': 'Spanish Restaurant',
               'Portuguese Restaurant': 'Portuguese Restaurant',
               'German Restaurant': 'German Restaurant',
               'Austrian Restaurant': 'Austrian Restaurant',
               'Swiss Restaurant': 'Swiss Restaurant',
               'Dutch Restaurant': 'Dutch Restaurant',
               'Belgian Restaurant': 'Belgian Restaurant',
               'Polish Restaurant': 'Polish Restaurant',
               'Czech Restaurant': 'Czech Restaurant',
               'Hungarian Restaurant': 'Hungarian Restaurant',
               'Romanian Restaurant': 'Romanian Restaurant',
               'Bulgarian Restaurant': 'Bulgarian Restaurant',
               'Serbian Restaurant': 'Serbian Restaurant',
               'Croatian Restaurant': 'Croatian Restaurant',
               'Slovenian Restaurant': 'Slovenian Restaurant',
               'Slovak Restaurant': 'Slovak Restaurant',
               'Ukrainian Restaurant': 'Ukrainian Restaurant',
               'Russian Restaurant': 'Russian Restaurant',
               'Georgian Restaurant': 'Georgian Restaurant',
               'Armenian Restaurant': 'Armenian Restaurant',
               'Azerbaijani Restaurant': 'Azerbaijani Restaurant',
               'Iranian Restaurant': 'Iranian Restaurant',
               'Iraqi Restaurant': 'Iraqi Restaurant',
               'Syrian Restaurant': 'Syrian Restaurant',
               'Jordanian Restaurant': 'Jordanian Restaurant',
               'Israeli Restaurant': 'Israeli Restaurant',
               'Palestinian Restaurant': 'Palestinian Restaurant',
               'Egyptian Restaurant': 'Egyptian Restaurant',
               'Libyan Restaurant': 'Libyan Restaurant',
               'Tunisian Restaurant': 'Tunisian Restaurant',
               'Algerian Restaurant': 'Algerian Restaurant',
               'Mauritanian Restaurant': 'Mauritanian Restaurant',
               'Senegalese Restaurant': 'Senegalese Restaurant',
               'Gambian Restaurant': 'Gambian Restaurant',
               'Guinea-Bissau Restaurant': 'Guinea-Bissau Restaurant',
               'Guinean Restaurant': 'Guinean Restaurant',
               'Sierra Leonean Restaurant': 'Sierra Leonean Restaurant',
               'Liberian Restaurant': 'Liberian Restaurant',
               'Ivorian Restaurant': 'Ivorian Restaurant',
               'Ghanaian Restaurant': 'Ghanaian Restaurant',
               'Togolese Restaurant': 'Togolese Restaurant',
               'Beninese Restaurant': 'Beninese Restaurant',
               'Nigerian Restaurant': 'Nigerian Restaurant',
               'Cameroonian Restaurant': 'Cameroonian Restaurant',
               'Chadian Restaurant': 'Chadian Restaurant',
               'Central African Restaurant': 'Central African Restaurant',
               'Equatorial Guinean Restaurant': 'Equatorial Guinean Restaurant',
               'Gabonese Restaurant': 'Gabonese Restaurant',
               'Congolese Restaurant': 'Congolese Restaurant',
               'Democratic Republic of the Congo Restaurant': 'Democratic Republic of the Congo Restaurant',
               'Angolan Restaurant': 'Angolan Restaurant',
               'Zambian Restaurant': 'Zambian Restaurant',
               'Malawian Restaurant': 'Malawian Restaurant',
               'Mozambican Restaurant': 'Mozambican Restaurant',
               'Zimbabwean Restaurant': 'Zimbabwean Restaurant',
               'Botswanan Restaurant': 'Botswanan Restaurant',
               'Namibian Restaurant': 'Namibian Restaurant',
               'South African Restaurant': 'South African Restaurant',
               'Lesothoan Restaurant': 'Lesothoan Restaurant',
               'Eswatini Restaurant': 'Eswatini Restaurant',
               'Madagascan Restaurant': 'Madagascan Restaurant',
               'Comorian Restaurant': 'Comorian Restaurant',
               'Mauritian Restaurant': 'Mauritian Restaurant',
               'Seychellois Restaurant': 'Seychellois Restaurant',
               'Djiboutian Restaurant': 'Djiboutian Restaurant',
               'Eritrean Restaurant': 'Eritrean Restaurant',
               'Ethiopian Restaurant': 'Ethiopian Restaurant',
               'Somali Restaurant': 'Somali Restaurant',
               'Kenyan Restaurant': 'Kenyan Restaurant',
               'Ugandan Restaurant': 'Ugandan Restaurant',
               'Tanzanian Restaurant': 'Tanzanian Restaurant',
               'Rwandan Restaurant': 'Rwandan Restaurant',
               'Burundian Restaurant': 'Burundian Restaurant',
               'South Sudanese Restaurant': 'South Sudanese Restaurant',
               'Sudanese Restaurant': 'Sudanese Restaurant'
             }
           };
           
           const translations = categoryTranslations[currentLanguage] || categoryTranslations['tr'];
           return translations[englishCategory] || englishCategory;
         }
         
         // Detaylƒ± a√ßƒ±klama olu≈üturma fonksiyonu
         function generateDetailedDescription(place, cityName) {
           let description = '';
           
           const descriptions = {
             tr: {
               defaultStart: `${place.name}, ${cityName} ≈üehrinin √∂nemli turistik yerlerinden biridir. `,
               categoryInfo: `Bu yer ${translateCategory(place.categories?.[0]?.name)} kategorisinde yer almaktadƒ±r. `,
               ratingInfo: `Foursquare kullanƒ±cƒ±larƒ± tarafƒ±ndan ${place.rating}/10 puan almƒ±≈ütƒ±r. `,
               addressInfo: `Adres: ${place.location?.formatted_address}. `,
               defaultEnd: `Bu yer Foursquare API'den alƒ±nan g√ºncel bilgilerle eklenmi≈ütir ve ${cityName} ≈üehrini ziyaret eden turistlerin mutlaka g√∂rmesi gereken yerlerden biridir.`
             },
             en: {
               defaultStart: `${place.name} is one of the important tourist attractions in ${cityName}. `,
               categoryInfo: `This place is in the ${translateCategory(place.categories?.[0]?.name)} category. `,
               ratingInfo: `It has received ${place.rating}/10 points from Foursquare users. `,
               addressInfo: `Address: ${place.location?.formatted_address}. `,
               defaultEnd: `This place has been added with current information from Foursquare API and is one of the must-see places for tourists visiting ${cityName}.`
             }
           };
           
           const currentDescriptions = descriptions[currentLanguage] || descriptions['tr'];
           
           if (place.description) {
             description += place.description;
           } else {
             description += currentDescriptions.defaultStart;
           }
           
           if (place.categories && place.categories.length > 0) {
             description += currentDescriptions.categoryInfo;
           }
           
           if (place.rating) {
             description += currentDescriptions.ratingInfo;
           }
           
           if (place.location && place.location.formatted_address) {
             description += currentDescriptions.addressInfo;
           }
           
           description += currentDescriptions.defaultEnd;
           
           return description;
         }
         
         // ≈ûehirden √ºlke tespiti - D√ºnya √ßapƒ±nda ≈üehirler
         function detectCountryFromCity(cityName) {
           const cityCountryMap = {
             // T√ºrkiye ≈üehirleri
             'istanbul': 'turkey', 'ankara': 'turkey', 'izmir': 'turkey', 'antalya': 'turkey',
             'kapadokya': 'turkey', 'bursa': 'turkey', 'konya': 'turkey', 'trabzon': 'turkey',
             'adana': 'turkey', 'gaziantep': 'turkey', 'kayseri': 'turkey', 'samsun': 'turkey',
             'eski≈üehir': 'turkey', 'urfa': 'turkey', 'diyarbakƒ±r': 'turkey', 'malatya': 'turkey',
             'erzurum': 'turkey', 'van': 'turkey', 'sivas': 'turkey', 'kastamonu': 'turkey',
             'tokat': 'turkey', 'amasya': 'turkey', 'nev≈üehir': 'turkey', '√ßanakkale': 'turkey',
             'edirne': 'turkey', 'tekirdaƒü': 'turkey', 'kƒ±rklareli': 'turkey', 'balƒ±kesir': 'turkey',
             'manisa': 'turkey', 'aydƒ±n': 'turkey', 'muƒüla': 'turkey', 'denizli': 'turkey',
             'afyon': 'turkey', 'k√ºtahya': 'turkey', 'u≈üak': 'turkey', 'ƒ±sparta': 'turkey',
             'burdur': 'turkey', 'antalya': 'turkey', 'mersin': 'turkey', 'adana': 'turkey',
             'hatay': 'turkey', 'osmaniye': 'turkey', 'kahramanmara≈ü': 'turkey', 'gaziantep': 'turkey',
             'kilis': 'turkey', '≈üanlƒ±urfa': 'turkey', 'adƒ±yaman': 'turkey', 'malatya': 'turkey',
             'elazƒ±ƒü': 'turkey', 'bing√∂l': 'turkey', 'tunceli': 'turkey', 'erzincan': 'turkey',
             'erzurum': 'turkey', 'bayburt': 'turkey', 'g√ºm√º≈ühane': 'turkey', 'trabzon': 'turkey',
             'rize': 'turkey', 'artvin': 'turkey', 'ardahan': 'turkey', 'kars': 'turkey',
             'aƒürƒ±': 'turkey', 'ƒ±ƒüdƒ±r': 'turkey', 'van': 'turkey', 'bitlis': 'turkey',
             'mu≈ü': 'turkey', 'bing√∂l': 'turkey', 'diyarbakƒ±r': 'turkey', 'mardin': 'turkey',
             '≈üƒ±rnak': 'turkey', 'batman': 'turkey', 'siirt': 'turkey', 'hakkari': 'turkey',
             'almanya': 'germany', 'berlin': 'germany', 'm√ºnchen': 'germany', 'hamburg': 'germany', 
             'k√∂ln': 'germany', 'frankfurt': 'germany', 'stuttgart': 'germany', 'd√ºsseldorf': 'germany',
             'dortmund': 'germany', 'essen': 'germany', 'leipzig': 'germany', 'bremen': 'germany',
             'dresden': 'germany', 'hannover': 'germany', 'n√ºrnberg': 'germany', 'duisburg': 'germany',
             'bonn': 'germany', 'bochum': 'germany', 'wuppertal': 'germany', 'bielefeld': 'germany',
             'mannheim': 'germany', 'karlsruhe': 'germany', 'augsburg': 'germany', 'wiesbaden': 'germany',
             'gelsenkirchen': 'germany', 'm√∂nchengladbach': 'germany', 'braunschweig': 'germany',
             'chemnitz': 'germany', 'kiel': 'germany', 'krefeld': 'germany', 'halle': 'germany',
             'magdeburg': 'germany', 'freiburg': 'germany', 'erfurt': 'germany', 'mainz': 'germany',
             'rostock': 'germany', 'kassel': 'germany', 'hagen': 'germany', 'potsdam': 'germany',
             'saarbr√ºcken': 'germany', 'hamm': 'germany', 'm√ºlheim': 'germany', 'ludwigshafen': 'germany',
             'leverkusen': 'germany', 'oldenburg': 'germany', 'osnabr√ºck': 'germany', 'solingen': 'germany',
             'heidelberg': 'germany', 'herne': 'germany', 'neuss': 'germany', 'darmstadt': 'germany',
             'paderborn': 'germany', 'regensburg': 'germany', 'ingolstadt': 'germany', 'w√ºrzburg': 'germany',
             'f√ºrth': 'germany', 'wolfsburg': 'germany', 'offenbach': 'germany', 'ulm': 'germany',
             'heilbronn': 'germany', 'pforzheim': 'germany', 'g√∂ttingen': 'germany', 'bottrop': 'germany',
             'trier': 'germany', 'recklinghausen': 'germany', 'reutlingen': 'germany', 'bremerhaven': 'germany',
             'koblenz': 'germany', 'bergisch gladbach': 'germany', 'jena': 'germany', 'remscheid': 'germany',
             'erlangen': 'germany', 'moers': 'germany', 'siegen': 'germany', 'hildesheim': 'germany',
             'salzgitter': 'germany', 'cottbus': 'germany',
             
             // Fransa ≈üehirleri
             'paris': 'france', 'lyon': 'france', 'marseille': 'france', 'toulouse': 'france',
             'nice': 'france', 'nantes': 'france', 'strasbourg': 'france', 'montpellier': 'france',
             'bordeaux': 'france', 'lille': 'france', 'rennes': 'france', 'reims': 'france',
             'le havre': 'france', 'saint-√©tienne': 'france', 'toulon': 'france', 'angers': 'france',
             'grenoble': 'france', 'dijon': 'france', 'n√Æmes': 'france', 'aix-en-provence': 'france',
             'saint-quentin-en-yvelines': 'france', 'brest': 'france', 'le mans': 'france', 'amiens': 'france',
             'tours': 'france', 'limoges': 'france', 'clermont-ferrand': 'france', 'villeurbanne': 'france',
             'besan√ßon': 'france', 'orl√©ans': 'france', 'metz': 'france', 'rouen': 'france',
             'mulhouse': 'france', 'perpignan': 'france', 'caen': 'france', 'boulogne-billancourt': 'france',
             'nancy': 'france', 'argenteuil': 'france', 'roubaix': 'france', 'tourcoing': 'france',
             'nanterre': 'france', 'avignon': 'france', 'cr√©teil': 'france', 'dunkerque': 'france',
             'poitiers': 'france', 'asni√®res-sur-seine': 'france', 'courbevoie': 'france', 'versailles': 'france',
             'pau': 'france', 'fort-de-france': 'france', 'colombes': 'france', 'aulnay-sous-bois': 'france',
             'saint-maur-des-foss√©s': 'france', 'rueil-malmaison': 'france', 'champigny-sur-marne': 'france',
             'antibes': 'france', 'la rochelle': 'france', 'cannes': 'france',
             
             // ƒ∞talya ≈üehirleri
             'roma': 'italy', 'milano': 'italy', 'napoli': 'italy', 'torino': 'italy',
             'palermo': 'italy', 'genova': 'italy', 'bologna': 'italy', 'firenze': 'italy',
             'bari': 'italy', 'catania': 'italy', 'venezia': 'italy', 'verona': 'italy',
             'messina': 'italy', 'padova': 'italy', 'trieste': 'italy', 'taranto': 'italy',
             'brescia': 'italy', 'prato': 'italy', 'parma': 'italy', 'modena': 'italy',
             'reggio calabria': 'italy', 'reggio emilia': 'italy', 'perugia': 'italy', 'livorno': 'italy',
             'ravenna': 'italy', 'cagliari': 'italy', 'foggia': 'italy', 'rimini': 'italy',
             'salerno': 'italy', 'ferrara': 'italy', 'sassari': 'italy', 'latina': 'italy',
             'giugliano in campania': 'italy', 'monza': 'italy', 'syracuse': 'italy', 'pescara': 'italy',
             'bergamo': 'italy', 'forl√¨': 'italy', 'trento': 'italy', 'vicenza': 'italy',
             'terni': 'italy', 'bolzano': 'italy', 'novara': 'italy', 'piacenza': 'italy',
             'ancona': 'italy', 'andria': 'italy', 'arezzo': 'italy', 'udine': 'italy',
             'cesena': 'italy', 'lecce': 'italy', 'pesaro': 'italy', 'barletta': 'italy',
             'alessandria': 'italy', 'la spezia': 'italy', 'pisa': 'italy', 'catanzaro': 'italy',
             'pistoia': 'italy', 'brindisi': 'italy', 'treviso': 'italy', 'pavia': 'italy',
             
             // ƒ∞spanya ≈üehirleri
             'madrid': 'spain', 'barcelona': 'spain', 'valencia': 'spain', 'sevilla': 'spain',
             'zaragoza': 'spain', 'm√°laga': 'spain', 'murcia': 'spain', 'palma': 'spain',
             'las palmas': 'spain', 'bilbao': 'spain', 'alicante': 'spain', 'c√≥rdoba': 'spain',
             'valladolid': 'spain', 'vigo': 'spain', 'gij√≥n': 'spain', 'hospitalet de llobregat': 'spain',
             'vitoria-gasteiz': 'spain', 'a coru√±a': 'spain', 'elche': 'spain', 'oviedo': 'spain',
             'santa cruz de tenerife': 'spain', 'badalona': 'spain', 'cartagena': 'spain', 'terrassa': 'spain',
             'jerez de la frontera': 'spain', 'sabadell': 'spain', 'm√≥stoles': 'spain', 'alcal√° de henares': 'spain',
             'pamplona': 'spain', 'fuenlabrada': 'spain', 'almer√≠a': 'spain', 'legan√©s': 'spain',
             'donostia-san sebasti√°n': 'spain', 'burgos': 'spain', 'santander': 'spain', 'castell√≥n de la plana': 'spain',
             'alcorc√≥n': 'spain', 'getafe': 'spain', 'salamanca': 'spain', 'huelva': 'spain',
             'logro√±o': 'spain', 'badajoz': 'spain', 'tarragona': 'spain', 'le√≥n': 'spain',
             'c√°diz': 'spain', 'lleida': 'spain', 'marbella': 'spain', 'dos hermanas': 'spain',
             'mataro': 'spain', 'torrej√≥n de ardoz': 'spain', 'parla': 'spain', 'alcobendas': 'spain',
             
             // ƒ∞ngiltere ≈üehirleri
             'london': 'united kingdom', 'birmingham': 'united kingdom', 'manchester': 'united kingdom', 'glasgow': 'united kingdom',
             'liverpool': 'united kingdom', 'leeds': 'united kingdom', 'sheffield': 'united kingdom', 'edinburgh': 'united kingdom',
             'bristol': 'united kingdom', 'cardiff': 'united kingdom', 'leicester': 'united kingdom', 'coventry': 'united kingdom',
             'bradford': 'united kingdom', 'belfast': 'united kingdom', 'nottingham': 'united kingdom', 'kingston upon hull': 'united kingdom',
             'newcastle upon tyne': 'united kingdom', 'stoke-on-trent': 'united kingdom', 'southampton': 'united kingdom', 'derby': 'united kingdom',
             'portsmouth': 'united kingdom', 'brighton': 'united kingdom', 'plymouth': 'united kingdom', 'northampton': 'united kingdom',
             'reading': 'united kingdom', 'luton': 'united kingdom', 'wolverhampton': 'united kingdom', 'bolton': 'united kingdom',
             'bournemouth': 'united kingdom', 'norwich': 'united kingdom', 'swindon': 'united kingdom', 'swansea': 'united kingdom',
             'southend-on-sea': 'united kingdom', 'middlesbrough': 'united kingdom', 'milton keynes': 'united kingdom', 'sunderland': 'united kingdom',
             'warrington': 'united kingdom', 'huddersfield': 'united kingdom', 'peterborough': 'united kingdom', 'york': 'united kingdom',
             'stockport': 'united kingdom', 'west bromwich': 'united kingdom', 'oldham': 'united kingdom', 'exeter': 'united kingdom',
             'gloucester': 'united kingdom', 'blackpool': 'united kingdom', 'preston': 'united kingdom', 'sutton coldfield': 'united kingdom',
             
             // ABD ≈üehirleri
             'new york': 'united states', 'los angeles': 'united states', 'chicago': 'united states', 'houston': 'united states',
             'phoenix': 'united states', 'philadelphia': 'united states', 'san antonio': 'united states', 'san diego': 'united states',
             'dallas': 'united states', 'san jose': 'united states', 'austin': 'united states', 'jacksonville': 'united states',
             'fort worth': 'united states', 'columbus': 'united states', 'charlotte': 'united states', 'san francisco': 'united states',
             'indianapolis': 'united states', 'seattle': 'united states', 'denver': 'united states', 'washington': 'united states',
             'boston': 'united states', 'el paso': 'united states', 'detroit': 'united states', 'nashville': 'united states',
             'portland': 'united states', 'memphis': 'united states', 'oklahoma city': 'united states', 'las vegas': 'united states',
             'louisville': 'united states', 'baltimore': 'united states', 'milwaukee': 'united states', 'albuquerque': 'united states',
             'tucson': 'united states', 'fresno': 'united states', 'mesa': 'united states', 'sacramento': 'united states',
             'atlanta': 'united states', 'kansas city': 'united states', 'colorado springs': 'united states', 'miami': 'united states',
             'raleigh': 'united states', 'omaha': 'united states', 'long beach': 'united states', 'virginia beach': 'united states',
             'oakland': 'united states', 'minneapolis': 'united states', 'tulsa': 'united states', 'arlington': 'united states',
             'tampa': 'united states', 'new orleans': 'united states', 'wichita': 'united states', 'cleveland': 'united states',
             
             // Kanada ≈üehirleri
             'toronto': 'canada', 'montreal': 'canada', 'vancouver': 'canada', 'calgary': 'canada',
             'edmonton': 'canada', 'ottawa': 'canada', 'winnipeg': 'canada', 'quebec city': 'canada',
             'hamilton': 'canada', 'kitchener': 'canada', 'london': 'canada', 'victoria': 'canada',
             'halifax': 'canada', 'oshawa': 'canada', 'windsor': 'canada', 'saskatoon': 'canada',
             'st. catharines': 'canada', 'regina': 'canada', 'sherbrooke': 'canada', 'kelowna': 'canada',
             'barrie': 'canada', 'abbotsford': 'canada', 'kingston': 'canada', 'sudbury': 'canada',
             'trois-rivi√®res': 'canada', 'guelph': 'canada', 'cambridge': 'canada', 'whitby': 'canada',
             'thunder bay': 'canada', 'chatham': 'canada', 'red deer': 'canada', 'lethbridge': 'canada',
             'kamloops': 'canada', 'brantford': 'canada', 'nanaimo': 'canada', 'moncton': 'canada',
             'sarnia': 'canada', 'sault ste. marie': 'canada', 'medicine hat': 'canada', 'north bay': 'canada',
             'prince george': 'canada', 'fredericton': 'canada', 'saint john': 'canada', 'fort mcmurray': 'canada',
             
             // Avustralya ≈üehirleri
             'sydney': 'australia', 'melbourne': 'australia', 'brisbane': 'australia', 'perth': 'australia',
             'adelaide': 'australia', 'gold coast': 'australia', 'newcastle': 'australia', 'canberra': 'australia',
             'sunshine coast': 'australia', 'wollongong': 'australia', 'hobart': 'australia', 'geelong': 'australia',
             'townsville': 'australia', 'cairns': 'australia', 'darwin': 'australia', 'toowoomba': 'australia',
             'ballarat': 'australia', 'bendigo': 'australia', 'albury': 'australia', 'launceston': 'australia',
             'mackay': 'australia', 'rockhampton': 'australia', 'bunbury': 'australia', 'bundaberg': 'australia',
             'coffs harbour': 'australia', 'wagga wagga': 'australia', 'hervey bay': 'australia', 'mildura': 'australia',
             'shepparton': 'australia', 'port macquarie': 'australia', 'gladstone': 'australia', 'tamworth': 'australia',
             'traralgon': 'australia', 'orange': 'australia', 'dubbo': 'australia', 'geraldton': 'australia',
             'bowral': 'australia', 'bathurst': 'australia', 'nowra': 'australia', 'warrnambool': 'australia',
             
             // Japonya ≈üehirleri
             'tokyo': 'japan', 'yokohama': 'japan', 'osaka': 'japan', 'nagoya': 'japan',
             'sapporo': 'japan', 'fukuoka': 'japan', 'kobe': 'japan', 'kawasaki': 'japan',
             'kyoto': 'japan', 'saitama': 'japan', 'hiroshima': 'japan', 'sendai': 'japan',
             'kitakyushu': 'japan', 'chiba': 'japan', 'sakai': 'japan', 'niigata': 'japan',
             'hamamatsu': 'japan', 'okayama': 'japan', 'sagamihara': 'japan', 'shizuoka': 'japan',
             'kumamoto': 'japan', 'kagoshima': 'japan', 'matsuyama': 'japan', 'kanazawa': 'japan',
             'utsunomiya': 'japan', 'matsudo': 'japan', 'kawaguchi': 'japan', 'takatsuki': 'japan',
             'toyama': 'japan', 'toyota': 'japan', 'takamatsu': 'japan', 'machida': 'japan',
             'gifu': 'japan', 'fujisawa': 'japan', 'kashiwa': 'japan', 'toyonaka': 'japan',
             'nagano': 'japan', 'iwaki': 'japan', 'asahikawa': 'japan', 'okazaki': 'japan',
             'miyazaki': 'japan', 'nara': 'japan', 'suita': 'japan', 'wakayama': 'japan',
             
             // G√ºney Kore ≈üehirleri
             'seoul': 'south korea', 'busan': 'south korea', 'incheon': 'south korea', 'daegu': 'south korea',
             'daejeon': 'south korea', 'gwangju': 'south korea', 'suwon': 'south korea', 'ulsan': 'south korea',
             'changwon': 'south korea', 'goyang': 'south korea', 'yongin': 'south korea', 'seongnam': 'south korea',
             'bucheon': 'south korea', 'ansan': 'south korea', 'cheongju': 'south korea', 'jeonju': 'south korea',
             'anyang': 'south korea', 'cheonan': 'south korea', 'namyangju': 'south korea', 'pohang': 'south korea',
             'uijeongbu': 'south korea', 'siheung': 'south korea', 'paju': 'south korea', 'gimhae': 'south korea',
             'pyeongtaek': 'south korea', 'jinju': 'south korea', 'yangju': 'south korea', 'icheon': 'south korea',
             'gunpo': 'south korea', 'osan': 'south korea', 'gwangmyeong': 'south korea', 'jeju': 'south korea',
             'hanam': 'south korea', 'gimpo': 'south korea', 'guri': 'south korea', 'mokpo': 'south korea',
             'wonju': 'south korea', 'sacheon': 'south korea', 'yangsan': 'south korea', 'gwangyang': 'south korea',
             
             // √áin ≈üehirleri
             'beijing': 'china', 'shanghai': 'china', 'guangzhou': 'china', 'shenzhen': 'china',
             'tianjin': 'china', 'wuhan': 'china', 'dongguan': 'china', 'chengdu': 'china',
             'nanjing': 'china', 'chongqing': 'china', 'xian': 'china', 'shenyang': 'china',
             'hangzhou': 'china', 'dalian': 'china', 'qingdao': 'china', 'jinan': 'china',
             'harbin': 'china', 'zhengzhou': 'china', 'shantou': 'china', 'foshan': 'china',
             'changchun': 'china', 'shijiazhuang': 'china', 'kunming': 'china', 'changsha': 'china',
             'hefei': 'china', 'urumqi': 'china', 'suzhou': 'china', 'wuxi': 'china',
             'ningbo': 'china', 'lanzhou': 'china', 'xuzhou': 'china', 'wenzhou': 'china',
             'nanning': 'china', 'guiyang': 'china', 'taiyuan': 'china', 'nanchang': 'china',
             'zibo': 'china', 'yantai': 'china', 'huizhou': 'china', 'weifang': 'china',
             'handan': 'china', 'zhuhai': 'china', 'baotou': 'china', 'tangshan': 'china',
             
             // Hindistan ≈üehirleri
             'mumbai': 'india', 'delhi': 'india', 'bangalore': 'india', 'hyderabad': 'india',
             'ahmedabad': 'india', 'chennai': 'india', 'kolkata': 'india', 'surat': 'india',
             'pune': 'india', 'jaipur': 'india', 'lucknow': 'india', 'kanpur': 'india',
             'nagpur': 'india', 'indore': 'india', 'thane': 'india', 'bhopal': 'india',
             'visakhapatnam': 'india', 'pimpri-chinchwad': 'india', 'patna': 'india', 'vadodara': 'india',
             'ghaziabad': 'india', 'ludhiana': 'india', 'agra': 'india', 'nashik': 'india',
             'faridabad': 'india', 'meerut': 'india', 'rajkot': 'india', 'kalyan-dombivli': 'india',
             'vasai-virar': 'india', 'varanasi': 'india', 'srinagar': 'india', 'aurangabad': 'india',
             'dhanbad': 'india', 'amritsar': 'india', 'navi mumbai': 'india', 'allahabad': 'india',
             'ranchi': 'india', 'howrah': 'india', 'coimbatore': 'india', 'jabalpur': 'india',
             'gwalior': 'india', 'vijayawada': 'india', 'jodhpur': 'india', 'madurai': 'india',
             
             // Brezilya ≈üehirleri
             's√£o paulo': 'brazil', 'rio de janeiro': 'brazil', 'bras√≠lia': 'brazil', 'salvador': 'brazil',
             'fortaleza': 'brazil', 'belo horizonte': 'brazil', 'manaus': 'brazil', 'curitiba': 'brazil',
             'recife': 'brazil', 'goi√¢nia': 'brazil', 'bel√©m': 'brazil', 'porto alegre': 'brazil',
             'guarulhos': 'brazil', 'campinas': 'brazil', 's√£o lu√≠s': 'brazil', 's√£o gon√ßalo': 'brazil',
             'macei√≥': 'brazil', 'duque de caxias': 'brazil', 'natal': 'brazil', 'teresina': 'brazil',
             'campo grande': 'brazil', 'nova igua√ßu': 'brazil', 's√£o bernardo do campo': 'brazil', 'jo√£o pessoa': 'brazil',
             'santo andr√©': 'brazil', 'osasco': 'brazil', 'jaboat√£o dos guararapes': 'brazil', 's√£o jos√© dos campos': 'brazil',
             'ribeir√£o preto': 'brazil', 'uberl√¢ndia': 'brazil', 'sorocaba': 'brazil', 'contagem': 'brazil',
             'aracaju': 'brazil', 'feira de santana': 'brazil', 'cuiab√°': 'brazil', 'joinville': 'brazil',
             'aparecida de goi√¢nia': 'brazil', 'londrina': 'brazil', 'juiz de fora': 'brazil', 'ananindeua': 'brazil',
             
             // Rusya ≈üehirleri
             'moscow': 'russia', 'saint petersburg': 'russia', 'novosibirsk': 'russia', 'yekaterinburg': 'russia',
             'nizhny novgorod': 'russia', 'kazan': 'russia', 'chelyabinsk': 'russia', 'omsk': 'russia',
             'samara': 'russia', 'rostov-on-don': 'russia', 'ufa': 'russia', 'krasnoyarsk': 'russia',
             'perm': 'russia', 'voronezh': 'russia', 'volgograd': 'russia', 'krasnodar': 'russia',
             'saratov': 'russia', 'tyumen': 'russia', 'tolyatti': 'russia', 'izhevsk': 'russia',
             'barnaul': 'russia', 'ulyanovsk': 'russia', 'irkutsk': 'russia', 'vladivostok': 'russia',
             'yaroslavl': 'russia', 'habarovsk': 'russia', 'makhachkala': 'russia', 'tomsk': 'russia',
             'orenburg': 'russia', 'kemerovo': 'russia', 'ryazan': 'russia', 'astrakhan': 'russia',
             'naberezhnye chelny': 'russia', 'penza': 'russia', 'lipetsk': 'russia', 'tula': 'russia',
             'kirov': 'russia', 'cheboksary': 'russia', 'kaliningrad': 'russia', 'bryansk': 'russia',
             
             // Meksika ≈üehirleri
             'mexico city': 'mexico', 'guadalajara': 'mexico', 'monterrey': 'mexico', 'puebla': 'mexico',
             'tijuana': 'mexico', 'le√≥n': 'mexico', 'ju√°rez': 'mexico', 'torre√≥n': 'mexico',
             'quer√©taro': 'mexico', 'san luis potos√≠': 'mexico', 'm√©rida': 'mexico', 'mexicali': 'mexico',
             'aguascalientes': 'mexico', 'cuernavaca': 'mexico', 'saltillo': 'mexico', 'hermosillo': 'mexico',
             'canc√∫n': 'mexico', 'durango': 'mexico', 'xalapa': 'mexico', 'toluca': 'mexico',
             'reynosa': 'mexico', 'chihuahua': 'mexico', 'morelia': 'mexico', 'tampico': 'mexico',
             'culiac√°n': 'mexico', 'acapulco': 'mexico', 'chimalhuac√°n': 'mexico', 'tlalnepantla': 'mexico',
             'veracruz': 'mexico', 'pachuca': 'mexico', 'oaxaca': 'mexico', 'tuxtla guti√©rrez': 'mexico',
             'mazatl√°n': 'mexico', 'irapuato': 'mexico', 'nuevo laredo': 'mexico', 'villahermosa': 'mexico',
             
             // Arjantin ≈üehirleri
             'buenos aires': 'argentina', 'c√≥rdoba': 'argentina', 'rosario': 'argentina', 'mendoza': 'argentina',
             'tucum√°n': 'argentina', 'la plata': 'argentina', 'mar del plata': 'argentina', 'salta': 'argentina',
             'santa fe': 'argentina', 'san juan': 'argentina', 'resistencia': 'argentina', 'santiago del estero': 'argentina',
             'corrientes': 'argentina', 'posadas': 'argentina', 'neuqu√©n': 'argentina', 'bah√≠a blanca': 'argentina',
             'paran√°': 'argentina', 'formosa': 'argentina', 'san luis': 'argentina', 'la rioja': 'argentina',
             'catamarca': 'argentina', 'r√≠o cuarto': 'argentina', 'comodoro rivadavia': 'argentina', 'concordia': 'argentina',
             'san rafael': 'argentina', 'tandil': 'argentina', 'san nicol√°s': 'argentina', 'r√≠o gallegos': 'argentina',
             'ushuaia': 'argentina', 'san salvador de jujuy': 'argentina', 'pergamino': 'argentina', 'z√°rate': 'argentina',
             'campana': 'argentina', 'venado tuerto': 'argentina', 'jun√≠n': 'argentina', 'olavarr√≠a': 'argentina',
             
             // T√ºrkiye ≈üehirleri
             'istanbul': 'turkey', 'ankara': 'turkey', 'izmir': 'turkey', 'bursa': 'turkey',
             'antalya': 'turkey', 'adana': 'turkey', 'konya': 'turkey', '≈üanlƒ±urfa': 'turkey',
             'gaziantep': 'turkey', 'kayseri': 'turkey', 'mersin': 'turkey', 'eski≈üehir': 'turkey',
             'diyarbakƒ±r': 'turkey', 'samsun': 'turkey', 'denizli': 'turkey', 'adapazarƒ±': 'turkey',
             'malatya': 'turkey', 'kahramanmara≈ü': 'turkey', 'erzurum': 'turkey', 'van': 'turkey',
             'batman': 'turkey', 'elazƒ±ƒü': 'turkey', 'iƒüdƒ±r': 'turkey', 'tokat': 'turkey',
             'sivas': 'turkey', 'gebze': 'turkey', 'kocaeli': 'turkey', 'manisa': 'turkey',
             'balƒ±kesir': 'turkey', 'aydƒ±n': 'turkey', 'tekirdaƒü': 'turkey', '√ßorum': 'turkey',
             'kƒ±rƒ±kkale': 'turkey', 'afyon': 'turkey', 'isparta': 'turkey', 'zonguldak': 'turkey',
             'u≈üak': 'turkey', 'd√ºzce': 'turkey', 'osmaniye': 'turkey', 'kƒ±r≈üehir': 'turkey',
             
             // Hollanda ≈üehirleri
             'amsterdam': 'netherlands', 'rotterdam': 'netherlands', 'the hague': 'netherlands', 'utrecht': 'netherlands',
             'eindhoven': 'netherlands', 'tilburg': 'netherlands', 'groningen': 'netherlands', 'almere': 'netherlands',
             'breda': 'netherlands', 'nijmegen': 'netherlands', 'enschede': 'netherlands', 'haarlem': 'netherlands',
             'arnhem': 'netherlands', 'zaanstad': 'netherlands', 'amersfoort': 'netherlands', 'apeldoorn': 'netherlands',
             's-hertogenbosch': 'netherlands', 'hoofddorp': 'netherlands', 'maastricht': 'netherlands', 'leiden': 'netherlands',
             'dordrecht': 'netherlands', 'zoetermeer': 'netherlands', 'zwolle': 'netherlands', 'deventer': 'netherlands',
             'delft': 'netherlands', 'alkmaar': 'netherlands', 'leeuwarden': 'netherlands', 'sittard-geleen': 'netherlands',
             'venlo': 'netherlands', 'hilversum': 'netherlands', 'hengelo': 'netherlands', 'purmerend': 'netherlands',
             'roosendaal': 'netherlands', 'schiedam': 'netherlands', 'spijkenisse': 'netherlands', 'ede': 'netherlands',
             
             // Bel√ßika ≈üehirleri
             'brussels': 'belgium', 'antwerp': 'belgium', 'ghent': 'belgium', 'charleroi': 'belgium',
             'li√®ge': 'belgium', 'bruges': 'belgium', 'namur': 'belgium', 'leuven': 'belgium',
             'mons': 'belgium', 'aalst': 'belgium', 'mechelen': 'belgium', 'la louvi√®re': 'belgium',
             'kortrijk': 'belgium', 'hasselt': 'belgium', 'sint-niklaas': 'belgium', 'ostend': 'belgium',
             'genk': 'belgium', 'seraing': 'belgium', 'roeselare': 'belgium', 'verviers': 'belgium',
             'mouscron': 'belgium', 'beveren': 'belgium', 'dendermonde': 'belgium', 'beringen': 'belgium',
             'turnhout': 'belgium', 'vilvoorde': 'belgium', 'lokeren': 'belgium', 'sint-truiden': 'belgium',
             'herstal': 'belgium', 'brasschaat': 'belgium', 'waregem': 'belgium', 'grimbergen': 'belgium',
             
             // ƒ∞svi√ßre ≈üehirleri
             'zurich': 'switzerland', 'geneva': 'switzerland', 'basel': 'switzerland', 'bern': 'switzerland',
             'lausanne': 'switzerland', 'winterthur': 'switzerland', 'lucerne': 'switzerland', 'st. gallen': 'switzerland',
             'lugano': 'switzerland', 'biel/bienne': 'switzerland', 'thun': 'switzerland', 'k√∂niz': 'switzerland',
             'la chaux-de-fonds': 'switzerland', 'schaffhausen': 'switzerland', 'fribourg': 'switzerland', 'vernier': 'switzerland',
             'chur': 'switzerland', 'neuch√¢tel': 'switzerland', 'uster': 'switzerland', 'sion': 'switzerland',
             'emmen': 'switzerland', 'zug': 'switzerland', 'yverdon-les-bains': 'switzerland', 'd√ºbendorf': 'switzerland',
             'dietikon': 'switzerland', 'montreux': 'switzerland', 'frauenfeld': 'switzerland', 'wetzikon': 'switzerland',
             'baar': 'switzerland', 'rapperswil-jona': 'switzerland', 'carouge': 'switzerland', 'riehen': 'switzerland',
             
             // Avusturya ≈üehirleri
             'vienna': 'austria', 'graz': 'austria', 'linz': 'austria', 'salzburg': 'austria',
             'innsbruck': 'austria', 'klagenfurt': 'austria', 'villach': 'austria', 'wels': 'austria',
             'sankt p√∂lten': 'austria', 'dornbirn': 'austria', 'steyr': 'austria', 'wiener neustadt': 'austria',
             'feldkirch': 'austria', 'bregenz': 'austria', 'leonding': 'austria', 'klosterneuburg': 'austria',
             'baden': 'austria', 'wolfsberg': 'austria', 'leoben': 'austria', 'krems': 'austria',
             'traun': 'austria', 'amstetten': 'austria', 'kapfenberg': 'austria', 'm√∂dling': 'austria',
             'hallein': 'austria', 'kufstein': 'austria', 'traiskirchen': 'austria', 'schwechat': 'austria',
             'braunau am inn': 'austria', 'stockerau': 'austria', 'saalfelden': 'austria', 'ansfelden': 'austria',
             
             // Portekiz ≈üehirleri
             'lisbon': 'portugal', 'porto': 'portugal', 'amadora': 'portugal', 'braga': 'portugal',
             'set√∫bal': 'portugal', 'coimbra': 'portugal', 'funchal': 'portugal', 'almada': 'portugal',
             'agualva-cac√©m': 'portugal', 'queluz': 'portugal', 'aveiro': 'portugal', '√©vora': 'portugal',
             'rio maior': 'portugal', 'odivelas': 'portugal', 'loures': 'portugal', 'matosinhos': 'portugal',
             'gondomar': 'portugal', 'vila nova de gaia': 'portugal', 'viseu': 'portugal', 'guimar√£es': 'portugal',
             'leiria': 'portugal', 'faro': 'portugal', 'santar√©m': 'portugal', 'barreiro': 'portugal',
             'montijo': 'portugal', 'sintra': 'portugal', 'cascais': 'portugal', 'vila franca de xira': 'portugal',
             'esposende': 'portugal', 'p√≥voa de varzim': 'portugal', 'torres vedras': 'portugal', 'paredes': 'portugal',
             
             // Yunanistan ≈üehirleri
             'athens': 'greece', 'thessaloniki': 'greece', 'patras': 'greece', 'heraklion': 'greece',
             'larissa': 'greece', 'volos': 'greece', 'rhodes': 'greece', 'ioannina': 'greece',
             'chania': 'greece', 'chalcis': 'greece', 'serres': 'greece', 'alexandroupoli': 'greece',
             'xanthi': 'greece', 'katerini': 'greece', 'trikala': 'greece', 'lamia': 'greece',
             'kavala': 'greece', 'kalamata': 'greece', 'veria': 'greece', 'corfu': 'greece',
             'drama': 'greece', 'tripoli': 'greece', 'kozani': 'greece', 'agrinio': 'greece',
             'giannitsa': 'greece', 'preveza': 'greece', 'karditsa': 'greece', 'rethymno': 'greece',
             'mytilene': 'greece', 'chios': 'greece', 'pyrgos': 'greece', 'aigio': 'greece',
             
             // Polonya ≈üehirleri
             'warsaw': 'poland', 'krak√≥w': 'poland', '≈Ç√≥d≈∫': 'poland', 'wroc≈Çaw': 'poland',
             'pozna≈Ñ': 'poland', 'gda≈Ñsk': 'poland', 'szczecin': 'poland', 'bydgoszcz': 'poland',
             'lublin': 'poland', 'katowice': 'poland', 'bia≈Çystok': 'poland', 'gdynia': 'poland',
             'czƒôstochowa': 'poland', 'radom': 'poland', 'sosnowiec': 'poland', 'toru≈Ñ': 'poland',
             'kielce': 'poland', 'gliwice': 'poland', 'zabrze': 'poland', 'bytom': 'poland',
             'olsztyn': 'poland', 'bielsko-bia≈Ça': 'poland', 'rzesz√≥w': 'poland', 'ruda ≈õlƒÖska': 'poland',
             'rybnik': 'poland', 'tychy': 'poland', 'dƒÖbrowa g√≥rnicza': 'poland', 'p≈Çock': 'poland',
             'elblƒÖg': 'poland', 'opole': 'poland', 'gorz√≥w wielkopolski': 'poland', 'wa≈Çbrzych': 'poland',
             
             // √áek Cumhuriyeti ≈üehirleri
             'prague': 'czech republic', 'brno': 'czech republic', 'ostrava': 'czech republic', 'plzen': 'czech republic',
             'liberec': 'czech republic', 'olomouc': 'czech republic', 'ƒçesk√© budƒõjovice': 'czech republic', 'hradec kr√°lov√©': 'czech republic',
             '√∫st√≠ nad labem': 'czech republic', 'pardubice': 'czech republic', 'zl√≠n': 'czech republic', 'hav√≠≈ôov': 'czech republic',
             'kladno': 'czech republic', 'most': 'czech republic', 'opava': 'czech republic', 'fr√Ωdek-m√≠stek': 'czech republic',
             'karvin√°': 'czech republic', 'jihlava': 'czech republic', 'teplice': 'czech republic', 'dƒõƒç√≠n': 'czech republic',
             'karlovy vary': 'czech republic', 'jablonec nad nisou': 'czech republic', 'mlad√° boleslav': 'czech republic', 'prostƒõjov': 'czech republic',
             'p≈ôerov': 'czech republic', 'ƒçesk√° l√≠pa': 'czech republic', 't≈ôeb√≠ƒç': 'czech republic', 't√°bor': 'czech republic',
             'znojmo': 'czech republic', 'p≈ô√≠bram': 'czech republic', 'cheb': 'czech republic', 'trutnov': 'czech republic',
             
             // Macaristan ≈üehirleri
             'budapest': 'hungary', 'debrecen': 'hungary', 'szeged': 'hungary', 'miskolc': 'hungary',
             'p√©cs': 'hungary', 'gy≈ër': 'hungary', 'ny√≠regyh√°za': 'hungary', 'kecskem√©t': 'hungary',
             'sz√©kesfeh√©rv√°r': 'hungary', 'szombathely': 'hungary', 'szolnok': 'hungary', 'tatab√°nya': 'hungary',
             'kaposv√°r': 'hungary', 'b√©k√©scsaba': 'hungary', '√©rd': 'hungary', 'zalaegerszeg': 'hungary',
             'sopron': 'hungary', 'eger': 'hungary', 'nagykanizsa': 'hungary', 'dunakeszi': 'hungary',
             'h√≥dmez≈ëv√°s√°rhely': 'hungary', 'szeksz√°rd': 'hungary', 'moh√°cs': 'hungary', 't√∂r√∂kszentmikl√≥s': 'hungary',
             'cegl√©d': 'hungary', 'orosh√°za': 'hungary', 'salg√≥tarj√°n': 'hungary', 'p√°pa': 'hungary',
             'hajd√∫b√∂sz√∂rm√©ny': 'hungary', 'v√°c': 'hungary', 'gyula': 'hungary', 'kom√°rom': 'hungary',
             
             // Romanya ≈üehirleri
             'bucharest': 'romania', 'cluj-napoca': 'romania', 'timi»ôoara': 'romania', 'ia»ôi': 'romania',
             'constan»õa': 'romania', 'craiova': 'romania', 'bra»ôov': 'romania', 'gala»õi': 'romania',
             'ploie»ôti': 'romania', 'oradea': 'romania', 'brƒÉila': 'romania', 'arad': 'romania',
             'pite»ôti': 'romania', 'sibiu': 'romania', 'bacƒÉu': 'romania', 't√¢rgu mure»ô': 'romania',
             'baia mare': 'romania', 'buzƒÉu': 'romania', 'boto»ôani': 'romania', 'satu mare': 'romania',
             'r√¢mnicu v√¢lcea': 'romania', 'drobeta-turnu severin': 'romania', 'suceava': 'romania', 'piatra neam»õ': 'romania',
             't√¢rgu jiu': 'romania', 'tulcea': 'romania', 'foc»ôani': 'romania', 'bistri»õa': 'romania',
             're»ôi»õa': 'romania', 'alba iulia': 'romania', 'slatina': 'romania', 'c√¢mpulung': 'romania',
             
             // Bulgaristan ≈üehirleri
             'sofia': 'bulgaria', 'plovdiv': 'bulgaria', 'varna': 'bulgaria', 'burgas': 'bulgaria',
             'ruse': 'bulgaria', 'stara zagora': 'bulgaria', 'pleven': 'bulgaria', 'sliven': 'bulgaria',
             'dobrich': 'bulgaria', 'shumen': 'bulgaria', 'pernik': 'bulgaria', 'haskovo': 'bulgaria',
             'yambol': 'bulgaria', 'pazardzhik': 'bulgaria', 'blagoevgrad': 'bulgaria', 'veliko tarnovo': 'bulgaria',
             'vratsa': 'bulgaria', 'gabrovo': 'bulgaria', 'asenovgrad': 'bulgaria', 'vidin': 'bulgaria',
             'kazanlak': 'bulgaria', 'kyustendil': 'bulgaria', 'kardzhali': 'bulgaria', 'montana': 'bulgaria',
             'dimitrovgrad': 'bulgaria', 'targovishte': 'bulgaria', 'lovech': 'bulgaria', 'silistra': 'bulgaria',
             'dupnitsa': 'bulgaria', 'svishtov': 'bulgaria', 'velingrad': 'bulgaria', 'gorna oryahovitsa': 'bulgaria',
             
             // Hƒ±rvatistan ≈üehirleri
             'zagreb': 'croatia', 'split': 'croatia', 'rijeka': 'croatia', 'osijek': 'croatia',
             'zadar': 'croatia', 'pula': 'croatia', 'slavonski brod': 'croatia', 'karlovac': 'croatia',
             'vara≈ædin': 'croatia', '≈°ibenik': 'croatia', 'sisak': 'croatia', 'velika gorica': 'croatia',
             'vukovar': 'croatia', 'dubrovnik': 'croatia', 'bjelovar': 'croatia', 'koprivnica': 'croatia',
             'po≈æega': 'croatia', 'zapre≈°iƒá': 'croatia', 'solin': 'croatia', 'cakovec': 'croatia',
             'vinkovci': 'croatia', 'nova gradi≈°ka': 'croatia', 'trogir': 'croatia', 'krapina': 'croatia',
             'samobor': 'croatia', 'kri≈æevci': 'croatia', 'makarska': 'croatia', 'ƒçakovec': 'croatia',
             'gospiƒá': 'croatia', 'ƒëakovo': 'croatia', 'imotski': 'croatia', 'metkoviƒá': 'croatia',
             
             // Slovakya ≈üehirleri
             'bratislava': 'slovakia', 'ko≈°ice': 'slovakia', 'pre≈°ov': 'slovakia', '≈æilina': 'slovakia',
             'bansk√° bystrica': 'slovakia', 'nitra': 'slovakia', 'trnava': 'slovakia', 'martin': 'slovakia',
             'trenƒç√≠n': 'slovakia', 'poprad': 'slovakia', 'prievidza': 'slovakia', 'zvolen': 'slovakia',
             'pova≈æsk√° bystrica': 'slovakia', 'michalovce': 'slovakia', 'spi≈°sk√° nov√° ves': 'slovakia', 'kom√°rno': 'slovakia',
             'levice': 'slovakia', 'bardejov': 'slovakia', 'liptovsk√Ω mikul√°≈°': 'slovakia', 'ru≈æomberok': 'slovakia',
             'doln√Ω kub√≠n': 'slovakia', 'rimavsk√° sobota': 'slovakia', 'topoƒæƒçany': 'slovakia', 'galanta': 'slovakia',
             'dunajsk√° streda': 'slovakia', 'brezno': 'slovakia', 'senica': 'slovakia', 'snina': 'slovakia',
             'luƒçenec': 'slovakia', 'trebi≈°ov': 'slovakia', 'malacky': 'slovakia', 'ro≈æ≈àava': 'slovakia',
             
             // Slovenya ≈üehirleri
             'ljubljana': 'slovenia', 'maribor': 'slovenia', 'celje': 'slovenia', 'kranj': 'slovenia',
             'velenje': 'slovenia', 'koper': 'slovenia', 'novo mesto': 'slovenia', 'ptuj': 'slovenia',
             'trbovlje': 'slovenia', 'kamnik': 'slovenia', 'jesenice': 'slovenia', 'nova gorica': 'slovenia',
             'dom≈æale': 'slovenia', '≈°kofja loka': 'slovenia', 'murska sobota': 'slovenia', 'slovenj gradec': 'slovenia',
             'kr≈°ko': 'slovenia', 'postojna': 'slovenia', 'litija': 'slovenia', 'radovljica': 'slovenia',
             'idrija': 'slovenia', 'grosuplje': 'slovenia', 'izola': 'slovenia', 'logatec': 'slovenia',
             'vrhnika': 'slovenia', 'tolmin': 'slovenia', 'sevnica': 'slovenia', 'ajdov≈°ƒçina': 'slovenia',
             'bled': 'slovenia', 'piran': 'slovenia', 'bovec': 'slovenia', 'bohinj': 'slovenia',
             
             // Estonya ≈üehirleri
             'tallinn': 'estonia', 'tartu': 'estonia', 'narva': 'estonia', 'p√§rnu': 'estonia',
             'kohtla-j√§rve': 'estonia', 'viljandi': 'estonia', 'rakvere': 'estonia', 'maardu': 'estonia',
             'sillam√§e': 'estonia', 'kuressaare': 'estonia', 'v√µru': 'estonia', 'valga': 'estonia',
             'haapsalu': 'estonia', 'j√µhvi': 'estonia', 'paide': 'estonia', 'keila': 'estonia',
             'saue': 'estonia', 'elva': 'estonia', 'tapa': 'estonia', 'p√µlva': 'estonia',
             'j√µgeva': 'estonia', 'kivi√µli': 'estonia', 'rapla': 'estonia', 'k√§rdla': 'estonia',
             't√ºri': 'estonia', 'loksa': 'estonia', 'otep√§√§': 'estonia', 'p√µltsamaa': 'estonia',
             'kehra': 'estonia', 'paldiski': 'estonia', 't√µrva': 'estonia', 'kunda': 'estonia',
             
             // Letonya ≈üehirleri
             'riga': 'latvia', 'daugavpils': 'latvia', 'liepƒÅja': 'latvia', 'jelgava': 'latvia',
             'j≈´rmala': 'latvia', 'ventspils': 'latvia', 'rƒìzekne': 'latvia', 'valmiera': 'latvia',
             'jƒìkabpils': 'latvia', 'ogre': 'latvia', 'tukums': 'latvia', 'salaspils': 'latvia',
             'cƒìsis': 'latvia', 'kuldƒ´ga': 'latvia', 'saldus': 'latvia', 'talsi': 'latvia',
             'dobele': 'latvia', 'krƒÅslava': 'latvia', 'bauska': 'latvia', 'sigulda': 'latvia',
             'madona': 'latvia', 'aizkraukle': 'latvia', 'limba≈æi': 'latvia', 'gulbene': 'latvia',
             'al≈´ksne': 'latvia', 'balvi': 'latvia', 'ludza': 'latvia', 'preiƒºi': 'latvia',
             'smiltene': 'latvia', 'auce': 'latvia', 'pƒÅvilosta': 'latvia', 'stende': 'latvia',
             
             // Litvanya ≈üehirleri
             'vilnius': 'lithuania', 'kaunas': 'lithuania', 'klaipƒóda': 'lithuania', '≈°iauliai': 'lithuania',
             'panevƒó≈æys': 'lithuania', 'alytus': 'lithuania', 'marijampolƒó': 'lithuania', 'ma≈æeikiai': 'lithuania',
             'jonava': 'lithuania', 'utena': 'lithuania', 'kƒódainiai': 'lithuania', 'tel≈°iai': 'lithuania',
             'visaginas': 'lithuania', 'tauragƒó': 'lithuania', 'ukmergƒó': 'lithuania', 'plungƒó': 'lithuania',
             'kretinga': 'lithuania', '≈°ilutƒó': 'lithuania', 'radvili≈°kis': 'lithuania', 'garg≈ædai': 'lithuania',
             'druskininkai': 'lithuania', 'palanga': 'lithuania', 'roki≈°kis': 'lithuania', 'bir≈æai': 'lithuania',
             'elektrƒónai': 'lithuania', 'garliava': 'lithuania', 'kur≈°ƒónai': 'lithuania', 'vilkavi≈°kis': 'lithuania',
             '≈°akiai': 'lithuania', 'raseiniai': 'lithuania', 'anyk≈°ƒçiai': 'lithuania', 'prienai': 'lithuania'
           };
           
           return cityCountryMap[cityName.toLowerCase()] || null; // Bilinmeyen ≈üehirler i√ßin null d√∂nd√ºr
         }
         
         // ≈ûehir i√ßin √∂rnek turistik yerler olu≈ütur
         function generateCityPlaces(cityName, detectedCountry) {
           const countryFilter = document.getElementById('countryFilter');
           let selectedCountry = detectedCountry ? detectedCountry.toUpperCase() : (countryFilter ? countryFilter.value.toUpperCase() : 'GERMANY');
           
           // G√ºvenlik kontrol√º - selectedCountry'nin undefined olmamasƒ±nƒ± saƒüla
           if (!selectedCountry || selectedCountry === 'UNDEFINED') {
             selectedCountry = 'GERMANY';
           }
           
           // √ñzel ≈üehir verileri - d√ºnyaca √ºnl√º ≈üehirler i√ßin ger√ßek turistik yerler
           const specialCities = {
             'berlin': [
               { name: 'Brandenburg Kapƒ±sƒ±', category: 'Tarihi Yapƒ±', desc: 'Berlin\'in en √ºnl√º simgesi olan Brandenburg Kapƒ±sƒ±, Almanya\'nƒ±n birle≈ümesinin sembol√ºd√ºr. 1791 yƒ±lƒ±nda in≈üa edilen bu neoklasik yapƒ±, Berlin Duvarƒ±\'nƒ±n yƒ±kƒ±lmasƒ±ndan sonra √∂zg√ºrl√ºƒü√ºn simgesi haline gelmi≈ütir.' },
               { name: 'Berlin Duvarƒ±', category: 'Tarihi Yapƒ±', desc: 'Soƒüuk Sava≈ü d√∂neminin en √∂nemli sembollerinden biri olan Berlin Duvarƒ±\'nƒ±n kalƒ±ntƒ±larƒ±. East Side Gallery b√∂l√ºm√ºnde d√ºnyaca √ºnl√º sanat√ßƒ±larƒ±n duvar resimleri bulunmaktadƒ±r.' },
               { name: 'Reichstag Binasƒ±', category: 'H√ºk√ºmet Binasƒ±', desc: 'Alman Parlamentosu\'nun bulunduƒüu tarihi bina. Norman Foster tarafƒ±ndan tasarlanan cam kubbesi ile √ºnl√ºd√ºr ve √ºcretsiz ziyaret edilebilir.' },
               { name: 'Museum Island', category: 'M√ºze Kompleksi', desc: 'UNESCO D√ºnya Mirasƒ± listesinde yer alan m√ºze adasƒ±, be≈ü d√ºnyaca √ºnl√º m√ºzeyi barƒ±ndƒ±rƒ±r: Pergamon M√ºzesi, Bode M√ºzesi, Neues Museum, Alte Nationalgalerie ve Altes Museum.' },
               { name: 'Checkpoint Charlie', category: 'Tarihi Yer', desc: 'Soƒüuk Sava≈ü d√∂neminde Doƒüu ve Batƒ± Berlin arasƒ±ndaki en √ºnl√º sƒ±nƒ±r kapƒ±sƒ±. Bug√ºn m√ºze olarak hizmet vermekte ve d√∂nemin atmosferini ya≈üatmaktadƒ±r.' },
               { name: 'Tiergarten', category: 'Park', desc: 'Berlin\'in kalbinde yer alan 210 hektarlƒ±k b√ºy√ºk park. Y√ºr√ºy√º≈ü, bisiklet s√ºrme ve piknik i√ßin ideal. ƒ∞√ßinde Zafer Anƒ±tƒ± ve Bellevue Sarayƒ± bulunur.' },
               { name: 'Potsdamer Platz', category: '≈ûehir Merkezi', desc: 'Modern Berlin\'in kalbi olan bu meydan, g√∂kdelenler, alƒ±≈üveri≈ü merkezleri, sinema kompleksleri ve restoranlarla dolu canlƒ± bir b√∂lgedir.' },
               { name: 'Berlin Katedrali', category: 'Dini Yapƒ±', desc: 'Spree Nehri kƒ±yƒ±sƒ±nda yer alan g√∂rkemli Protestan katedrali. Barok mimarisi ve muhte≈üem kubbesi ile Berlin\'in en g√ºzel yapƒ±larƒ±ndan biridir.' },
               { name: 'Alexanderplatz', category: 'Meydan', desc: 'Berlin\'in en b√ºy√ºk meydanlarƒ±ndan biri. TV Kulesi, D√ºnya Saati ve √ße≈üitli alƒ±≈üveri≈ü merkezleri ile ≈üehrin √∂nemli bulu≈üma noktalarƒ±ndan biridir.' },
               { name: 'Charlottenburg Sarayƒ±', category: 'Saray', desc: 'Berlin\'in en b√ºy√ºk sarayƒ± ve Prusya kraliyet ailesinin eski ikametgahƒ±. Barok ve rokoko tarzƒ±nda dekore edilmi≈ü odalarƒ± ve muhte≈üem bah√ßeleri ile √ºnl√ºd√ºr.' },
               { name: 'Berlin TV Kulesi', category: 'Kule', desc: 'Alexanderplatz\'ta yer alan 368 metre y√ºksekliƒüindeki televizyon kulesi. Berlin\'in panoramik manzarasƒ±nƒ± sunan g√∂zlem terasƒ± ve d√∂ner restoran ile √ºnl√ºd√ºr.' },
               { name: 'Kreuzberg', category: 'Mahalle', desc: 'Berlin\'in alternatif k√ºlt√ºr merkezi ve K√º√ß√ºk ƒ∞stanbul olarak bilinen b√∂lge. T√ºrk n√ºfusunun yoƒüun olduƒüu bu b√∂lge, gece kul√ºpleri, sanat galerileri ve √ßok k√ºlt√ºrl√º atmosferi ile √ºnl√ºd√ºr.' },
               { name: 'Hackescher Markt', category: 'Alƒ±≈üveri≈ü B√∂lgesi', desc: 'Berlin\'in en canlƒ± alƒ±≈üveri≈ü ve eƒülence b√∂lgelerinden biri. Butik maƒüazalar, kafeler, restoranlar ve gece hayatƒ± ile pop√ºler bir destinasyon.' },
               { name: 'Gendarmenmarkt', category: 'Meydan', desc: 'Berlin\'in en g√ºzel meydanlarƒ±ndan biri. Fransƒ±z ve Alman katedralleri ile Konser Salonu\'nun √ßevrelediƒüi bu meydan, klasik mimarinin harikasƒ±.' },
               { name: 'Unter den Linden', category: 'Cadde', desc: 'Berlin\'in en √ºnl√º caddesi. Brandenburg Kapƒ±sƒ±\'ndan ba≈ülayarak ≈üehir merkezine uzanan bu tarihi cadde, √∂nemli binalarƒ± ve anƒ±tlarƒ± ile √ºnl√ºd√ºr.' },
               { name: 'Pergamon M√ºzesi', category: 'M√ºze', desc: 'Antik mimari eserlerin sergilendiƒüi d√ºnyaca √ºnl√º m√ºze. Pergamon Sunaƒüƒ±, ƒ∞shtar Kapƒ±sƒ± ve Roma Pazarƒ± Kapƒ±sƒ± gibi muhte≈üem eserler barƒ±ndƒ±rƒ±r.' },
               { name: 'Topography of Terror', category: 'M√ºze', desc: 'Nazi d√∂neminin korkun√ß tarihini anlatan a√ßƒ±k hava m√ºzesi. SS ve Gestapo merkezinin bulunduƒüu yerde kurulmu≈ü olan m√ºze, tarihin karanlƒ±k sayfalarƒ±nƒ± sergiler.' },
               { name: 'Spree Nehri', category: 'Doƒüal G√ºzellik', desc: 'Berlin\'i ge√ßen nehir. Tekne turlarƒ±, nehir kƒ±yƒ±sƒ±nda y√ºr√ºy√º≈ü ve √ße≈üitli su sporlarƒ± i√ßin ideal. ≈ûehrin farklƒ± a√ßƒ±lardan g√∂r√ºlmesini saƒülar.' },
               { name: 'Friedrichshain', category: 'Mahalle', desc: 'Gen√ß ve dinamik atmosferi ile √ºnl√º b√∂lge. East Side Gallery, RAW Gel√§nde ve √ßok sayƒ±da bar, kul√ºp ile Berlin\'in alternatif ya≈üamƒ±nƒ±n merkezi.' },
               { name: 'Prenzlauer Berg', category: 'Mahalle', desc: 'Bohemyen atmosferi ve restore edilmi≈ü tarihi binalarƒ± ile √ºnl√º b√∂lge. Kafeler, butik maƒüazalar ve sanat galerileri ile Berlin\'in en ≈üƒ±k semtlerinden biri.' },
               { name: 'Bernauer Strasse', category: 'Tarihi Yer', desc: 'Berlin Duvarƒ± Anƒ±tƒ±\'nƒ±n bulunduƒüu sokak. Duvarƒ±n kalƒ±ntƒ±larƒ± ve a√ßƒ±k hava sergisi ile Soƒüuk Sava≈ü d√∂neminin acƒ± hatƒ±ralarƒ±nƒ± ya≈üatƒ±r.' },
               { name: 'Badeschiff', category: 'Eƒülence', desc: 'Spree Nehri √ºzerinde in≈üa edilmi≈ü devasa bir y√ºzme havuzu. Sƒ±cak yaz g√ºnlerinde doyasƒ±ya eƒülenmek ve serinlemek i√ßin gidebileceƒüiniz en pop√ºler yerlerden biri.' },
               { name: 'Tempelhof Parkƒ±', category: 'Park', desc: 'Eski havaalanƒ±nƒ±n d√∂n√º≈üt√ºr√ºld√ºƒü√º b√ºy√ºk park. Bisiklet s√ºrme, piknik yapma ve a√ßƒ±k hava etkinlikleri i√ßin ideal. Berlin\'in en b√ºy√ºk ye≈üil alanlarƒ±ndan biri.' },
               { name: 'Kulturforum', category: 'K√ºlt√ºr Merkezi', desc: 'Modern sanat m√ºzeleri ve konser salonlarƒ±nƒ±n bulunduƒüu k√ºlt√ºr kompleksi. Neue Nationalgalerie, Philharmonie ve diƒüer sanat kurumlarƒ± burada yer alƒ±r.' },
               { name: 'Nikolaiviertel', category: 'Tarihi Mahalle', desc: 'Berlin\'in en eski mahallesi. Orta√ßaƒü mimarisi ve dar sokaklarƒ± ile ≈üehrin tarihi atmosferini ya≈üatƒ±r. Restoranlar ve butik maƒüazalar ile pop√ºler.' },
               { name: 'Mitte', category: 'Mahalle', desc: 'Berlin\'in merkezi mahallesi. Tarihi binalar, modern ofisler, m√ºzeler ve alƒ±≈üveri≈ü merkezleri ile ≈üehrin kalbi. Unter den Linden ve Museum Island burada yer alƒ±r.' },
               { name: 'Neuk√∂lln', category: 'Mahalle', desc: '√áok k√ºlt√ºrl√º atmosferi ile √ºnl√º b√∂lge. T√ºrk, Arap ve diƒüer g√∂√ßmen topluluklarƒ±n ya≈üadƒ±ƒüƒ± bu mahalle, alternatif sanat sahnesi ve gece hayatƒ± ile √ºnl√º.' },
               { name: 'Sch√∂neberg', category: 'Mahalle', desc: 'Queer k√ºlt√ºr√ºn√ºn merkezi olan b√∂lge. Nollendorfplatz √ßevresinde LGBT+ dostu mekanlar, barlar ve restoranlar bulunur. Berlin\'in en renkli mahallelerinden biri.' },
               { name: 'Moabit', category: 'Mahalle', desc: 'Spree Nehri kƒ±yƒ±sƒ±nda yer alan mahalle. Tiergarten\'a yakƒ±n konumu ve huzurlu atmosferi ile aileler i√ßin ideal. Parklar ve ye≈üil alanlar a√ßƒ±sƒ±ndan zengin.' },
               { name: 'Wedding', category: 'Mahalle', desc: 'Berlin\'in kuzeyinde yer alan √ßok k√ºlt√ºrl√º mahalle. G√∂√ßmen n√ºfusun yoƒüun olduƒüu bu b√∂lge, uygun fiyatlƒ± restoranlar ve canlƒ± sokak ya≈üamƒ± ile √ºnl√º.' },
               { name: 'Lichtenberg', category: 'Mahalle', desc: 'Doƒüu Berlin\'in eski end√ºstri b√∂lgesi. G√ºn√ºm√ºzde yenilenme s√ºrecinde olan bu mahalle, alternatif sanat mekanlarƒ± ve yaratƒ±cƒ± end√ºstriler ile √ºnl√º.' },
               { name: 'Marzahn', category: 'Mahalle', desc: 'Plattenbau binalarƒ±nƒ±n yoƒüun olduƒüu mahalle. Doƒüu Almanya d√∂neminden kalma bu b√∂lge, g√ºn√ºm√ºzde yenilenme s√ºrecinde ve ye≈üil alanlarƒ± ile √ºnl√º.' },
               { name: 'Hellersdorf', category: 'Mahalle', desc: 'Berlin\'in en doƒüusundaki mahalle. Geni≈ü parklar, g√∂ller ve doƒüal alanlarƒ± ile ≈üehrin en ye≈üil b√∂lgelerinden biri. Aileler i√ßin ideal bir ya≈üam alanƒ±.' },
               { name: 'Spandau', category: 'Mahalle', desc: 'Berlin\'in batƒ±sƒ±nda yer alan tarihi mahalle. Orta√ßaƒü kalesi, eski ≈üehir merkezi ve Havel Nehri kƒ±yƒ±sƒ±ndaki konumu ile turistik a√ßƒ±dan deƒüerli.' },
               { name: 'Steglitz', category: 'Mahalle', desc: 'Berlin\'in g√ºneybatƒ±sƒ±nda yer alan √ºst orta sƒ±nƒ±f mahalle. Schlossstra√üe alƒ±≈üveri≈ü caddesi, ye≈üil alanlarƒ± ve huzurlu atmosferi ile √ºnl√º.' },
               { name: 'Zehlendorf', category: 'Mahalle', desc: 'Berlin\'in g√ºneybatƒ±sƒ±nda yer alan varlƒ±klƒ± mahalle. Wannsee G√∂l√º, Grunewald Ormanƒ± ve villalarƒ± ile ≈üehrin en prestijli b√∂lgelerinden biri.' },
               { name: 'Sch√∂nefeld', category: 'Mahalle', desc: 'Berlin Brandenburg Havalimanƒ±\'na yakƒ±n konumu ile √ºnl√º. Eski Doƒüu Almanya d√∂neminden kalma bu b√∂lge, g√ºn√ºm√ºzde havalimanƒ± √ßalƒ±≈üanlarƒ±nƒ±n ya≈üadƒ±ƒüƒ± yer.' },
               { name: 'Treptow', category: 'Mahalle', desc: 'Spree Nehri kƒ±yƒ±sƒ±nda yer alan mahalle. Treptower Park, Sovyet Anƒ±tƒ± ve nehir manzarasƒ± ile √ºnl√º. Doƒüa severler i√ßin ideal bir b√∂lge.' },
               { name: 'K√∂penick', category: 'Mahalle', desc: 'Berlin\'in g√ºneydoƒüusunda yer alan tarihi mahalle. K√∂penick Kalesi, eski ≈üehir merkezi ve M√ºggelsee G√∂l√º ile √ºnl√º. Doƒüa ve tarih bir arada.' },
               { name: 'Pankow', category: 'Mahalle', desc: 'Berlin\'in kuzeydoƒüusunda yer alan mahalle. Prenzlauer Berg\'i de i√ßeren bu b√∂lge, bohemyen atmosferi ve alternatif k√ºlt√ºr√º ile √ºnl√º.' },
               { name: 'Reinickendorf', category: 'Mahalle', desc: 'Berlin\'in kuzeyinde yer alan mahalle. Tegel G√∂l√º, Tegel Ormanƒ± ve doƒüal alanlarƒ± ile √ºnl√º. ≈ûehrin en ye≈üil b√∂lgelerinden biri.' }
             ],
             'paris': [
               { name: 'Eyfel Kulesi', category: 'Anƒ±t', desc: 'Paris\'in simgesi olan 324 metre y√ºksekliƒüindeki demir kule. 1889 yƒ±lƒ±nda in≈üa edilen bu muhte≈üem yapƒ±, ≈üehrin her yerinden g√∂r√ºlebilir ve gece ƒ±≈üƒ±klandƒ±rmasƒ± b√ºy√ºleyicidir.' },
               { name: 'Louvre M√ºzesi', category: 'M√ºze', desc: 'D√ºnyanƒ±n en b√ºy√ºk sanat m√ºzesi. Mona Lisa, Ven√ºs de Milo gibi √ºnl√º eserleri barƒ±ndƒ±rƒ±r. Eski kraliyet sarayƒ±nda kurulmu≈ü olan m√ºze, sanat severlerin cenneti.' },
               { name: 'Notre-Dame Katedrali', category: 'Dini Yapƒ±', desc: 'Gotik mimarinin en g√ºzel √∂rneklerinden biri olan katedral. Victor Hugo\'nun romanƒ±yla √ºnlenen bu yapƒ±, Paris\'in kalbinde Seine Nehri √ºzerindeki adada yer alƒ±r.' },
               { name: 'Champs-√âlys√©es', category: 'Cadde', desc: 'D√ºnyanƒ±n en √ºnl√º caddelerinden biri. L√ºks maƒüazalar, kafeler ve restoranlarla dolu olan bu cadde, Arc de Triomphe\'a kadar uzanƒ±r.' },
               { name: 'Sacr√©-C≈ìur Bazilikasƒ±', category: 'Dini Yapƒ±', desc: 'Montmartre tepesinde yer alan beyaz bazilika. Paris\'in panoramik manzarasƒ±nƒ± sunan bu yapƒ±, hem mimari g√ºzelliƒüi hem de konumuyla b√ºy√ºler.' },
               { name: 'Seine Nehri', category: 'Doƒüal G√ºzellik', desc: 'Paris\'i ikiye b√∂len tarihi nehir. Nehir kƒ±yƒ±sƒ±nda y√ºr√ºy√º≈ü yapmak, tekne turlarƒ± ve k√∂pr√ºlerin altƒ±ndan ge√ßmek unutulmaz deneyimler sunar.' },
               { name: 'Versay Sarayƒ±', category: 'Saray', desc: 'Fransƒ±z kraliyet ailesinin g√∂rkemli sarayƒ±. Altƒ±n kaplƒ± odalarƒ±, ayna salonu ve muhte≈üem bah√ßeleriyle Barok mimarinin en g√ºzel √∂rneƒüi.' },
               { name: 'Montmartre', category: 'Mahalle', desc: 'Sanat√ßƒ±lar mahallesi olarak √ºnl√º b√∂lge. Sokak sanat√ßƒ±larƒ±, kabareler ve bohemyen atmosferiyle Paris\'in en romantik k√∂≈üelerinden biri.' },
               { name: 'Arc de Triomphe', category: 'Anƒ±t', desc: 'Champs-√âlys√©es\'in sonunda yer alan zafer takƒ±. Napolyon\'un zaferlerini anmak i√ßin in≈üa edilen bu anƒ±t, Paris\'in en √∂nemli simgelerinden biri.' },
               { name: 'Mus√©e d\'Orsay', category: 'M√ºze', desc: 'Eski tren istasyonunda kurulmu≈ü sanat m√ºzesi. ƒ∞zlenimci sanatƒ±n en √∂nemli eserlerini barƒ±ndƒ±rƒ±r. Van Gogh, Monet ve diƒüer √ºnl√º sanat√ßƒ±larƒ±n eserleri sergilenir.' },
               { name: 'Centre Pompidou', category: 'M√ºze', desc: 'Modern sanat m√ºzesi. Dƒ±≈ü cephesindeki renkli borular ve merdivenlerle √ºnl√º bu yapƒ±, √ßaƒüda≈ü sanatƒ±n merkezi.' },
               { name: 'Luxembourg Bah√ßeleri', category: 'Park', desc: 'Senat√∂rl√ºk sarayƒ±nƒ±n bah√ßeleri. √ái√ßek tarhlarƒ±, heykeller ve g√∂l√º ile Paris\'in en g√ºzel parklarƒ±ndan biri.' },
               { name: 'Palais Garnier', category: 'Opera Binasƒ±', desc: 'G√∂rkemli opera binasƒ±. Barok mimarisi, altƒ±n kaplƒ± dekorasyonu ve muhte≈üem akustiƒüi ile √ºnl√º.' },
               { name: 'Place de la Concorde', category: 'Meydan', desc: 'Paris\'in en b√ºy√ºk meydanƒ±. Mƒ±sƒ±r\'dan getirilen Obelisk ve √ße≈ümeleri ile √ºnl√º.' },
               { name: 'Tuileries Bah√ßeleri', desc: 'Louvre ile Place de la Concorde arasƒ±nda uzanan tarihi bah√ßeler. Heykeller, √ßi√ßek tarhlarƒ± ve havuzlarƒ± ile √ºnl√º.' },
               { name: 'Sainte-Chapelle', category: 'Dini Yapƒ±', desc: 'Gotik mimarinin harikasƒ±. Vitray camlarƒ± ile √ºnl√º bu ≈üapel, Orta√ßaƒü sanatƒ±nƒ±n en g√ºzel √∂rneklerinden biri.' },
               { name: 'Panth√©on', category: 'Anƒ±t', desc: 'Fransƒ±z b√ºy√ºklerinin g√∂m√ºld√ºƒü√º anƒ±t mezar. Neoklasik mimarisi ve Foucault sarkacƒ± ile √ºnl√º.' },
               { name: 'Cimeti√®re du P√®re-Lachaise', category: 'Mezarlƒ±k', desc: 'D√ºnyanƒ±n en √ºnl√º mezarlƒ±ƒüƒ±. Jim Morrison, Oscar Wilde ve Edith Piaf gibi √ºnl√ºlerin g√∂m√ºld√ºƒü√º yer.' },
               { name: 'Marais', category: 'Mahalle', desc: 'Tarihi mahalle. R√∂nesans saraylarƒ±, butik maƒüazalar ve LGBT+ dostu mekanlarƒ± ile √ºnl√º.' },
               { name: 'Latin Quarter', category: 'Mahalle', desc: '√úniversite mahallesi. Sorbonne, kitap√ßƒ±lar ve √∂ƒürenci barlarƒ± ile √ºnl√º.' },
               { name: 'Le Marais', category: 'Mahalle', desc: 'Tarihi mahalle. R√∂nesans saraylarƒ±, butik maƒüazalar ve LGBT+ dostu mekanlarƒ± ile √ºnl√º.' },
               { name: 'Bastille', category: 'Meydan', desc: 'Fransƒ±z Devrimi\'nin ba≈üladƒ±ƒüƒ± yer. Opera Bastille ve modern anƒ±tƒ± ile √ºnl√º.' },
               { name: 'Place des Vosges', category: 'Meydan', desc: 'Paris\'in en eski meydanƒ±. Kare ≈üeklindeki tasarƒ±mƒ± ve tarihi binalarƒ± ile √ºnl√º.' },
               { name: 'Canal Saint-Martin', category: 'Kanal', desc: 'Romantik kanal. Tekne turlarƒ±, k√∂pr√ºler ve kafeler ile √ºnl√º.' },
               { name: 'Parc des Buttes-Chaumont', category: 'Park', desc: 'Doƒüal park. G√∂l√º, maƒüaralarƒ± ve muhte≈üem manzarasƒ± ile √ºnl√º.' },
               { name: 'Cit√© des Sciences', category: 'M√ºze', desc: 'Bilim m√ºzesi. ƒ∞nteraktif sergiler ve planetarium ile √ºnl√º.' },
               { name: 'Palais de Tokyo', category: 'M√ºze', desc: 'Modern sanat m√ºzesi. √áaƒüda≈ü sanatƒ±n en √∂nemli eserlerini sergiler.' },
               { name: 'Fondation Louis Vuitton', category: 'M√ºze', desc: 'Modern sanat m√ºzesi. Frank Gehry tarafƒ±ndan tasarlanan mimarisi ile √ºnl√º.' },
               { name: 'Mus√©e Rodin', category: 'M√ºze', desc: 'Heykel m√ºzesi. D√º≈ü√ºnen Adam ve diƒüer Rodin eserleri sergilenir.' },
               { name: 'Mus√©e Picasso', category: 'M√ºze', desc: 'Picasso m√ºzesi. Sanat√ßƒ±nƒ±n en √∂nemli eserlerini barƒ±ndƒ±rƒ±r.' },
               { name: 'Mus√©e de l\'Orangerie', category: 'M√ºze', desc: 'ƒ∞zlenimci sanat m√ºzesi. Monet\'nin Nymph√©as serisi ile √ºnl√º.' },
               { name: 'Mus√©e Marmottan Monet', category: 'M√ºze', desc: 'Monet m√ºzesi. Sanat√ßƒ±nƒ±n en b√ºy√ºk koleksiyonunu barƒ±ndƒ±rƒ±r.' },
               { name: 'Mus√©e Jacquemart-Andr√©', category: 'M√ºze', desc: '√ñzel koleksiyon m√ºzesi. R√∂nesans sanatƒ± ve dekoratif sanatlar sergilenir.' },
               { name: 'Mus√©e Nissim de Camondo', category: 'M√ºze', desc: '18. y√ºzyƒ±l dekoratif sanatlarƒ± m√ºzesi. Tarihi ev atmosferinde sergiler.' },
               { name: 'Mus√©e des Arts D√©coratifs', category: 'M√ºze', desc: 'Dekoratif sanatlar m√ºzesi. Mobilya, tekstil ve tasarƒ±m eserleri sergilenir.' },
               { name: 'Mus√©e des Arts et M√©tiers', category: 'M√ºze', desc: 'Bilim ve teknoloji m√ºzesi. Eski makineler ve bilimsel aletler sergilenir.' },
               { name: 'Mus√©e de l\'Arm√©e', category: 'M√ºze', desc: 'Askeri m√ºze. Napolyon\'un mezarƒ± ve askeri tarih sergileri.' },
               { name: 'Mus√©e de la Marine', category: 'M√ºze', desc: 'Denizcilik m√ºzesi. Gemi modelleri ve denizcilik tarihi sergileri.' },
               { name: 'Mus√©e de l\'Homme', category: 'M√ºze', desc: 'ƒ∞nsanlƒ±k m√ºzesi. Antropoloji ve etnoloji sergileri.' },
               { name: 'Mus√©e du Quai Branly', category: 'M√ºze', desc: 'Etnoloji m√ºzesi. Afrika, Asya ve Okyanusya sanatlarƒ± sergilenir.' },
               { name: 'Mus√©e Guimet', category: 'M√ºze', desc: 'Asya sanatlarƒ± m√ºzesi. √áin, Japonya ve Hindistan sanatlarƒ± sergilenir.' },
               { name: 'Mus√©e Cernuschi', category: 'M√ºze', desc: 'Asya sanatlarƒ± m√ºzesi. √áin sanatƒ±nƒ±n √∂zel koleksiyonu.' },
               { name: 'Mus√©e d\'Art Moderne de Paris', category: 'M√ºze', desc: 'Modern sanat m√ºzesi. 20. y√ºzyƒ±l sanatƒ±nƒ±n √∂nemli eserleri.' },
               { name: 'Mus√©e d\'Art et d\'Histoire du Juda√Øsme', category: 'M√ºze', desc: 'Yahudi tarihi ve k√ºlt√ºr√º m√ºzesi. Dini eserler ve tarihi belgeler.' },
               { name: 'Mus√©e de la Chasse et de la Nature', category: 'M√ºze', desc: 'Avcƒ±lƒ±k ve doƒüa m√ºzesi. Hayvan doldurmalarƒ± ve sanat eserleri.' },
               { name: 'Mus√©e de la Poup√©e', category: 'M√ºze', desc: 'Bebek m√ºzesi. Antika bebekler ve oyuncaklar sergilenir.' },
               { name: 'Mus√©e de la Magie', category: 'M√ºze', desc: 'Sihir m√ºzesi. Sihirbazlƒ±k tarihi ve aletleri sergilenir.' },
               { name: 'Mus√©e des √âgouts de Paris', category: 'M√ºze', desc: 'Kanalizasyon m√ºzesi. Paris\'in yeraltƒ± d√ºnyasƒ±nƒ± ke≈üfedin.' },
               { name: 'Mus√©e des Plans-Reliefs', category: 'M√ºze', desc: 'Harita m√ºzesi. Tarihi ≈üehir planlarƒ± ve 3D modeller.' },
               { name: 'Mus√©e de la Poste', category: 'M√ºze', desc: 'Posta m√ºzesi. Posta tarihi ve pul koleksiyonlarƒ±.' },
               { name: 'Mus√©e de la Monnaie de Paris', category: 'M√ºze', desc: 'Para m√ºzesi. Para basma tarihi ve madeni para koleksiyonlarƒ±.' },
               { name: 'Mus√©e de la Pr√©fecture de Police', category: 'M√ºze', desc: 'Polis m√ºzesi. Paris polisinin tarihi ve su√ß tarihi.' },
               { name: 'Mus√©e de la R√©sistance', category: 'M√ºze', desc: 'Direni≈ü m√ºzesi. ƒ∞kinci D√ºnya Sava≈üƒ± direni≈ü hareketi.' },
               { name: 'Mus√©e de la Lib√©ration', category: 'M√ºze', desc: 'Kurtulu≈ü m√ºzesi. Paris\'in Nazi i≈ügalinden kurtulu≈üu.' },
               { name: 'Mus√©e de la Grande Guerre', category: 'M√ºze', desc: 'B√ºy√ºk Sava≈ü m√ºzesi. Birinci D√ºnya Sava≈üƒ± tarihi.' },
               { name: 'Mus√©e de l\'Air et de l\'Espace', category: 'M√ºze', desc: 'Havacƒ±lƒ±k m√ºzesi. U√ßaklar ve uzay ara√ßlarƒ± sergilenir.' },
               { name: 'Mus√©e de l\'Arm√©e', category: 'M√ºze', desc: 'Askeri m√ºze. Napolyon\'un mezarƒ± ve askeri tarih sergileri.' },
               { name: 'Mus√©e de la Marine', category: 'M√ºze', desc: 'Denizcilik m√ºzesi. Gemi modelleri ve denizcilik tarihi sergileri.' },
               { name: 'Mus√©e de l\'Homme', category: 'M√ºze', desc: 'ƒ∞nsanlƒ±k m√ºzesi. Antropoloji ve etnoloji sergileri.' },
               { name: 'Mus√©e du Quai Branly', category: 'M√ºze', desc: 'Etnoloji m√ºzesi. Afrika, Asya ve Okyanusya sanatlarƒ± sergilenir.' },
               { name: 'Mus√©e Guimet', category: 'M√ºze', desc: 'Asya sanatlarƒ± m√ºzesi. √áin, Japonya ve Hindistan sanatlarƒ± sergilenir.' },
               { name: 'Mus√©e Cernuschi', category: 'M√ºze', desc: 'Asya sanatlarƒ± m√ºzesi. √áin sanatƒ±nƒ±n √∂zel koleksiyonu.' },
               { name: 'Mus√©e d\'Art Moderne de Paris', category: 'M√ºze', desc: 'Modern sanat m√ºzesi. 20. y√ºzyƒ±l sanatƒ±nƒ±n √∂nemli eserleri.' },
               { name: 'Mus√©e d\'Art et d\'Histoire du Juda√Øsme', category: 'M√ºze', desc: 'Yahudi tarihi ve k√ºlt√ºr√º m√ºzesi. Dini eserler ve tarihi belgeler.' },
               { name: 'Mus√©e de la Chasse et de la Nature', category: 'M√ºze', desc: 'Avcƒ±lƒ±k ve doƒüa m√ºzesi. Hayvan doldurmalarƒ± ve sanat eserleri.' },
               { name: 'Mus√©e de la Poup√©e', category: 'M√ºze', desc: 'Bebek m√ºzesi. Antika bebekler ve oyuncaklar sergilenir.' },
               { name: 'Mus√©e de la Magie', category: 'M√ºze', desc: 'Sihir m√ºzesi. Sihirbazlƒ±k tarihi ve aletleri sergilenir.' },
               { name: 'Mus√©e des √âgouts de Paris', category: 'M√ºze', desc: 'Kanalizasyon m√ºzesi. Paris\'in yeraltƒ± d√ºnyasƒ±nƒ± ke≈üfedin.' },
               { name: 'Mus√©e des Plans-Reliefs', category: 'M√ºze', desc: 'Harita m√ºzesi. Tarihi ≈üehir planlarƒ± ve 3D modeller.' },
               { name: 'Mus√©e de la Poste', category: 'M√ºze', desc: 'Posta m√ºzesi. Posta tarihi ve pul koleksiyonlarƒ±.' },
               { name: 'Mus√©e de la Monnaie de Paris', category: 'M√ºze', desc: 'Para m√ºzesi. Para basma tarihi ve madeni para koleksiyonlarƒ±.' },
               { name: 'Mus√©e de la Pr√©fecture de Police', category: 'M√ºze', desc: 'Polis m√ºzesi. Paris polisinin tarihi ve su√ß tarihi.' },
               { name: 'Mus√©e de la R√©sistance', category: 'M√ºze', desc: 'Direni≈ü m√ºzesi. ƒ∞kinci D√ºnya Sava≈üƒ± direni≈ü hareketi.' },
               { name: 'Mus√©e de la Lib√©ration', category: 'M√ºze', desc: 'Kurtulu≈ü m√ºzesi. Paris\'in Nazi i≈ügalinden kurtulu≈üu.' },
               { name: 'Mus√©e de la Grande Guerre', category: 'M√ºze', desc: 'B√ºy√ºk Sava≈ü m√ºzesi. Birinci D√ºnya Sava≈üƒ± tarihi.' },
               { name: 'Mus√©e de l\'Air et de l\'Espace', category: 'M√ºze', desc: 'Havacƒ±lƒ±k m√ºzesi. U√ßaklar ve uzay ara√ßlarƒ± sergilenir.' }
             ],
             'london': [
               { name: 'Big Ben', category: 'Saat Kulesi', desc: 'Londra\'nƒ±n simgesi olan √ºnl√º saat kulesi. Westminster Sarayƒ±\'nƒ±n bir par√ßasƒ± olan bu gotik yapƒ±, Thames Nehri kƒ±yƒ±sƒ±nda yer alƒ±r.' },
               { name: 'Buckingham Sarayƒ±', category: 'Saray', desc: 'ƒ∞ngiliz kraliyet ailesinin resmi ikametgahƒ±. N√∂bet deƒüi≈üimi t√∂reni ve g√∂rkemli mimarisiyle ziyaret√ßilerin ilgisini √ßeker.' },
               { name: 'Tower Bridge', category: 'K√∂pr√º', desc: 'Londra\'nƒ±n en √ºnl√º k√∂pr√ºs√º. Viktoryen d√∂neminin m√ºhendislik harikasƒ± olan bu a√ßƒ±lƒ±r k√∂pr√º, Thames Nehri √ºzerinde yer alƒ±r.' },
               { name: 'British Museum', category: 'M√ºze', desc: 'D√ºnyanƒ±n en eski ve en kapsamlƒ± m√ºzelerinden biri. Rosetta Ta≈üƒ±, Mƒ±sƒ±r mumyalarƒ± ve antik Yunan heykelleri gibi paha bi√ßilmez eserler barƒ±ndƒ±rƒ±r.' },
               { name: 'London Eye', category: 'D√∂nme Dolap', desc: '135 metre y√ºksekliƒüindeki dev d√∂nme dolap. Thames Nehri kƒ±yƒ±sƒ±nda yer alan bu modern yapƒ±, Londra\'nƒ±n 360 derece panoramik manzarasƒ±nƒ± sunar.' },
               { name: 'Hyde Park', category: 'Park', desc: 'Londra\'nƒ±n en b√ºy√ºk parklarƒ±ndan biri. Serpentine G√∂l√º, Speaker\'s Corner ve Diana Anƒ±sƒ± ile √ºnl√º olan park, ≈üehrin ye≈üil ciƒüeri.' },
               { name: 'Westminster Abbey', category: 'Dini Yapƒ±', desc: 'ƒ∞ngiliz krallarƒ±nƒ±n ta√ß giyme t√∂renleri ve d√ºƒü√ºnlerinin yapƒ±ldƒ±ƒüƒ± tarihi manastƒ±r. Gotik mimarinin muhte≈üem √∂rneƒüi.' },
               { name: 'Tate Modern', category: 'M√ºze', desc: 'Modern sanatƒ±n en √∂nemli eserlerini barƒ±ndƒ±ran m√ºze. Eski bir elektrik santralinde kurulmu≈ü olan m√ºze, Thames Nehri kƒ±yƒ±sƒ±nda yer alƒ±r.' }
             ],
             'rome': [
               { name: 'Kolezyum', category: 'Antik Yapƒ±', desc: 'Roma ƒ∞mparatorluƒüu\'nun en b√ºy√ºk amfitiyatrosu. Gladyat√∂r d√∂v√º≈ülerinin yapƒ±ldƒ±ƒüƒ± bu tarihi yapƒ±, antik d√ºnyanƒ±n m√ºhendislik harikasƒ±.' },
               { name: 'Vatikan M√ºzeleri', category: 'M√ºze', desc: 'D√ºnyanƒ±n en zengin sanat koleksiyonlarƒ±ndan birine sahip m√ºze kompleksi. Sistine ≈ûapeli ve Michelangelo\'nun freskleri burada yer alƒ±r.' },
               { name: 'Trevi √áe≈ümesi', category: '√áe≈üme', desc: 'Roma\'nƒ±n en √ºnl√º √ße≈ümesi. Barok tarzƒ±nda in≈üa edilen bu muhte≈üem √ße≈ümeye bozuk para atmak ≈üans getirdiƒüine inanƒ±lƒ±r.' },
               { name: 'Pantheon', category: 'Antik Yapƒ±', desc: 'Roma\'nƒ±n en iyi korunmu≈ü antik yapƒ±sƒ±. M.S. 126 yƒ±lƒ±nda in≈üa edilen bu tapƒ±nak, kubbeli mimarinin en erken √∂rneklerinden biri.' },
               { name: 'Forum Romanum', category: 'Antik Alan', desc: 'Antik Roma\'nƒ±n siyasi, ticari ve sosyal merkezi. Tapƒ±naklar, bazilika ve kemerlerin kalƒ±ntƒ±larƒ± Roma ƒ∞mparatorluƒüu\'nun ihti≈üamƒ±nƒ± g√∂zler √∂n√ºne serer.' },
               { name: 'ƒ∞spanyol Merdivenleri', category: 'Meydan', desc: '135 basamaklƒ± √ºnl√º merdivenler. Trinit√† dei Monti kilisesine √ßƒ±kan bu merdivenler, Roma\'nƒ±n en pop√ºler bulu≈üma noktalarƒ±ndan biri.' },
               { name: 'Castel Sant\'Angelo', category: 'Kale', desc: 'Tiber Nehri kƒ±yƒ±sƒ±nda yer alan silindirik kale. Ba≈ülangƒ±√ßta Hadrian\'ƒ±n mezarƒ± olarak in≈üa edilen yapƒ±, daha sonra papa kalesi olarak kullanƒ±ldƒ±.' },
               { name: 'Villa Borghese', category: 'Park', desc: 'Roma\'nƒ±n en b√ºy√ºk parkƒ±. ƒ∞√ßinde Borghese Galerisi, hayvanat bah√ßesi ve g√∂l bulunan bu park, ≈üehrin ye≈üil oazƒ±.' }
             ],
             'tokyo': [
               { name: 'Tokyo Skytree', category: 'Kule', desc: '634 metre y√ºksekliƒüindeki televizyon kulesi. Tokyo\'nun modern simgesi olan bu yapƒ±, ≈üehrin panoramik manzarasƒ±nƒ± sunar.' },
               { name: 'Senso-ji Tapƒ±naƒüƒ±', category: 'Tapƒ±nak', desc: 'Tokyo\'nun en eski Budist tapƒ±naƒüƒ±. Asakusa b√∂lgesinde yer alan bu tapƒ±nak, geleneksel Japon mimarisinin g√ºzel bir √∂rneƒüi.' },
               { name: 'Shibuya Ge√ßidi', category: 'Kav≈üak', desc: 'D√ºnyanƒ±n en kalabalƒ±k yaya ge√ßidi. Her g√ºn milyonlarca insanƒ±n ge√ßtiƒüi bu kav≈üak, modern Tokyo\'nun sembol√º.' },
               { name: 'Meiji Tapƒ±naƒüƒ±', category: 'Tapƒ±nak', desc: 'ƒ∞mparator Meiji ve ƒ∞mparatori√ße Shoken\'in anƒ±sƒ±na in≈üa edilen Shinto tapƒ±naƒüƒ±. ≈ûehrin ortasƒ±nda yer alan huzurlu bir oaz.' },
               { name: 'Tsukiji Balƒ±k Pazarƒ±', category: 'Pazar', desc: 'D√ºnyanƒ±n en b√ºy√ºk balƒ±k pazarƒ±. Taze sushi ve sashimi i√ßin en iyi adres olan bu pazar, Japon mutfak k√ºlt√ºr√ºn√ºn kalbi.' },
               { name: 'ƒ∞mparatorluk Sarayƒ±', category: 'Saray', desc: 'Japon ƒ∞mparatoru\'nun ikametgahƒ±. Geleneksel Japon bah√ßeleri ve tarihi yapƒ±larƒ±yla √ßevrili olan saray, Tokyo\'nun merkezinde yer alƒ±r.' },
               { name: 'Harajuku', category: 'Mahalle', desc: 'Gen√ßlik k√ºlt√ºr√º ve modanƒ±n merkezi. Renkli kost√ºmler, manga k√ºlt√ºr√º ve alternatif moda trendlerinin bulu≈üma noktasƒ±.' },
               { name: 'Ueno Parkƒ±', category: 'Park', desc: 'Tokyo\'nun k√ºlt√ºr merkezi. ƒ∞√ßinde m√ºzeler, hayvanat bah√ßesi ve bahar aylarƒ±nda kiraz √ßi√ßekleri bulunan bu park, ≈üehrin k√ºlt√ºrel kalbi.' }
             ],
             'istanbul': [
               { name: 'Ayasofya', category: 'Tarihi Yapƒ±', desc: 'Bizans ve Osmanlƒ± mimarisinin muhte≈üem sentezi. 1500 yƒ±llƒ±k bu yapƒ±, ƒ∞stanbul\'un en √∂nemli simgelerinden biri.' },
               { name: 'Sultanahmet Camii', category: 'Cami', desc: 'Altƒ± minaresi ile √ºnl√º Mavi Cami. ƒ∞√ßindeki mavi √ßiniler ve g√∂rkemli mimarisi ile Osmanlƒ± sanatƒ±nƒ±n en g√ºzel √∂rneƒüi.' },
               { name: 'Topkapƒ± Sarayƒ±', category: 'Saray', desc: 'Osmanlƒ± padi≈üahlarƒ±nƒ±n 400 yƒ±l boyunca ya≈üadƒ±ƒüƒ± saray. Hazine dairesi, harem ve muhte≈üem Boƒüaz manzarasƒ± ile √ºnl√º.' },
               { name: 'Kapalƒ±√ßar≈üƒ±', category: '√áar≈üƒ±', desc: 'D√ºnyanƒ±n en eski kapalƒ± √ßar≈üƒ±larƒ±ndan biri. 4000 d√ºkkanƒ± ile halƒ±, m√ºcevher, baharat ve hediyelik e≈üya alƒ±≈üveri≈üinin merkezi.' },
               { name: 'Galata Kulesi', category: 'Kule', desc: 'Cenevizliler tarafƒ±ndan in≈üa edilen tarihi kule. ƒ∞stanbul\'un 360 derece panoramik manzarasƒ±nƒ± sunan en g√ºzel seyir noktasƒ±.' },
               { name: 'Boƒüazi√ßi', category: 'Doƒüal G√ºzellik', desc: 'Avrupa ve Asya\'yƒ± birle≈ütiren boƒüaz. Tekne turlarƒ±, sahil y√ºr√ºy√º≈üleri ve k√∂pr√º manzaralarƒ± ile ƒ∞stanbul\'un en g√ºzel yanƒ±.' },
               { name: 'Basilika Sarnƒ±cƒ±', category: 'Tarihi Yapƒ±', desc: 'Bizans d√∂neminden kalma yeraltƒ± sarnƒ±cƒ±. 336 s√ºtunlu bu gizemli yapƒ±, ƒ∞stanbul\'un yeraltƒ± hazinelerinden biri.' },
               { name: 'Dolmabah√ße Sarayƒ±', category: 'Saray', desc: 'Osmanlƒ±\'nƒ±n son d√∂nem sarayƒ±. Barok ve neoklasik mimarinin harmanlandƒ±ƒüƒ± bu g√∂rkemli saray, Boƒüaz kƒ±yƒ±sƒ±nda yer alƒ±r.' },
               { name: 'Sultanahmet Meydanƒ±', category: 'Meydan', desc: 'ƒ∞stanbul\'un kalbi. Ayasofya, Sultanahmet Camii ve Hipodrom kalƒ±ntƒ±larƒ± ile √ßevrili tarihi meydan.' },
               { name: 'Yerebatan Sarnƒ±cƒ±', category: 'Tarihi Yapƒ±', desc: 'Bizans d√∂neminden kalma yeraltƒ± sarnƒ±cƒ±. 336 s√ºtunlu bu gizemli yapƒ±, ƒ∞stanbul\'un yeraltƒ± hazinelerinden biri.' },
               { name: 'Ortak√∂y Camii', category: 'Cami', desc: 'Boƒüaz kƒ±yƒ±sƒ±nda yer alan zarif cami. Boƒüazi√ßi K√∂pr√ºs√º manzarasƒ± ile √ºnl√º.' },
               { name: 'S√ºleymaniye Camii', category: 'Cami', desc: 'Mimar Sinan\'ƒ±n ba≈üyapƒ±tƒ±. ƒ∞stanbul\'un en b√ºy√ºk camilerinden biri.' },
               { name: 'Rumeli Hisarƒ±', category: 'Kale', desc: 'Fatih Sultan Mehmet tarafƒ±ndan in≈üa edilen tarihi kale. Boƒüaz\'ƒ±n en g√ºzel noktalarƒ±ndan biri.' },
               { name: 'Anadolu Hisarƒ±', category: 'Kale', desc: 'Osmanlƒ±\'nƒ±n ƒ∞stanbul\'u fethetmeden √∂nce in≈üa ettiƒüi kale. Boƒüaz manzarasƒ± ile √ºnl√º.' },
               { name: 'Beylerbeyi Sarayƒ±', category: 'Saray', desc: 'Boƒüaz kƒ±yƒ±sƒ±nda yer alan g√∂rkemli saray. Osmanlƒ± mimarisinin en g√ºzel √∂rneklerinden biri.' },
               { name: '√áƒ±raƒüan Sarayƒ±', category: 'Saray', desc: 'Boƒüaz kƒ±yƒ±sƒ±nda yer alan l√ºks otel. Tarihi saray yapƒ±sƒ± ve modern konforu birle≈ütirir.' },
               { name: 'Kƒ±z Kulesi', category: 'Kule', desc: 'Boƒüaz\'ƒ±n ortasƒ±nda yer alan efsanevi kule. Romantik atmosferi ile √ºnl√º.' },
               { name: 'Taksim Meydanƒ±', category: 'Meydan', desc: 'ƒ∞stanbul\'un modern kalbi. ƒ∞stiklal Caddesi\'nin ba≈ülangƒ±√ß noktasƒ±.' },
               { name: 'ƒ∞stiklal Caddesi', category: 'Cadde', desc: 'ƒ∞stanbul\'un en √ºnl√º alƒ±≈üveri≈ü ve eƒülence caddesi. Nostaljik tramvayƒ± ile √ºnl√º.' },
               { name: 'Pera M√ºzesi', category: 'M√ºze', desc: 'Beyoƒülu\'nda yer alan modern sanat m√ºzesi. K√ºlt√ºr ve sanat etkinliklerinin merkezi.' },
               { name: 'Sakƒ±p Sabancƒ± M√ºzesi', category: 'M√ºze', desc: 'Boƒüaz kƒ±yƒ±sƒ±nda yer alan √∂zel m√ºze. Osmanlƒ± ve √ßaƒüda≈ü sanat koleksiyonlarƒ±.' },
               { name: 'ƒ∞stanbul Modern', category: 'M√ºze', desc: 'Modern sanat m√ºzesi. √áaƒüda≈ü T√ºrk sanatƒ±nƒ±n en √∂nemli eserlerini sergiler.' },
               { name: 'Rahmi Ko√ß M√ºzesi', category: 'M√ºze', desc: 'End√ºstri ve teknoloji m√ºzesi. Tarihi ara√ßlar ve makineler sergilenir.' },
               { name: 'Miniat√ºrk', category: 'M√ºze', desc: 'T√ºrkiye\'nin minyat√ºr parkƒ±. √úlkenin √∂nemli yapƒ±larƒ±nƒ±n k√º√ß√ºk kopyalarƒ±.' },
               { name: 'Belgrad Ormanƒ±', category: 'Park', desc: 'ƒ∞stanbul\'un en b√ºy√ºk ye≈üil alanƒ±. Y√ºr√ºy√º≈ü ve piknik i√ßin ideal.' },
               { name: 'G√ºlhane Parkƒ±', category: 'Park', desc: 'Topkapƒ± Sarayƒ±\'nƒ±n bah√ßesi. Tarihi atmosferi ve g√ºzel manzarasƒ± ile √ºnl√º.' },
               { name: 'Emirgan Korusu', category: 'Park', desc: 'Boƒüaz kƒ±yƒ±sƒ±nda yer alan koru. Lale bah√ßeleri ve piknik alanlarƒ± ile √ºnl√º.' },
               { name: 'Bebek Sahili', category: 'Sahil', desc: 'Boƒüaz\'ƒ±n en g√ºzel sahil ≈üeridi. Kafeler ve restoranlar ile √ºnl√º.' },
               { name: 'Arnavutk√∂y', category: 'Mahalle', desc: 'Boƒüaz kƒ±yƒ±sƒ±nda yer alan tarihi mahalle. Balƒ±k restoranlarƒ± ile √ºnl√º.' },
               { name: 'Karak√∂y', category: 'Mahalle', desc: 'Tarihi liman mahallesi. Galata K√∂pr√ºs√º ve balƒ±k√ßƒ± tekneleri ile √ºnl√º.' },
               { name: 'Balat', category: 'Mahalle', desc: 'Tarihi mahalle. Renkli evleri ve otantik atmosferi ile √ºnl√º.' },
               { name: 'Fener', category: 'Mahalle', desc: 'Rum Ortodoks Patrikhanesi\'nin bulunduƒüu tarihi mahalle.' },
               { name: 'Kadƒ±k√∂y', category: 'Mahalle', desc: 'Anadolu yakasƒ±nƒ±n merkezi. Moda sahili ve canlƒ± atmosferi ile √ºnl√º.' },
               { name: '√úsk√ºdar', category: 'Mahalle', desc: 'Anadolu yakasƒ±nƒ±n tarihi merkezi. Mimar Sinan\'ƒ±n eserleri ile √ºnl√º.' },
               { name: 'Be≈üikta≈ü', category: 'Mahalle', desc: 'Boƒüaz kƒ±yƒ±sƒ±nda yer alan mahalle. Barbaros Anƒ±tƒ± ve sahili ile √ºnl√º.' },
               { name: '≈ûi≈üli', category: 'Mahalle', desc: 'Modern ƒ∞stanbul\'un merkezi. Alƒ±≈üveri≈ü merkezleri ve i≈ü merkezleri ile √ºnl√º.' },
               { name: 'Bakƒ±rk√∂y', category: 'Mahalle', desc: 'Marmara Denizi kƒ±yƒ±sƒ±nda yer alan mahalle. Sahili ve parklarƒ± ile √ºnl√º.' }
             ],
             'ankara': [
               { name: 'Anƒ±tkabir', category: 'Anƒ±t', desc: 'Mustafa Kemal Atat√ºrk\'√ºn anƒ±t mezarƒ±. T√ºrkiye\'nin en √∂nemli simgelerinden biri.' },
               { name: 'Kƒ±zƒ±lay Meydanƒ±', category: 'Meydan', desc: 'Ankara\'nƒ±n merkezi. Alƒ±≈üveri≈ü ve ula≈üƒ±m merkezi.' },
               { name: 'Ulus Meydanƒ±', category: 'Meydan', desc: 'Tarihi Ankara\'nƒ±n merkezi. Kurtulu≈ü Sava≈üƒ±\'nƒ±n y√∂netildiƒüi yer.' },
               { name: 'Ankara Kalesi', category: 'Kale', desc: 'Roma d√∂neminden kalma tarihi kale. Ankara\'nƒ±n en eski yapƒ±sƒ±.' },
               { name: 'Hacƒ± Bayram-ƒ± Veli Camii', category: 'Cami', desc: 'Ankara\'nƒ±n en √∂nemli dini yapƒ±sƒ±. Hacƒ± Bayram-ƒ± Veli\'nin t√ºrbesi.' },
               { name: 'Anadolu Medeniyetleri M√ºzesi', category: 'M√ºze', desc: 'D√ºnyanƒ±n en √∂nemli arkeoloji m√ºzelerinden biri.' },
               { name: 'Etnografya M√ºzesi', category: 'M√ºze', desc: 'T√ºrk k√ºlt√ºr√º ve etnografyasƒ± m√ºzesi.' },
               { name: 'Atakule', category: 'Kule', desc: 'Ankara\'nƒ±n simgesi olan televizyon kulesi.' },
               { name: 'Gen√ßlik Parkƒ±', category: 'Park', desc: 'Ankara\'nƒ±n en b√ºy√ºk parkƒ±. Lunapark ve g√∂l√º ile √ºnl√º.' },
               { name: 'Kuƒüulu Park', category: 'Park', desc: 'Kuƒüularƒ± ile √ºnl√º park. Ankara\'nƒ±n en g√ºzel parklarƒ±ndan biri.' }
             ],
             'izmir': [
               { name: 'Kemeraltƒ± √áar≈üƒ±sƒ±', category: '√áar≈üƒ±', desc: 'ƒ∞zmir\'in tarihi √ßar≈üƒ±sƒ±. Geleneksel alƒ±≈üveri≈ü merkezi.' },
               { name: 'Konak Meydanƒ±', category: 'Meydan', desc: 'ƒ∞zmir\'in kalbi. Saat Kulesi ile √ºnl√º.' },
               { name: 'Saat Kulesi', category: 'Anƒ±t', desc: 'ƒ∞zmir\'in simgesi olan tarihi saat kulesi.' },
               { name: 'Kadifekale', category: 'Kale', desc: 'ƒ∞zmir\'in y√ºksek tepesinde yer alan tarihi kale.' },
               { name: 'Alsancak', category: 'Mahalle', desc: 'ƒ∞zmir\'in modern mahallesi. Kordon boyu ile √ºnl√º.' },
               { name: 'Kordon', category: 'Sahil', desc: 'ƒ∞zmir\'in en g√ºzel sahil ≈üeridi. Y√ºr√ºy√º≈ü ve dinlenme yeri.' },
               { name: 'Bornova', category: 'Mahalle', desc: 'Ege √úniversitesi\'nin bulunduƒüu mahalle.' },
               { name: '√áe≈üme', category: 'Sahil', desc: 'ƒ∞zmir\'in en g√ºzel plajlarƒ±ndan biri.' },
               { name: 'Ala√ßatƒ±', category: 'Mahalle', desc: 'R√ºzgar s√∂rf√º ile √ºnl√º sahil kasabasƒ±.' },
               { name: 'Fo√ßa', category: 'Sahil', desc: 'Antik ƒ∞yon kenti. G√ºzel plajlarƒ± ile √ºnl√º.' }
             ],
             'antalya': [
               { name: 'Kalei√ßi', category: 'Tarihi Mahalle', desc: 'Antalya\'nƒ±n tarihi merkezi. Dar sokaklarƒ± ve tarihi evleri ile √ºnl√º.' },
               { name: 'Yivli Minare', category: 'Cami', desc: 'Antalya\'nƒ±n simgesi olan tarihi minare.' },
               { name: 'Hadrian Kapƒ±sƒ±', category: 'Tarihi Yapƒ±', desc: 'Roma d√∂neminden kalma zafer takƒ±.' },
               { name: 'Konyaaltƒ± Plajƒ±', category: 'Plaj', desc: 'Antalya\'nƒ±n en g√ºzel plajlarƒ±ndan biri.' },
               { name: 'Lara Plajƒ±', category: 'Plaj', desc: 'Uzun kumsalƒ± ile √ºnl√º plaj.' },
               { name: 'D√ºden ≈ûelalesi', category: 'Doƒüal G√ºzellik', desc: 'Antalya\'nƒ±n en g√ºzel ≈üelalelerinden biri.' },
               { name: 'Kur≈üunlu ≈ûelalesi', category: 'Doƒüal G√ºzellik', desc: 'Doƒüal g√ºzelliƒüi ile √ºnl√º ≈üelale.' },
               { name: 'Aspendos Tiyatrosu', category: 'Antik Tiyatro', desc: 'Roma d√∂neminden kalma antik tiyatro.' },
               { name: 'Perge Antik Kenti', category: 'Antik Kent', desc: 'Antik d√∂nemden kalma √∂nemli kent.' },
               { name: 'Side Antik Kenti', category: 'Antik Kent', desc: 'Antik d√∂nemden kalma liman kenti.' }
             ],
             'kapadokya': [
               { name: 'G√∂reme A√ßƒ±k Hava M√ºzesi', category: 'M√ºze', desc: 'UNESCO D√ºnya Mirasƒ±. Kaya kiliseleri ve freskleri ile √ºnl√º.' },
               { name: 'Peribacalarƒ±', category: 'Doƒüal G√ºzellik', desc: 'Kapadokya\'nƒ±n simgesi olan doƒüal kaya olu≈üumlarƒ±.' },
               { name: 'U√ßhisar Kalesi', category: 'Kale', desc: 'Kapadokya\'nƒ±n en y√ºksek noktasƒ±. Panoramik manzara.' },
               { name: 'Ortahisar Kalesi', category: 'Kale', desc: 'Tarihi kale. Kapadokya manzarasƒ±.' },
               { name: '√úrg√ºp', category: 'Mahalle', desc: 'Kapadokya\'nƒ±n merkezi. Turistik kasaba.' },
               { name: 'Avanos', category: 'Mahalle', desc: '√á√∂mlek√ßilik ile √ºnl√º kasaba.' },
               { name: 'Zelve Vadisi', category: 'Doƒüal G√ºzellik', desc: 'Tarihi kaya yerle≈üimleri.' },
               { name: 'Ihlara Vadisi', category: 'Doƒüal G√ºzellik', desc: 'Y√ºr√ºy√º≈ü rotasƒ± ve kaya kiliseleri.' },
               { name: 'Derinkuyu Yeraltƒ± ≈ûehri', category: 'Tarihi Yapƒ±', desc: 'Antik d√∂nemden kalma yeraltƒ± yerle≈üimi.' },
               { name: 'Kaymaklƒ± Yeraltƒ± ≈ûehri', category: 'Tarihi Yapƒ±', desc: 'Geni≈ü yeraltƒ± ≈üehri.' }
             ],
             'beijing': [
               { name: 'Yasak ≈ûehir', category: 'Saray', desc: 'Ming ve Qing hanedanlarƒ±nƒ±n 500 yƒ±l boyunca ya≈üadƒ±ƒüƒ± g√∂rkemli saray kompleksi. 9999 odasƒ± ile d√ºnyanƒ±n en b√ºy√ºk saray kompleksi.' },
               { name: '√áin Seddi', category: 'Tarihi Yapƒ±', desc: 'D√ºnyanƒ±n en uzun yapƒ±sƒ± olan √áin Seddi\'nin Beijing yakƒ±nlarƒ±ndaki b√∂l√ºm√º. 2000 yƒ±llƒ±k bu muhte≈üem savunma yapƒ±sƒ±, uzaydan g√∂r√ºlebilen tek yapƒ±.' },
               { name: 'Tiananmen Meydanƒ±', category: 'Meydan', desc: 'D√ºnyanƒ±n en b√ºy√ºk ≈üehir meydanƒ±. √áin\'in siyasi merkezi olan bu meydan, √∂nemli devlet t√∂renlerinin yapƒ±ldƒ±ƒüƒ± yer.' },
               { name: 'Cennet Tapƒ±naƒüƒ±', category: 'Tapƒ±nak', desc: 'Ming ve Qing imparatorlarƒ±nƒ±n cennet i√ßin dua ettiƒüi dairesel tapƒ±nak. Geleneksel √áin mimarisinin en g√ºzel √∂rneƒüi.' },
               { name: 'Yaz Sarayƒ±', category: 'Saray', desc: 'ƒ∞mparatorluk ailesinin yaz ikametgahƒ±. Kunming G√∂l√º ve muhte≈üem bah√ßeleriyle √áin bah√ße sanatƒ±nƒ±n en g√ºzel √∂rneƒüi.' },
               { name: 'Lama Tapƒ±naƒüƒ±', category: 'Tapƒ±nak', desc: 'Beijing\'in en √∂nemli Budist tapƒ±naƒüƒ±. Tibet Budizmi\'nin merkezi olan bu tapƒ±nak, renkli mimarisi ve huzurlu atmosferiyle √ºnl√º.' },
               { name: 'Hutong Sokaklarƒ±', category: 'Tarihi Mahalle', desc: 'Geleneksel Beijing ya≈üamƒ±nƒ±n s√ºrd√ºƒü√º dar sokaklar. Siheyuan evleri ve yerel ya≈üam k√ºlt√ºr√ºn√º deneyimleyebileceƒüiniz otantik b√∂lge.' },
               { name: 'Beihai Parkƒ±', category: 'Park', desc: 'Beijing\'in en eski imperial parkƒ±. Beyaz Pagoda ve g√∂l manzarasƒ± ile ≈üehrin en huzurlu k√∂≈üelerinden biri.' }
             ],
             'shanghai': [
               { name: 'Bund', category: 'Sahil', desc: 'Shanghai\'ƒ±n simgesi olan sahil ≈üeridi. Art Deco binalarƒ± ve modern g√∂kdelenler arasƒ±ndaki kontrast, ≈üehrin ge√ßmi≈üi ve geleceƒüini yansƒ±tƒ±r.' },
               { name: 'Oriental Pearl Tower', category: 'Kule', desc: '468 metre y√ºksekliƒüindeki futuristik televizyon kulesi. Shanghai\'ƒ±n modern simgesi olan bu kule, ≈üehrin panoramik manzarasƒ±nƒ± sunar.' },
               { name: 'Yu Garden', category: 'Bah√ße', desc: 'Ming hanedanƒ± d√∂neminden kalma geleneksel √áin bah√ßesi. Pavyonlar, g√∂letler ve kayalar ile √áin bah√ße sanatƒ±nƒ±n m√ºkemmel √∂rneƒüi.' },
               { name: 'Nanjing Road', category: 'Alƒ±≈üveri≈ü Caddesi', desc: '√áin\'in en √ºnl√º alƒ±≈üveri≈ü caddesi. Neon ƒ±≈üƒ±klarƒ±, maƒüazalar ve restoranlarla dolu olan bu cadde, Shanghai\'ƒ±n ticari kalbi.' },
               { name: 'Shanghai Tower', category: 'G√∂kdelen', desc: '632 metre y√ºksekliƒüinde √áin\'in en y√ºksek binasƒ±. Spiral tasarƒ±mƒ± ve s√ºrd√ºr√ºlebilir mimarisiyle modern m√ºhendisliƒüin harikasƒ±.' },
               { name: 'Tianzifang', category: 'Sanat Mahallesi', desc: 'Geleneksel shikumen evlerinin sanat galerilerine d√∂n√º≈üt√ºr√ºld√ºƒü√º bohemyen mahalle. Kafeler, butik maƒüazalar ve sanat at√∂lyeleri.' },
               { name: 'Huangpu Nehri', category: 'Nehir', desc: 'Shanghai\'ƒ± ikiye b√∂len nehir. Gece tekne turlarƒ± ile ≈üehrin ƒ±≈üƒ±klƒ± siluetini izlemek unutulmaz bir deneyim.' },
               { name: 'Jing\'an Temple', category: 'Tapƒ±nak', desc: 'Shanghai\'ƒ±n merkezindeki altƒ±n renkli Budist tapƒ±nak. Modern g√∂kdelenler arasƒ±nda yer alan bu tapƒ±nak, ge√ßmi≈ü ve gelecek arasƒ±nda k√∂pr√º kurar.' }
             ]
           };
           
           // √ñzel ≈üehir verisi varsa onu kullan
           const cityKey = cityName.toLowerCase();
           if (specialCities[cityKey]) {
             return specialCities[cityKey].map(place => ({
               name: place.name,
               city: cityName || 'Unknown City',
               country: selectedCountry || 'GERMANY',
               category: place.category,
               description: place.desc,
               visited: false,
               createdAt: new Date()
             }));
           }
           
           const commonAttractions = [
             { 
               suffix: 'Merkez', 
               category: '≈ûehir Merkezi', 
               desc: `${cityName} ≈üehrinin kalbi ve ana meydanƒ±. Tarihi binalar, cafeler ve restoranlarla √ßevrili olan bu b√∂lge, ≈üehrin sosyal ve k√ºlt√ºrel ya≈üamƒ±nƒ±n merkezi konumundadƒ±r. Y√ºr√ºy√º≈ü yapmak ve yerel atmosferi hissetmek i√ßin ideal bir yerdir.` 
             },
             { 
               suffix: 'M√ºzesi', 
               category: 'M√ºze', 
               desc: `${cityName} ≈üehrinin yerel tarih ve k√ºlt√ºr m√ºzesi. ≈ûehrin ge√ßmi≈üinden g√ºn√ºm√ºze kadar uzanan zengin koleksiyonu ile ziyaret√ßilere b√∂lgenin tarihini, sanatƒ±nƒ± ve k√ºlt√ºr√ºn√º tanƒ±ma fƒ±rsatƒ± sunar. Interaktif sergiler ve rehberli turlarla unutulmaz bir deneyim ya≈üayabilirsiniz.` 
             },
             { 
               suffix: 'Katedrali', 
               category: 'Dini Yapƒ±', 
               desc: `${cityName} ≈üehrinin g√∂rkemli katedrali. Gotik mimarinin en g√ºzel √∂rneklerinden biri olan bu yapƒ±, y√ºzyƒ±llardƒ±r ≈üehrin simgesi olmu≈ütur. ƒ∞√ßerisindeki vitray camlar, heykeller ve tarihi eserler g√∂r√ºlmeye deƒüerdir. Sessiz bir atmosferde ibadet edebilir veya mimariyi inceleyebilirsiniz.` 
             },
             { 
               suffix: 'Kalesi', 
               category: 'Tarihi Yapƒ±', 
               desc: `${cityName} ≈üehrinin tarihi kalesi ve surlarƒ±. Orta√ßaƒü d√∂neminden kalma bu muhte≈üem yapƒ±, ≈üehrin savunma tarihini g√∂zler √∂n√ºne serer. Kale duvarlarƒ±ndan ≈üehrin panoramik manzarasƒ±nƒ± izleyebilir, tarihi odalarƒ± gezebilir ve ge√ßmi≈üe yolculuk yapabilirsiniz.` 
             },
             { 
               suffix: 'Parkƒ±', 
               category: 'Park', 
               desc: `${cityName} ≈üehrinin en b√ºy√ºk ve en g√ºzel parkƒ±. Geni≈ü ye≈üil alanlarƒ±, y√ºr√ºy√º≈ü yollarƒ±, g√∂letleri ve √ßocuk oyun alanlarƒ± ile ailecek vakit ge√ßirmek i√ßin m√ºkemmel bir yerdir. Piknik yapabilir, spor aktivitelerine katƒ±labilir veya doƒüayla i√ß i√ße dinlenebilirsiniz.` 
             },
             { 
               suffix: '√áar≈üƒ±sƒ±', 
               category: 'Alƒ±≈üveri≈ü', 
               desc: `${cityName} ≈üehrinin geleneksel √ßar≈üƒ±sƒ± ve pazarƒ±. Yerel √ºr√ºnler, el sanatlarƒ±, taze gƒ±dalar ve hediyelik e≈üyalar bulabileceƒüiniz renkli bir alƒ±≈üveri≈ü deneyimi sunar. Pazarlƒ±k yapabilir, yerel lezzetleri tadabilir ve ≈üehrin ticari ya≈üamƒ±nƒ± yakƒ±ndan g√∂zlemleyebilirsiniz.` 
             },
             { 
               suffix: 'K√∂pr√ºs√º', 
               category: 'Mimari', 
               desc: `${cityName} ≈üehrinin tarihi k√∂pr√ºs√º. Mimari a√ßƒ±dan b√ºy√ºleyici olan bu k√∂pr√º, ≈üehrin iki yakasƒ±nƒ± birle≈ütiren √∂nemli bir ula≈üƒ±m noktasƒ±dƒ±r. K√∂pr√º √ºzerinden nehir manzarasƒ±nƒ± izleyebilir, fotoƒüraf √ßekebilir ve ≈üehrin farklƒ± a√ßƒ±lardan g√∂r√ºn√ºm√ºn√º ke≈üfedebilirsiniz.` 
             },
             { 
               suffix: 'Meydanƒ±', 
               category: 'Meydan', 
               desc: `${cityName} ≈üehrinin ana meydanƒ± ve bulu≈üma noktasƒ±. √áevresindeki tarihi binalar, heykeller ve √ße≈ümelerle ≈üehrin en canlƒ± b√∂lgelerinden biridir. Etkinlikler, festivaller ve konserler d√ºzenlenen bu meydan, yerel halkla tanƒ±≈ümak ve ≈üehrin nabzƒ±nƒ± hissetmek i√ßin ideal bir yerdir.` 
             },
             { 
               suffix: 'Sarayƒ±', 
               category: 'Saray', 
               desc: `${cityName} ≈üehrinin muhte≈üem sarayƒ±. Kraliyet ailelerinin ya≈üadƒ±ƒüƒ± bu g√∂rkemli yapƒ±, l√ºks mobilyalarƒ±, deƒüerli sanat eserleri ve b√ºy√ºleyici bah√ßeleriyle ziyaret√ßilerini b√ºy√ºler. Rehberli turlarla sarayƒ±n tarihini √∂ƒürenebilir ve aristokrat ya≈üamƒ±nƒ± ke≈üfedebilirsiniz.` 
             },
             { 
               suffix: 'Bah√ßesi', 
               category: 'Bah√ße', 
               desc: `${cityName} ≈üehrinin botanik bah√ßesi. Binlerce farklƒ± bitki t√ºr√º, egzotik √ßi√ßekler ve tematik b√∂l√ºmlerle doƒüa severlerin cenneti olan bu bah√ße, huzurlu bir atmosfer sunar. Sera b√∂l√ºmlerini gezebilir, nadir bitkileri inceleyebilir ve doƒüanƒ±n g√ºzelliƒüinde kaybolabilirsiniz.` 
             }
           ];
           
           return commonAttractions.map(attraction => ({
             name: `${cityName || 'Unknown City'} ${attraction.suffix}`,
             city: cityName || 'Unknown City',
             country: (selectedCountry || 'GERMANY').toUpperCase(),
             category: attraction.category,
             description: attraction.desc,
             visited: false,
             createdAt: new Date()
           }));
         }

         // Google Maps rota olu≈üturma fonksiyonu
           function createGoogleMapsRoute() {
            const checkboxes = document.querySelectorAll('.route-checkbox:checked');
            if (checkboxes.length < 2) {
              alert('Rota olu≈üturmak i√ßin en az 2 yer se√ßmelisiniz!');
              return;
            }
            
            const selectedPlaces = [];
            checkboxes.forEach(checkbox => {
              const name = checkbox.getAttribute('data-name');
              const city = checkbox.getAttribute('data-city');
              const country = checkbox.getAttribute('data-country');
              selectedPlaces.push(`${name}, ${city}, ${country}`);
            });
            
            if (selectedPlaces.length === 0) {
              alert('Se√ßili yer bulunamadƒ±!');
              return;
            }
            
            // Google Maps Directions URL olu≈ütur
            const origin = encodeURIComponent(selectedPlaces[0]);
            const destination = encodeURIComponent(selectedPlaces[selectedPlaces.length - 1]);
            let waypoints = '';
            
            if (selectedPlaces.length > 2) {
              const middlePoints = selectedPlaces.slice(1, -1);
              waypoints = '&waypoints=' + middlePoints.map(place => encodeURIComponent(place)).join('|');
            }
            
            const googleMapsUrl = `https://www.google.com/maps/dir/?api=1&origin=${origin}&destination=${destination}${waypoints}&travelmode=driving`;
            
            // Yeni sekmede a√ß
            window.open(googleMapsUrl, '_blank');
          }

        // DOM Cache Sistemi - Performans Optimizasyonu
        const domCache = {
          elements: new Map(),
          
          get(id) {
            if (!this.elements.has(id)) {
              const element = document.getElementById(id);
              if (element) {
                this.elements.set(id, element);
              }
            }
            return this.elements.get(id) || null;
          },
          
          clear() {
            this.elements.clear();
          },
          
          // √áoklu element se√ßimi i√ßin optimize edilmi≈ü fonksiyon
          queryAll(selector) {
            return document.querySelectorAll(selector);
          }
        };

        // Debounce fonksiyonu - API √ßaƒürƒ±larƒ±nƒ± optimize etmek i√ßin
        function debounce(func, wait) {
          let timeout;
          return function executedFunction(...args) {
            const later = () => {
              clearTimeout(timeout);
              func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
          };
        }

        // Filtre deƒüi≈üince tabloyu g√ºncelle - Optimize edilmi≈ü versiyon
        document.addEventListener('DOMContentLoaded', () => {
          const countryFilter = domCache.get('countryFilter');
          const visitedFilter = domCache.get('visitedFilter');
          
          if (countryFilter && visitedFilter) {
            // Debounced fonksiyonlar olu≈ütur
            const debouncedLoadTable = debounce(() => {
              const user = auth.currentUser;
              if (user) loadPlacesTable(user);
            }, 300);
            
            const debouncedUpdateBackground = debounce((value) => {
              if (window.enhancedBackgroundManager) {
                window.enhancedBackgroundManager.updateBackgroundForCountry(value);
              }
            }, 200);
            
            countryFilter.addEventListener('change', () => {
              debouncedLoadTable();
              debouncedUpdateBackground(countryFilter.value);
            });
            
            visitedFilter.addEventListener('change', debouncedLoadTable);
          }
          
                  // Login √∂ncesi dil deƒüi≈üikliƒüi event listener
        if (preLoginLanguage) {
          preLoginLanguage.addEventListener('change', () => {
            currentLanguage = preLoginLanguage.value;
            updatePreLoginText();
          });
        }
        

        
        // Login √∂ncesi metinleri g√ºncelle
        function updatePreLoginText() {
          const texts = {
            tr: {
              loginButtonText: 'Google ile Giri≈ü Yap',
              languageLabel: 'Dil / Language:'
            },
            en: {
              loginButtonText: 'Sign in with Google',
              languageLabel: 'Language / Dil:'
            }
          };
          
          const currentTexts = texts[currentLanguage];
          
          if (loginButtonText) {
            loginButtonText.textContent = currentTexts.loginButtonText;
          }
          
          // Dil se√ßici label'ƒ±nƒ± g√ºncelle
          const languageLabel = document.querySelector('label[for="preLoginLanguage"]');
          if (languageLabel) {
            languageLabel.textContent = currentTexts.languageLabel;
          }
        }
        
        // UI metinlerini g√ºncelle
        function updateUIText() {
          const texts = {
            tr: {
              addPlaceBtn: 'Ekle',
              addLocationBtn: 'Turistik Yerleri Ekle',
              searchBox: 'Yeni yer adƒ±...',
              locationSuggestionBox: '≈ûehir veya √ºlke adƒ±...',
              createRouteBtn: 'üó∫Ô∏è Se√ßili Yerler ƒ∞√ßin Rota Olu≈ütur',
              visitedFilter: {
                all: 'T√ºm√º',
                visited: 'Gezildi',
                notvisited: 'Gezilmedi'
              },
              tableHeaders: {
                name: 'Yer Adƒ±',
                city: '≈ûehir',
                category: 'Kategori',
                description: 'A√ßƒ±klama',
                visited: 'Ziyaret Edildi mi?',
                select: 'Rota ƒ∞√ßin Se√ß',
                maps: 'Google Maps',
                delete: 'Sil'
              }
            },
            en: {
              addPlaceBtn: 'Add',
              addLocationBtn: 'Add Tourist Places',
              searchBox: 'New place name...',
              locationSuggestionBox: 'City or country name...',
              createRouteBtn: 'üó∫Ô∏è Create Route for Selected Places',
              visitedFilter: {
                all: 'All',
                visited: 'Visited',
                notvisited: 'Not Visited'
              },
              tableHeaders: {
                name: 'Place Name',
                city: 'City',
                category: 'Category',
                description: 'Description',
                visited: 'Visited?',
                select: 'Select for Route',
                maps: 'Google Maps',
                delete: 'Delete'
              }
            }
          };
          
          const currentTexts = texts[currentLanguage];
          
          // Buton metinlerini g√ºncelle
          if (addPlaceBtn) addPlaceBtn.textContent = currentTexts.addPlaceBtn;
          if (document.getElementById('addLocationBtn')) {
            document.getElementById('addLocationBtn').textContent = currentTexts.addLocationBtn;
          }
          if (document.getElementById('createRouteBtn')) {
            document.getElementById('createRouteBtn').textContent = currentTexts.createRouteBtn;
          }
          
          // Placeholder metinlerini g√ºncelle
          if (searchBox) searchBox.placeholder = currentTexts.searchBox;
          if (document.getElementById('locationSuggestionBox')) {
            document.getElementById('locationSuggestionBox').placeholder = currentTexts.locationSuggestionBox;
          }
          
          // Filtre metinlerini g√ºncelle
          const visitedFilter = document.getElementById('visitedFilter');
          if (visitedFilter) {
            visitedFilter.options[0].text = currentTexts.visitedFilter.all;
            visitedFilter.options[1].text = currentTexts.visitedFilter.visited;
            visitedFilter.options[2].text = currentTexts.visitedFilter.notvisited;
          }
          
          // Tablo ba≈ülƒ±klarƒ±nƒ± g√ºncelle
          const tableHeaders = document.querySelectorAll('#placesTable th');
          if (tableHeaders.length >= 8) {
            tableHeaders[0].textContent = currentTexts.tableHeaders.name;
            tableHeaders[1].textContent = currentTexts.tableHeaders.city;
            tableHeaders[2].textContent = currentTexts.tableHeaders.category;
            tableHeaders[3].textContent = currentTexts.tableHeaders.description;
            tableHeaders[4].textContent = currentTexts.tableHeaders.visited;
            tableHeaders[5].textContent = currentTexts.tableHeaders.select;
            tableHeaders[6].textContent = currentTexts.tableHeaders.maps;
            tableHeaders[7].textContent = currentTexts.tableHeaders.delete;
          }
        }
        });
        
        // Sayfa tamamen y√ºklendikten sonra arka planƒ± g√ºncelle
        window.addEventListener('load', () => {
          const countryFilter = document.getElementById('countryFilter');
          if (countryFilter && window.enhancedBackgroundManager) {
            console.log('Sayfa y√ºklendi, arka plan g√ºncelleniyor:', countryFilter.value);
            window.enhancedBackgroundManager.updateBackgroundForCountry(countryFilter.value);
          }
          
          // UI metinlerini g√ºncelle
        });

        // T√ºm pop√ºler √ºlke JSON dosyalarƒ±nƒ± otomatik bul ve oku
        async function getAllPopularCountryFiles() {
          // public/json/popular-*.json dosyalarƒ±nƒ± bulmak i√ßin bir endpoint veya sabit liste gerekir
          // Burada sabit bir listeyle ilerliyoruz (daha sonra dinamik yapƒ±labilir)
          const countryFiles = [
            'popular-germany.json', 'popular-france.json', 'popular-italy.json', 'popular-spain.json', 'popular-netherlands.json',
            'popular-switzerland.json', 'popular-belgium.json', 'popular-austria.json', 'popular-poland.json', 'popular-czech-republic.json',
            'popular-hungary.json', 'popular-romania.json', 'popular-greece.json', 'popular-portugal.json', 'popular-croatia.json',
            'popular-slovenia.json', 'popular-bulgaria.json', 'popular-slovakia.json', 'popular-estonia.json', 'popular-latvia.json',
            'popular-lithuania.json', 'popular-south-korea.json', 'popular-japan.json', 'popular-turkey.json', 'popular-uk.json', 'popular-ireland.json'
          ];
          const base = '/json/';
          const all = [];
          for (const file of countryFiles) {
            try {
              const resp = await fetch(base + file);
              if (resp.ok) {
                const arr = await resp.json();
                all.push({ file, arr });
              }
            } catch {}
          }
          return all;
        }

        // T√ºm √ºlkelerin kodlarƒ±nƒ± ve isimlerini d√∂nd√ºr
        async function getAllPopularCountryCodes() {
          const all = await getAllPopularCountryFiles();
          const codes = new Set();
          all.forEach(({ arr }) => {
            arr.forEach(p => {
              if (p.country_tr) codes.add(p.country_tr.toUpperCase());
              if (p.country_en) codes.add(p.country_en.toUpperCase());
            });
          });
          return Array.from(codes).sort();
        }

        // T√ºm pop√ºler yerleri tek dizi olarak d√∂nd√ºr
        async function getAllPopularPlaces() {
          const all = await getAllPopularCountryFiles();
          return all.flatMap(({ arr }) => arr);
        }

        // √úlke dropdown'ƒ±nƒ± t√ºm pop√ºler √ºlkelerle g√ºncelle
        async function updateCountryDropdown(user, allCountryCodes) {
          const countryFilter = document.getElementById('countryFilter');
          if (!countryFilter) return;
          countryFilter.innerHTML = '';
          allCountryCodes.forEach(c => {
            const opt = document.createElement('option');
            opt.value = c;
            opt.textContent = c;
            countryFilter.appendChild(opt);
          });
          // Kullanƒ±cƒ±nƒ±n mevcut √ºlkesini koru
          if (!countryFilter.value) countryFilter.value = 'ALMANYA';
        }

        function getEnglishCountryKeySafe(country) {
          if (window.enhancedBackgroundManager && typeof window.enhancedBackgroundManager.getEnglishCountryKey === 'function') {
            return window.enhancedBackgroundManager.getEnglishCountryKey(country);
          }
          // Local fallback (kƒ±sa versiyon)
          const map = {
            't√ºrkiye': 'turkey', 'almanya': 'germany', 'fransa': 'france', 'italya': 'italy', 'ispanya': 'spain',
            'yunanistan': 'greece', 'hollanda': 'netherlands', 'bel√ßika': 'belgium', 'avusturya': 'austria',
            'isvi√ßre': 'switzerland', 'portekiz': 'portugal', '√ßek cumhuriyeti': 'czech republic', 'polonya': 'poland',
            'romanya': 'romania', 'bulgaristan': 'bulgaria', 'letonya': 'latvia', 'litvanya': 'lithuania',
            'estonya': 'estonia', 'macaristan': 'hungary', 'slovakya': 'slovakia', 'slovenya': 'slovenia',
            'hirvatistan': 'croatia', 'sƒ±rbistan': 'serbia', 'ukrayna': 'ukraine', 'norve√ß': 'norway',
            'isve√ß': 'sweden', 'finlandiya': 'finland', 'g√ºney kore': 'south korea', 'japonya': 'japan',
            '√ßin': 'china', 'abd': 'usa', 'amerika': 'usa', 'birle≈üik krallƒ±k': 'uk'
          };
          const norm = country.toLowerCase().replace(/√ß/g,'c').replace(/ƒü/g,'g').replace(/ƒ±/g,'i').replace(/√∂/g,'o').replace(/≈ü/g,'s').replace(/√º/g, 'u');
          return map[norm] || norm;
        }

        // Geli≈ümi≈ü T√ºrk√ße b√ºy√ºk harf d√∂n√º≈ü√ºm√º fonksiyonu
        function toTurkishUpper(str) {
          return str
            .replace(/i/g, 'ƒ∞')
            .replace(/ƒ±/g, 'I')
            .replace(/I/g, 'ƒ∞')
            .replace(/≈ü/g, '≈û')
            .replace(/ƒü/g, 'ƒû')
            .replace(/√º/g, '√ú')
            .replace(/√∂/g, '√ñ')
            .replace(/√ß/g, '√á')
            .toUpperCase();
        }

        // --- √úlke combobox'ƒ±nƒ± T√ºrk√ße isme g√∂re alfabetik sƒ±rala ---
        async function updateCountryDropdownWithPopularOnly() {
          const countryFilter = document.getElementById('countryFilter');
          if (!countryFilter) return;
          // 1. Pop√ºler √ºlkeleri oku
          const allPopular = await getAllPopularCountryCodes(); // normalize edilmi≈ü ƒ∞ngilizce anahtarlar
          // 2. Tekrarlarƒ± engelle
          const allCountries = Array.from(new Set(allPopular));
          // 3. T√ºrk√ße isme g√∂re sƒ±rala
          allCountries.sort((a, b) => {
            const trA = toTurkishUpper(countryNames[a]?.[currentLang] || a);
            const trB = toTurkishUpper(countryNames[b]?.[currentLang] || b);
            return trA.localeCompare(trB, 'tr');
          });
          // 4. Dropdown'u doldur
          countryFilter.innerHTML = '';
          allCountries.forEach(englishKey => {
            const opt = document.createElement('option');
            opt.value = englishKey;
            const trName = countryNames[englishKey]?.[currentLang] || englishKey;
            opt.textContent = toTurkishUpper(trName);
            countryFilter.appendChild(opt);
          });
          // Varsayƒ±lan √ºlke: ALMANYA
          if (!countryFilter.value && allCountries.includes('germany')) {
            countryFilter.value = 'germany';
            // √úlke se√ßildiƒüinde arka planƒ± g√ºncelle
            if (window.enhancedBackgroundManager) {
              console.log('Varsayƒ±lan √ºlke se√ßildi, arka plan g√ºncelleniyor:', countryFilter.value);
              setTimeout(() => {
                window.enhancedBackgroundManager.updateBackgroundForCountry(countryFilter.value);
              }, 200);
            }
          }
        }

        // --- Sayfa ilk a√ßƒ±ldƒ±ƒüƒ±nda ve kullanƒ±cƒ± deƒüi≈ütiƒüinde √ºlke dropdown'unu g√ºncelle ---
        document.addEventListener('DOMContentLoaded', () => {
          updateCountryDropdownWithPopularOnly();
        });
    </script>
    
    <!-- Settings Modal -->
    <div id="settingsModal" class="settings-modal">
        <div class="settings-modal-content">
            <div class="settings-header">
                <h2 class="settings-title">Profil</h2>
                <button class="close-btn" onclick="closeSettingsModal()">&times;</button>
            </div>
            <div class="settings-body">
                <!-- Status Messages in Modal -->
                <div id="modalStatusMessage" style="margin-bottom: 15px;"></div>
                
                <!-- Profile Section -->
                <div class="profile-section">
                    <div class="profile-info">
                        <img id="modalUserAvatar" class="profile-avatar" src="" alt="User Avatar">
                        <div class="profile-details">
                            <h3 id="modalUserName">Ki≈üisel Bilgiler</h3>
                            <p>Profil bilgilerinizi d√ºzenleyin</p>
                        </div>
                    </div>
                    <button class="edit-profile-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" />
                        </svg>
                        Profili D√ºzenle
                    </button>
                </div>
                
                <!-- Connection Settings -->
                <div class="connection-settings">
                    <h3 class="section-title">Baƒülantƒ± Ayarlarƒ±</h3>
                    
                    <div class="connection-item">
                        <div class="connection-info">
                            <svg class="connection-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                            <span class="connection-name">X'e Baƒülan</span>
                        </div>
                        <div class="toggle-switch" onclick="toggleConnection('twitter')"></div>
                    </div>
                    
                    <div class="connection-item">
                        <div class="connection-info">
                            <svg class="connection-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"/>
                            </svg>
                            <span class="connection-name">Facebook'a Baƒülan</span>
                        </div>
                        <div class="toggle-switch" onclick="toggleConnection('facebook')"></div>
                    </div>
                    
                    <div class="connection-item">
                        <div class="connection-info">
                            <svg class="connection-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                                <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                                <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z" fill="#FBBC05"/>
                                <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                            </svg>
                            <span class="connection-name">Google'a Baƒülan</span>
                        </div>
                        <div class="toggle-switch active" onclick="toggleConnection('google')"></div>
                    </div>
                </div>
                
                <!-- Account Management -->
                <div class="account-management">
                    <h3 class="section-title">Hesap Y√∂netimi</h3>
                    
                    <div class="danger-zone">

                        <p style="color: #6c757d; font-size: 12px; margin-bottom: 12px;">Hesabƒ±nƒ±zƒ± sildikten sonra geri d√∂n√º≈ü yoktur. L√ºtfen emin olun.</p>
                        <button class="delete-account-btn" onclick="deleteAccount()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
                            </svg>
                            Hesabƒ± Sil
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Settings Modal Functions
        function openSettingsModal() {
            const modal = document.getElementById('settingsModal');
            const modalUserAvatar = document.getElementById('modalUserAvatar');
            const modalUserName = document.getElementById('modalUserName');
            
            // Kullanƒ±cƒ± bilgilerini modal'a aktar
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            
            if (userAvatar && userName) {
                modalUserAvatar.src = userAvatar.src;
                modalUserName.textContent = userName.textContent;
            }
            
            // Baƒülantƒ± durumlarƒ±nƒ± kontrol et ve toggle'larƒ± g√ºncelle
            updateConnectionToggles();
            
            modal.style.display = 'block';
        }
        
        // Baƒülantƒ± durumlarƒ±nƒ± kontrol et ve toggle'larƒ± g√ºncelle
        function updateConnectionToggles() {
            const user = auth.currentUser;
            if (!user) return;
            
            console.log('=== Baƒülantƒ± Durumlarƒ± Kontrol Ediliyor ===');
            console.log('Kullanƒ±cƒ±:', user.uid);
            console.log('Provider Data:', user.providerData);
            
            // Toggle'larƒ± daha spesifik selector'larla bul
            const connectionItems = document.querySelectorAll('.connection-item');
            let twitterToggle, facebookToggle, googleToggle;
            
            connectionItems.forEach(item => {
                const connectionName = item.querySelector('.connection-name').textContent;
                const toggle = item.querySelector('.toggle-switch');
                
                if (connectionName.includes('X\'e Baƒülan')) {
                    twitterToggle = toggle;
                } else if (connectionName.includes('Facebook\'a Baƒülan')) {
                    facebookToggle = toggle;
                } else if (connectionName.includes('Google\'a Baƒülan')) {
                    googleToggle = toggle;
                }
            });
            
            // Toggle'larƒ± temizle
            if (twitterToggle) twitterToggle.classList.remove('active');
            if (facebookToggle) facebookToggle.classList.remove('active');
            if (googleToggle) googleToggle.classList.remove('active');
            
            // Provider'larƒ± kontrol et
            user.providerData.forEach(provider => {
                console.log('Provider ID:', provider.providerId);
                
                switch (provider.providerId) {
                    case 'twitter.com':
                        if (twitterToggle) {
                            twitterToggle.classList.add('active');
                            console.log('X (Twitter) baƒülantƒ±sƒ± aktif - toggle g√ºncellendi');
                        }
                        break;
                    case 'facebook.com':
                        if (facebookToggle) {
                            facebookToggle.classList.add('active');
                            console.log('Facebook baƒülantƒ±sƒ± aktif - toggle g√ºncellendi');
                        }
                        break;
                    case 'google.com':
                        if (googleToggle) {
                            googleToggle.classList.add('active');
                            console.log('Google baƒülantƒ±sƒ± aktif - toggle g√ºncellendi');
                        }
                        break;
                }
            });
            
            console.log('=== Baƒülantƒ± Durumlarƒ± G√ºncellendi ===');
        }
        
        function closeSettingsModal() {
            const modal = document.getElementById('settingsModal');
            modal.style.display = 'none';
        }
        
        async function toggleConnection(provider) {
            const event = window.event;
            const toggle = event.currentTarget;
            
            // Eƒüer toggle zaten aktifse, baƒülantƒ±yƒ± kes
            if (toggle.classList.contains('active')) {
                try {
                    const user = auth.currentUser;
                    if (user && provider === 'twitter') {
                        // Twitter baƒülantƒ±sƒ±nƒ± kes
                        const { unlink } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js');
                        await unlink(user, 'twitter.com');
                        console.log('Twitter baƒülantƒ±sƒ± kesildi');
                        showStatus('X (Twitter) baƒülantƒ±sƒ± kesildi.', 'success');
                    } else if (user && provider === 'facebook') {
                        // Facebook baƒülantƒ±sƒ±nƒ± kes
                        const { unlink } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js');
                        await unlink(user, 'facebook.com');
                        console.log('Facebook baƒülantƒ±sƒ± kesildi');
                        showStatus('Facebook baƒülantƒ±sƒ± kesildi.', 'success');
                    }
                    toggle.classList.remove('active');
                } catch (error) {
                    console.error(`${provider} baƒülantƒ±sƒ± kesilirken hata:`, error);
                    showStatus(`${provider.charAt(0).toUpperCase() + provider.slice(1)} baƒülantƒ±sƒ± kesilirken hata olu≈ütu.`, 'error');
                }
                return;
            }
            
            // Yeni baƒülantƒ± kur
            try {
                if (provider === 'twitter') {
                     console.log('=== X (Twitter) Baƒülantƒ± ƒ∞≈ülemi Ba≈ülƒ±yor ===');
                     showStatus('X (Twitter) ile baƒülanƒ±lƒ±yor...', 'info');
                     
                     console.log('TwitterAuthProvider olu≈üturuluyor...');
                     const twitterProvider = new TwitterAuthProvider();
                     console.log('TwitterAuthProvider olu≈üturuldu:', twitterProvider);
                     
                     // Eƒüer kullanƒ±cƒ± zaten giri≈ü yapmƒ±≈üsa, hesabƒ± baƒüla
                     if (auth.currentUser) {
                         console.log('Mevcut kullanƒ±cƒ± var, account linking deneniyor:', auth.currentUser.uid);
                         console.log('linkWithPopup √ßaƒürƒ±lƒ±yor...');
                         try {
                             const result = await linkWithPopup(auth.currentUser, twitterProvider);
                             console.log('X (Twitter) hesabƒ± mevcut kullanƒ±cƒ±ya baƒülandƒ±:', result.user);
                             showStatus('X (Twitter) hesabƒ±nƒ±z mevcut hesabƒ±nƒ±za ba≈üarƒ±yla baƒülandƒ±!', 'success');
                             toggle.classList.add('active');
                         } catch (linkError) {
                              console.error('=== LINK HATASI ===');
                              console.error('Hata kodu:', linkError.code);
                              console.error('Hata mesajƒ±:', linkError.message);
                              console.error('Tam hata objesi:', linkError);
                              
                              if (linkError.code === 'auth/account-exists-with-different-credential') {
                                  showStatus('Bu Twitter hesabƒ± zaten ba≈üka bir hesapla baƒülƒ±. √ñnce o hesaptan baƒülantƒ±yƒ± kesin.', 'error');
                              } else if (linkError.code === 'auth/provider-already-linked') {
                                  showStatus('Twitter hesabƒ±nƒ±z zaten bu hesaba baƒülƒ±.', 'info');
                                  toggle.classList.add('active');
                              } else if (linkError.code === 'auth/credential-already-in-use') {
                                  showStatus('‚ö†Ô∏è Bu X (Twitter) hesabƒ± zaten ba≈üka bir hesaba baƒülƒ±!\n\nüîß √á√∂z√ºm se√ßenekleri:\n‚Ä¢ Farklƒ± bir X hesabƒ± kullanƒ±n\n‚Ä¢ Mevcut baƒülantƒ±nƒ±n olduƒüu hesaba giri≈ü yapƒ±p baƒülantƒ±yƒ± kesin', 'error');
                              } else if (linkError.code === 'auth/invalid-credential') {
                                  showStatus('Twitter baƒülantƒ±sƒ±nda hata olu≈ütu. L√ºtfen tekrar deneyin veya farklƒ± bir hesap kullanƒ±n.', 'error');
                              } else if (linkError.code === 'auth/popup-closed-by-user') {
                                  showStatus('Twitter baƒülantƒ± penceresi kapatƒ±ldƒ±. L√ºtfen tekrar deneyin.', 'error');
                              } else if (linkError.code === 'auth/popup-blocked') {
                                  showStatus('Popup engellendi. L√ºtfen popup engelleyiciyi kapatƒ±n ve tekrar deneyin.', 'error');
                              } else {
                                  console.error('Bilinmeyen hata, √ºst catch\'e g√∂nderiliyor:', linkError);
                                  throw linkError; // Diƒüer hatalarƒ± √ºst catch'e g√∂nder
                              }
                              return; // Hata durumunda fonksiyondan √ßƒ±k
                          }
                     } else {
                         // Kullanƒ±cƒ± giri≈ü yapmamƒ±≈üsa normal sign in yap
                         console.log('Kullanƒ±cƒ± giri≈ü yapmamƒ±≈ü, normal sign in yapƒ±lƒ±yor');
                         console.log('signInWithPopup √ßaƒürƒ±lƒ±yor...');
                         try {
                             const result = await signInWithPopup(auth, twitterProvider);
                             console.log('X (Twitter) ile giri≈ü ba≈üarƒ±lƒ±:', result.user);
                             showStatus('X (Twitter) hesabƒ±nƒ±z ba≈üarƒ±yla baƒülandƒ±!', 'success');
                             toggle.classList.add('active');
                         } catch (signInError) {
                             console.error('=== SIGN IN HATASI ===');
                             console.error('Hata kodu:', signInError.code);
                             console.error('Hata mesajƒ±:', signInError.message);
                             console.error('Tam hata objesi:', signInError);
                             throw signInError; // √úst catch'e g√∂nder
                         }
                     }
                     
                     console.log('=== X (Twitter) Baƒülantƒ± ƒ∞≈ülemi Tamamlandƒ± ===');
                    
                } else if (provider === 'facebook') {
                    showStatus('Facebook baƒülantƒ±sƒ± hen√ºz aktif deƒüil.', 'error');
                    
                } else if (provider === 'google') {
                    // Google zaten baƒülƒ±, hi√ßbir ≈üey yapma
                    toggle.classList.add('active');
                    showStatus('Google hesabƒ±nƒ±z zaten baƒülƒ±.', 'info');
                }
                
            } catch (error) {
                console.error(`${provider} baƒülantƒ± hatasƒ±:`, error);
                
                let errorMessage = `${provider.charAt(0).toUpperCase() + provider.slice(1)} ile baƒülantƒ± kurulurken hata olu≈ütu.`;
                
                if (error.code === 'auth/popup-closed-by-user') {
                    errorMessage = 'Baƒülantƒ± i≈ülemi iptal edildi.';
                } else if (error.code === 'auth/unauthorized-domain') {
                    errorMessage = 'Bu domain i√ßin yetki yok. Firebase Console\'da domain ekleyin.';
                } else if (error.code === 'auth/operation-not-allowed') {
                    errorMessage = `${provider.charAt(0).toUpperCase() + provider.slice(1)} giri≈üi etkinle≈ütirilmemi≈ü.`;
                }
                
                showStatus(errorMessage, 'error');
            }
        }
        
        // Modal dƒ±≈üƒ±na tƒ±klandƒ±ƒüƒ±nda kapat
        window.onclick = function(event) {
            const modal = document.getElementById('settingsModal');
            if (event.target === modal) {
                closeSettingsModal();
            }
        }
        
        // Delete Account Function
        async function deleteAccount() {
            const user = auth.currentUser;
            if (!user) {
                showStatus('Kullanƒ±cƒ± oturumu bulunamadƒ±.', 'error');
                return;
            }
            
            // Onay dialogu g√∂ster
            const confirmDelete = confirm(
                'Hesabƒ±nƒ±zƒ± silmek istediƒüinizden emin misiniz?\n\n' +
                '‚ö†Ô∏è Bu i≈ülem geri alƒ±namaz!\n' +
                '‚Ä¢ T√ºm verileriniz silinecek\n' +
                '‚Ä¢ Kaydettiƒüiniz t√ºm yerler kaybolacak\n' +
                '‚Ä¢ Hesap baƒülantƒ±larƒ± kesilecek\n\n' +
                'Devam etmek i√ßin "Tamam"a basƒ±n.'
            );
            
            if (!confirmDelete) {
                showStatus('Hesap silme i≈ülemi iptal edildi.', 'info');
                return;
            }
            

            
            try {
                showStatus('Hesap siliniyor...', 'info');
                
                // Firestore fonksiyonlarƒ±nƒ± import et
                const { doc, collection, getDocs, deleteDoc } = await import('https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js');
                
                // √ñnce Firestore'daki kullanƒ±cƒ± verilerini sil
                const userDocRef = doc(db, 'users', user.uid);
                const placesCollectionRef = collection(db, 'users', user.uid, 'places');
                
                // Kullanƒ±cƒ±nƒ±n t√ºm yerlerini sil
                const placesSnapshot = await getDocs(placesCollectionRef);
                const deletePromises = placesSnapshot.docs.map(doc => deleteDoc(doc.ref));
                await Promise.all(deletePromises);
                
                // Kullanƒ±cƒ± dok√ºmanƒ±nƒ± sil
                await deleteDoc(userDocRef);
                
                // Firebase Authentication'dan kullanƒ±cƒ±yƒ± sil
                await deleteUser(user);
                
                showStatus('Hesabƒ±nƒ±z ba≈üarƒ±yla silindi. Ana sayfaya y√∂nlendiriliyorsunuz...', 'success');
                
                // Modal'ƒ± kapat ve ana sayfaya y√∂nlendir
                setTimeout(() => {
                    closeSettingsModal();
                    window.location.href = '/index.html';
                }, 2000);
                
            } catch (error) {
                console.error('Hesap silme hatasƒ±:', error);
                
                let errorMessage = 'Hesap silinirken hata olu≈ütu.';
                
                if (error.code === 'auth/requires-recent-login') {
                    errorMessage = 'G√ºvenlik nedeniyle hesabƒ± silmek i√ßin yeniden giri≈ü yapmanƒ±z gerekiyor. L√ºtfen √ßƒ±kƒ±≈ü yapƒ±p tekrar giri≈ü yapƒ±n.';
                } else if (error.code === 'permission-denied') {
                    errorMessage = 'Veri silme izni reddedildi. L√ºtfen tekrar deneyin.';
                }
                
                showStatus(errorMessage, 'error');
            }
        }
    </script>
    
    <script src="/js/enhanced-background-manager.js"></script>
</body>

</html>